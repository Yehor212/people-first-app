const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HealthConnectWeb-DYBPdPRM.js","assets/ui-vendor-KfDTkiq1.js","assets/react-vendor-IF54zLUS.js","assets/charts-PQtVkfgh.js","assets/backend-CX_x5MVl.js","assets/animations-CRFQTM8M.js","assets/web-CWvuKm9H.js","assets/web-DBQoIQvK.js","assets/web-DFRY_VOd.js","assets/WidgetWeb-DQQaSxON.js","assets/web-CCLLt_A-.js","assets/web-CZXDuTFW.js","assets/StatsPage-B40M1rjE.js","assets/SettingsPanel-TXSs386E.js","assets/switch-C8I07Bc3.js","assets/smartphone-BY6BFlKt.js","assets/GratitudeJournal-BecVoJFF.js","assets/BreathingExercise-Dem_gfJS.js","assets/ChallengesPanel-BuRwV57O.js","assets/TasksPanel-BmVeYiYQ.js","assets/QuestsPanel-CSKT8s3S.js","assets/WidgetSettings-DOTvm1ns.js","assets/Leaderboard-CM7j2gvZ.js"])))=>i.map(i=>d[i]);
import{j as jsxRuntimeExports,V as Viewport,R as Root2,A as Action,C as Close,T as Title,D as Description,P as Provider$1,c as createContextScope,b as createPopperScope,u as useComposedRefs,d as Anchor,e as Primitive,f as composeEventHandlers,g as Presence,h as DismissableLayer,i as Content,k as Root$1,l as Arrow,m as createSlottable,O as Overlay,n as Content$1,o as Close$1,p as Title$1,q as Description$1,r as Root$2,s as Trigger,t as Portal,S as Slot,L as List,v as Trigger$1,w as Content$2,x as Root2$1}from"./ui-vendor-KfDTkiq1.js";import{a as reactDomExports,r as reactExports,R as React,b as ReactDOM,g as getDefaultExportFromCjs,d as commonjsGlobal,u as useLocation,B as BrowserRouter,e as Routes,f as Route}from"./react-vendor-IF54zLUS.js";import{c as clsx}from"./charts-PQtVkfgh.js";import{D as Dexie,c as createClient}from"./backend-CX_x5MVl.js";import{A as AnimatePresence,m as motion}from"./animations-CRFQTM8M.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;const TOAST_LIMIT=1,TOAST_REMOVE_DELAY=1e6;let count=0;function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}const toastTimeouts=new Map,addToRemoveQueue=e=>{if(toastTimeouts.has(e))return;const r=setTimeout(()=>{toastTimeouts.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},TOAST_REMOVE_DELAY);toastTimeouts.set(e,r)},reducer=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,TOAST_LIMIT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(i=>i.id===r.toast.id?{...i,...r.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=r;return i?addToRemoveQueue(i):e.toasts.forEach(n=>{addToRemoveQueue(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===i||i===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==r.toastId)}}},listeners$2=[];let memoryState={toasts:[]};function dispatch(e){memoryState=reducer(memoryState,e),listeners$2.forEach(r=>{r(memoryState)})}function toast({...e}){const r=genId(),i=a=>dispatch({type:"UPDATE_TOAST",toast:{...a,id:r}}),n=()=>dispatch({type:"DISMISS_TOAST",toastId:r});return dispatch({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:a=>{a||n()}}}),{id:r,dismiss:n,update:i}}function useToast(){const[e,r]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners$2.push(r),()=>{const i=listeners$2.indexOf(r);i>-1&&listeners$2.splice(i,1)}),[e]),{...e,toast,dismiss:i=>dispatch({type:"DISMISS_TOAST",toastId:i})}}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,r)=>i=>{var n;if(r?.variants==null)return cx(e,i?.class,i?.className);const{variants:a,defaultVariants:o}=r,l=Object.keys(a).map(p=>{const g=i?.[p],y=o?.[p];if(g===null)return null;const x=falsyToString(g)||falsyToString(y);return a[p][x]}),c=i&&Object.entries(i).reduce((p,g)=>{let[y,x]=g;return x===void 0||(p[y]=x),p},{}),d=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((p,g)=>{let{class:y,className:x,...S}=g;return Object.entries(S).every(b=>{let[T,N]=b;return Array.isArray(N)?N.includes({...o,...c}[T]):{...o,...c}[T]===N})?[...p,y,x]:p},[]);return cx(e,l,d,i?.class,i?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...e)=>e.filter((r,i,n)=>!!r&&r.trim()!==""&&n.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:l,...c},d)=>reactExports.createElement("svg",{ref:d,...defaultAttributes,width:r,height:r,stroke:e,strokeWidth:n?Number(i)*24/Number(r):i,className:mergeClasses("lucide",a),...c},[...l.map(([p,g])=>reactExports.createElement(p,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(e,r)=>{const i=reactExports.forwardRef(({className:n,...a},o)=>reactExports.createElement(Icon,{ref:o,iconNode:r,className:mergeClasses(`lucide-${toKebabCase(e)}`,n),...a}));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Award=createLucideIcon("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BellOff=createLucideIcon("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CloudOff=createLucideIcon("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cloud=createLucideIcon("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coffee=createLucideIcon("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cookie=createLucideIcon("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Flame=createLucideIcon("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hand=createLucideIcon("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const House=createLucideIcon("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Image$1=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Leaf=createLucideIcon("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lightbulb=createLucideIcon("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ListTodo=createLucideIcon("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader=createLucideIcon("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moon=createLucideIcon("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Music=createLucideIcon("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Palette=createLucideIcon("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenLine=createLucideIcon("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings2=createLucideIcon("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Share2=createLucideIcon("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shuffle=createLucideIcon("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Smile=createLucideIcon("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sparkles=createLucideIcon("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sun=createLucideIcon("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Target=createLucideIcon("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Timer=createLucideIcon("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingDown=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trophy=createLucideIcon("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Volume2=createLucideIcon("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VolumeX=createLucideIcon("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WifiOff=createLucideIcon("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wind=createLucideIcon("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const r=createClassMap(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const c=l.split(CLASS_PART_SEPARATOR);return c[0]===""&&c.length!==1&&c.shift(),getGroupRecursive(c,r)||getGroupIdForArbitraryProperty(l)},getConflictingClassGroupIds:(l,c)=>{const d=i[l]||[];return c&&n[l]?[...d,...n[l]]:d}}},getGroupRecursive=(e,r)=>{if(e.length===0)return r.classGroupId;const i=e[0],n=r.nextPart.get(i),a=n?getGroupRecursive(e.slice(1),n):void 0;if(a)return a;if(r.validators.length===0)return;const o=e.join(CLASS_PART_SEPARATOR);return r.validators.find(({validator:l})=>l(o))?.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const r=arbitraryPropertyRegex.exec(e)[1],i=r?.substring(0,r.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=e=>{const{theme:r,prefix:i}=e,n={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(e.classGroups),i).forEach(([o,l])=>{processClassesRecursively(l,n,o,r)}),n},processClassesRecursively=(e,r,i,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?r:getPart(r,a);o.classGroupId=i;return}if(typeof a=="function"){if(isThemeGetter(a)){processClassesRecursively(a(n),r,i,n);return}r.validators.push({validator:a,classGroupId:i});return}Object.entries(a).forEach(([o,l])=>{processClassesRecursively(l,getPart(r,o),i,n)})})},getPart=(e,r)=>{let i=e;return r.split(CLASS_PART_SEPARATOR).forEach(n=>{i.nextPart.has(n)||i.nextPart.set(n,{nextPart:new Map,validators:[]}),i=i.nextPart.get(n)}),i},isThemeGetter=e=>e.isThemeGetter,getPrefixedClassGroupEntries=(e,r)=>r?e.map(([i,n])=>{const a=n.map(o=>typeof o=="string"?r+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[r+l,c])):o);return[i,a]}):e,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,i=new Map,n=new Map;const a=(o,l)=>{i.set(o,l),r++,r>e&&(r=0,n=i,i=new Map)};return{get(o){let l=i.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return a(o,l),l},set(o,l){i.has(o)?i.set(o,l):a(o,l)}}},IMPORTANT_MODIFIER="!",createParseClassName=e=>{const{separator:r,experimentalParseClassName:i}=e,n=r.length===1,a=r[0],o=r.length,l=c=>{const d=[];let p=0,g=0,y;for(let N=0;N<c.length;N++){let k=c[N];if(p===0){if(k===a&&(n||c.slice(N,N+o)===r)){d.push(c.slice(g,N)),g=N+o;continue}if(k==="/"){y=N;continue}}k==="["?p++:k==="]"&&p--}const x=d.length===0?c:c.substring(g),S=x.startsWith(IMPORTANT_MODIFIER),b=S?x.substring(1):x,T=y&&y>g?y-g:void 0;return{modifiers:d,hasImportantModifier:S,baseClassName:b,maybePostfixModifierPosition:T}};return i?c=>i({className:c,parseClassName:l}):l},sortModifiers=e=>{if(e.length<=1)return e;const r=[];let i=[];return e.forEach(n=>{n[0]==="["?(r.push(...i.sort(),n),i=[]):i.push(n)}),r.push(...i.sort()),r},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,r)=>{const{parseClassName:i,getClassGroupId:n,getConflictingClassGroupIds:a}=r,o=[],l=e.trim().split(SPLIT_CLASSES_REGEX);let c="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{modifiers:g,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:S}=i(p);let b=!!S,T=n(b?x.substring(0,S):x);if(!T){if(!b){c=p+(c.length>0?" "+c:c);continue}if(T=n(x),!T){c=p+(c.length>0?" "+c:c);continue}b=!1}const N=sortModifiers(g).join(":"),k=y?N+IMPORTANT_MODIFIER:N,C=k+T;if(o.includes(C))continue;o.push(C);const A=a(T,b);for(let R=0;R<A.length;++R){const I=A[R];o.push(k+I)}c=p+(c.length>0?" "+c:c)}return c};function twJoin(){let e=0,r,i,n="";for(;e<arguments.length;)(r=arguments[e++])&&(i=toValue(r))&&(n&&(n+=" "),n+=i);return n}const toValue=e=>{if(typeof e=="string")return e;let r,i="";for(let n=0;n<e.length;n++)e[n]&&(r=toValue(e[n]))&&(i&&(i+=" "),i+=r);return i};function createTailwindMerge(e,...r){let i,n,a,o=l;function l(d){const p=r.reduce((g,y)=>y(g),e());return i=createConfigUtils(p),n=i.cache.get,a=i.cache.set,o=c,c(d)}function c(d){const p=n(d);if(p)return p;const g=mergeClassList(d,i);return a(d,g),g}return function(){return o(twJoin.apply(null,arguments))}}const fromTheme=e=>{const r=i=>i[e]||[];return r.isThemeGetter=!0,r},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=e=>isNumber$1(e)||stringLengths.has(e)||fractionRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,"length",isLengthOnly),isNumber$1=e=>!!e&&!Number.isNaN(Number(e)),isArbitraryNumber=e=>getIsArbitraryValue(e,"number",isNumber$1),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber$1(e.slice(0,-1)),isArbitraryValue=e=>arbitraryValueRegex.test(e),isTshirtSize=e=>tshirtUnitRegex.test(e),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=e=>getIsArbitraryValue(e,sizeLabels,isNever),isArbitraryPosition=e=>getIsArbitraryValue(e,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=e=>getIsArbitraryValue(e,imageLabels,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(e,r,i)=>{const n=arbitraryValueRegex.exec(e);return n?n[1]?typeof r=="string"?n[1]===r:r.has(n[1]):i(n[2]):!1},isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),getDefaultConfig=()=>{const e=fromTheme("colors"),r=fromTheme("spacing"),i=fromTheme("blur"),n=fromTheme("brightness"),a=fromTheme("borderColor"),o=fromTheme("borderRadius"),l=fromTheme("borderSpacing"),c=fromTheme("borderWidth"),d=fromTheme("contrast"),p=fromTheme("grayscale"),g=fromTheme("hueRotate"),y=fromTheme("invert"),x=fromTheme("gap"),S=fromTheme("gradientColorStops"),b=fromTheme("gradientColorStopPositions"),T=fromTheme("inset"),N=fromTheme("margin"),k=fromTheme("opacity"),C=fromTheme("padding"),A=fromTheme("saturate"),R=fromTheme("scale"),I=fromTheme("sepia"),F=fromTheme("skew"),z=fromTheme("space"),B=fromTheme("translate"),Z=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",isArbitraryValue,r],q=()=>[isArbitraryValue,r],Y=()=>["",isLength,isArbitraryLength],fe=()=>["auto",isNumber$1,isArbitraryValue],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",isArbitraryValue],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[isNumber$1,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:W(),borderColor:[e],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:q(),borderWidth:Y(),contrast:W(),grayscale:O(),hueRotate:W(),invert:O(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:U(),margin:U(),opacity:W(),padding:q(),saturate:W(),scale:W(),sepia:O(),skew:W(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),isArbitraryValue]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,r]}],"min-w":[{"min-w":[isArbitraryValue,r,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,r,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,r,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$1,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:H()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[A]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig),urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let nanoid=(e=21)=>{let r="",i=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)r+=urlAlphabet[i[e]&63];return r};function cn(...e){return twMerge(clsx(e))}function formatDate$1(e){const r=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${r}-${i}-${n}`}function getToday$1(){return formatDate$1(new Date)}function generateId$1(){return nanoid()}function formatTime(e){const r=Math.floor(e/60),i=e%60;return`${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}function getDaysInMonth(e,r){return new Date(e,r+1,0).getDate()}function calculateStreak(e){if(e.length===0)return 0;const r=[...e].sort().reverse(),i=getToday$1(),n=formatDate$1(new Date(Date.now()-864e5));if(r[0]!==i&&r[0]!==n)return 0;let a=1;for(let o=1;o<r.length;o++){const l=new Date(r[o-1]),c=new Date(r[o]);if(Math.floor((l.getTime()-c.getTime())/864e5)===1)a++;else break}return a}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Viewport,{ref:i,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));ToastViewport.displayName=Viewport.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:e,variant:r,...i},n)=>jsxRuntimeExports.jsx(Root2,{ref:n,className:cn(toastVariants({variant:r}),e),...i}));Toast.displayName=Root2.displayName;const ToastAction=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Action,{ref:i,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...r}));ToastAction.displayName=Action.displayName;const ToastClose=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Close,{ref:i,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:jsxRuntimeExports.jsx(X,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Title,{ref:i,className:cn("text-sm font-semibold",e),...r}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Description,{ref:i,className:cn("text-sm opacity-90",e),...r}));ToastDescription.displayName=Description.displayName;function Toaster$1(){const{toasts:e}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[e.map(function({id:r,title:i,description:n,action:a,...o}){return jsxRuntimeExports.jsxs(Toast,{...o,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[i&&jsxRuntimeExports.jsx(ToastTitle,{children:i}),n&&jsxRuntimeExports.jsx(ToastDescription,{children:n})]}),a,jsxRuntimeExports.jsx(ToastClose,{})]},r)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}var P=["light","dark"],E="(prefers-color-scheme: dark)",L=reactExports.createContext(void 0),D={setTheme:e=>{},themes:[]},j=()=>{var e;return(e=reactExports.useContext(L))!=null?e:D};reactExports.memo(({forcedTheme:e,storageKey:r,attribute:i,enableSystem:n,enableColorScheme:a,defaultTheme:o,value:l,attrs:c,nonce:d})=>{let p=o==="system",g=i==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${i}',s='setAttribute';`,y=a?P.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",x=(b,T=!1,N=!0)=>{let k=l?l[b]:b,C=T?b+"|| ''":`'${k}'`,A="";return a&&N&&!T&&P.includes(b)&&(A+=`d.style.colorScheme = '${b}';`),i==="class"?T||k?A+=`c.add(${C})`:A+="null":k&&(A+=`d[s](n,${C})`),A},S=e?`!function(){${g}${x(e)}}()`:n?`!function(){try{${g}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${p})){var t='${E}',m=window.matchMedia(t);if(m.media!==t||m.matches){${x("dark")}}else{${x("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${x(l?"x[e]":"e",!0)}}${p?"":"else{"+x(o,!1,!1)+"}"}${y}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${r}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${x(l?"x[e]":"e",!0)}}else{${x(o,!1,!1)};}${y}}catch(t){}}();`;return reactExports.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:S}})});var jt=e=>{switch(e){case"success":return ee;case"info":return ae;case"warning":return oe;case"error":return se;default:return null}},te=Array(12).fill(0),Yt=({visible:e,className:r})=>React.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":e},React.createElement("div",{className:"sonner-spinner"},te.map((i,n)=>React.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ee=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oe=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ae=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),se=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ot=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ft=()=>{let[e,r]=React.useState(document.hidden);return React.useEffect(()=>{let i=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),e},bt=1,yt=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:i,...n}=e,a=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:bt++,o=this.toasts.find(c=>c.id===a),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...e,id:a,title:i}),{...c,...e,id:a,dismissible:l,title:i}):c):this.addToast({title:i,...n,dismissible:l,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let n=e instanceof Promise?e:e(),a=i!==void 0,o,l=n.then(async d=>{if(o=["resolve",d],React.isValidElement(d))a=!1,this.create({id:i,type:"default",message:d});else if(ie(d)&&!d.ok){a=!1;let p=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description;this.create({id:i,type:"error",message:p,description:g})}else if(r.success!==void 0){a=!1;let p=typeof r.success=="function"?await r.success(d):r.success,g=typeof r.description=="function"?await r.description(d):r.description;this.create({id:i,type:"success",message:p,description:g})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){a=!1;let p=typeof r.error=="function"?await r.error(d):r.error,g=typeof r.description=="function"?await r.description(d):r.description;this.create({id:i,type:"error",message:p,description:g})}}).finally(()=>{var d;a&&(this.dismiss(i),i=void 0),(d=r.finally)==null||d.call(r)}),c=()=>new Promise((d,p)=>l.then(()=>o[0]==="reject"?p(o[1]):d(o[1])).catch(p));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(e,r)=>{let i=r?.id||bt++;return this.create({jsx:e(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},v$1=new yt,ne=(e,r)=>{let i=r?.id||bt++;return v$1.addToast({title:e,...r,id:i}),i},ie=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",le=ne,ce=()=>v$1.toasts,de=()=>v$1.getActiveToasts(),ue=Object.assign(le,{success:v$1.success,info:v$1.info,warning:v$1.warning,error:v$1.error,custom:v$1.custom,message:v$1.message,promise:v$1.promise,dismiss:v$1.dismiss,loading:v$1.loading},{getHistory:ce,getToasts:de});function wt(e,{insertAt:r}={}){if(typeof document>"u")return;let i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r==="top"&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}wt(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tt(e){return e.label!==void 0}var pe=3,me="32px",ge="16px",Wt=4e3,he=356,be=14,ye=20,we=200;function M(...e){return e.filter(Boolean).join(" ")}function xe(e){let[r,i]=e.split("-"),n=[];return r&&n.push(r),i&&n.push(i),n}var ve=e=>{var r,i,n,a,o,l,c,d,p,g,y;let{invert:x,toast:S,unstyled:b,interacting:T,setHeights:N,visibleToasts:k,heights:C,index:A,toasts:R,expanded:I,removeToast:F,defaultRichColors:z,closeButton:B,style:Z,cancelButtonStyle:re,actionButtonStyle:U,className:q="",descriptionClassName:Y="",duration:fe,position:Q,gap:H,loadingIcon:G,expandByDefault:_,classNames:O,icons:V,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:K}=e,[Ee,Se]=React.useState(null),[Ce,De]=React.useState(null),[Fe,qe]=React.useState(!1),[Je,et]=React.useState(!1),[Ke,ct]=React.useState(!1),[Ve,Me]=React.useState(!1),[at,st]=React.useState(!1),[ot,lt]=React.useState(0),[Ae,Ne]=React.useState(0),He=React.useRef(S.duration||fe||Wt),Qe=React.useRef(null),Ue=React.useRef(null),it=A===0,Pe=A+1<=k,ze=S.type,Ye=S.dismissible!==!1,Tt=S.className||"",At=S.descriptionClassName||"",Nt=React.useMemo(()=>C.findIndex(Ge=>Ge.toastId===S.id)||0,[C,S.id]),ts=React.useMemo(()=>{var Ge;return(Ge=S.closeButton)!=null?Ge:B},[S.closeButton,B]),as=React.useMemo(()=>S.duration||fe||Wt,[S.duration,fe]),Zt=React.useRef(0),It=React.useRef(0),Mt=React.useRef(0),Et=React.useRef(null),[ls,ss]=Q.split("-"),cs=React.useMemo(()=>C.reduce((Ge,We,rt)=>rt>=Nt?Ge:Ge+We.height,0),[C,Nt]),Qt=Ft(),Jt=S.invert||x,rs=ze==="loading";It.current=React.useMemo(()=>Nt*H+cs,[Nt,cs]),React.useEffect(()=>{He.current=as},[as]),React.useEffect(()=>{qe(!0)},[]),React.useEffect(()=>{let Ge=Ue.current;if(Ge){let We=Ge.getBoundingClientRect().height;return Ne(We),N(rt=>[{toastId:S.id,height:We,position:S.position},...rt]),()=>N(rt=>rt.filter(Lt=>Lt.toastId!==S.id))}},[N,S.id]),React.useLayoutEffect(()=>{if(!Fe)return;let Ge=Ue.current,We=Ge.style.height;Ge.style.height="auto";let rt=Ge.getBoundingClientRect().height;Ge.style.height=We,Ne(rt),N(Lt=>Lt.find(ft=>ft.toastId===S.id)?Lt.map(ft=>ft.toastId===S.id?{...ft,height:rt}:ft):[{toastId:S.id,height:rt,position:S.position},...Lt])},[Fe,S.title,S.description,N,S.id]);let Ct=React.useCallback(()=>{et(!0),lt(It.current),N(Ge=>Ge.filter(We=>We.toastId!==S.id)),setTimeout(()=>{F(S)},we)},[S,F,N,It]);React.useEffect(()=>{if(S.promise&&ze==="loading"||S.duration===1/0||S.type==="loading")return;let Ge;return I||T||K&&Qt?(()=>{if(Mt.current<Zt.current){let We=new Date().getTime()-Zt.current;He.current=He.current-We}Mt.current=new Date().getTime()})():He.current!==1/0&&(Zt.current=new Date().getTime(),Ge=setTimeout(()=>{var We;(We=S.onAutoClose)==null||We.call(S,S),Ct()},He.current)),()=>clearTimeout(Ge)},[I,T,S,ze,K,Qt,Ct]),React.useEffect(()=>{S.delete&&Ct()},[Ct,S.delete]);function us(){var Ge,We,rt;return V!=null&&V.loading?React.createElement("div",{className:M(O?.loader,(Ge=S?.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":ze==="loading"},V.loading):G?React.createElement("div",{className:M(O?.loader,(We=S?.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":ze==="loading"},G):React.createElement(Yt,{className:M(O?.loader,(rt=S?.classNames)==null?void 0:rt.loader),visible:ze==="loading"})}return React.createElement("li",{tabIndex:0,ref:Ue,className:M(q,Tt,O?.toast,(r=S?.classNames)==null?void 0:r.toast,O?.default,O?.[ze],(i=S?.classNames)==null?void 0:i[ze]),"data-sonner-toast":"","data-rich-colors":(n=S.richColors)!=null?n:z,"data-styled":!(S.jsx||S.unstyled||b),"data-mounted":Fe,"data-promise":!!S.promise,"data-swiped":at,"data-removed":Je,"data-visible":Pe,"data-y-position":ls,"data-x-position":ss,"data-index":A,"data-front":it,"data-swiping":Ke,"data-dismissible":Ye,"data-type":ze,"data-invert":Jt,"data-swipe-out":Ve,"data-swipe-direction":Ce,"data-expanded":!!(I||_&&Fe),style:{"--index":A,"--toasts-before":A,"--z-index":R.length-A,"--offset":`${Je?ot:It.current}px`,"--initial-height":_?"auto":`${Ae}px`,...Z,...S.style},onDragEnd:()=>{ct(!1),Se(null),Et.current=null},onPointerDown:Ge=>{rs||!Ye||(Qe.current=new Date,lt(It.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(ct(!0),Et.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,We,rt,Lt;if(Ve||!Ye)return;Et.current=null;let ft=Number(((Ge=Ue.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gt=Number(((We=Ue.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Bt=new Date().getTime()-((rt=Qe.current)==null?void 0:rt.getTime()),Rt=Ee==="x"?ft:gt,Dt=Math.abs(Rt)/Bt;if(Math.abs(Rt)>=ye||Dt>.11){lt(It.current),(Lt=S.onDismiss)==null||Lt.call(S,S),De(Ee==="x"?ft>0?"right":"left":gt>0?"down":"up"),Ct(),Me(!0),st(!1);return}ct(!1),Se(null)},onPointerMove:Ge=>{var We,rt,Lt,ft;if(!Et.current||!Ye||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;let gt=Ge.clientY-Et.current.y,Bt=Ge.clientX-Et.current.x,Rt=(rt=e.swipeDirections)!=null?rt:xe(Q);!Ee&&(Math.abs(Bt)>1||Math.abs(gt)>1)&&Se(Math.abs(Bt)>Math.abs(gt)?"x":"y");let Dt={x:0,y:0};Ee==="y"?(Rt.includes("top")||Rt.includes("bottom"))&&(Rt.includes("top")&&gt<0||Rt.includes("bottom")&&gt>0)&&(Dt.y=gt):Ee==="x"&&(Rt.includes("left")||Rt.includes("right"))&&(Rt.includes("left")&&Bt<0||Rt.includes("right")&&Bt>0)&&(Dt.x=Bt),(Math.abs(Dt.x)>0||Math.abs(Dt.y)>0)&&st(!0),(Lt=Ue.current)==null||Lt.style.setProperty("--swipe-amount-x",`${Dt.x}px`),(ft=Ue.current)==null||ft.style.setProperty("--swipe-amount-y",`${Dt.y}px`)}},ts&&!S.jsx?React.createElement("button",{"aria-label":W,"data-disabled":rs,"data-close-button":!0,onClick:rs||!Ye?()=>{}:()=>{var Ge;Ct(),(Ge=S.onDismiss)==null||Ge.call(S,S)},className:M(O?.closeButton,(a=S?.classNames)==null?void 0:a.closeButton)},(o=V?.close)!=null?o:Ot):null,S.jsx||reactExports.isValidElement(S.title)?S.jsx?S.jsx:typeof S.title=="function"?S.title():S.title:React.createElement(React.Fragment,null,ze||S.icon||S.promise?React.createElement("div",{"data-icon":"",className:M(O?.icon,(l=S?.classNames)==null?void 0:l.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||us():null,S.type!=="loading"?S.icon||V?.[ze]||jt(ze):null):null,React.createElement("div",{"data-content":"",className:M(O?.content,(c=S?.classNames)==null?void 0:c.content)},React.createElement("div",{"data-title":"",className:M(O?.title,(d=S?.classNames)==null?void 0:d.title)},typeof S.title=="function"?S.title():S.title),S.description?React.createElement("div",{"data-description":"",className:M(Y,At,O?.description,(p=S?.classNames)==null?void 0:p.description)},typeof S.description=="function"?S.description():S.description):null),reactExports.isValidElement(S.cancel)?S.cancel:S.cancel&&tt(S.cancel)?React.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||re,onClick:Ge=>{var We,rt;tt(S.cancel)&&Ye&&((rt=(We=S.cancel).onClick)==null||rt.call(We,Ge),Ct())},className:M(O?.cancelButton,(g=S?.classNames)==null?void 0:g.cancelButton)},S.cancel.label):null,reactExports.isValidElement(S.action)?S.action:S.action&&tt(S.action)?React.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||U,onClick:Ge=>{var We,rt;tt(S.action)&&((rt=(We=S.action).onClick)==null||rt.call(We,Ge),!Ge.defaultPrevented&&Ct())},className:M(O?.actionButton,(y=S?.classNames)==null?void 0:y.actionButton)},S.action.label):null))};function _t(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Te(e,r){let i={};return[e,r].forEach((n,a)=>{let o=a===1,l=o?"--mobile-offset":"--offset",c=o?ge:me;function d(p){["top","right","bottom","left"].forEach(g=>{i[`${l}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(p=>{n[p]===void 0?i[`${l}-${p}`]=c:i[`${l}-${p}`]=typeof n[p]=="number"?`${n[p]}px`:n[p]}):d(c)}),i}var $e=reactExports.forwardRef(function(e,r){let{invert:i,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:p,theme:g="light",richColors:y,duration:x,style:S,visibleToasts:b=pe,toastOptions:T,dir:N=_t(),gap:k=be,loadingIcon:C,icons:A,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:I}=e,[F,z]=React.useState([]),B=React.useMemo(()=>Array.from(new Set([n].concat(F.filter(K=>K.position).map(K=>K.position)))),[F,n]),[Z,re]=React.useState([]),[U,q]=React.useState(!1),[Y,fe]=React.useState(!1),[Q,H]=React.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=React.useRef(null),_=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=React.useRef(null),V=React.useRef(!1),W=React.useCallback(K=>{z(Ee=>{var Se;return(Se=Ee.find(Ce=>Ce.id===K.id))!=null&&Se.delete||v$1.dismiss(K.id),Ee.filter(({id:Ce})=>Ce!==K.id)})},[]);return React.useEffect(()=>v$1.subscribe(K=>{if(K.dismiss){z(Ee=>Ee.map(Se=>Se.id===K.id?{...Se,delete:!0}:Se));return}setTimeout(()=>{ReactDOM.flushSync(()=>{z(Ee=>{let Se=Ee.findIndex(Ce=>Ce.id===K.id);return Se!==-1?[...Ee.slice(0,Se),{...Ee[Se],...K},...Ee.slice(Se+1)]:[K,...Ee]})})})}),[]),React.useEffect(()=>{if(g!=="system"){H(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Ee})=>{H(Ee?"dark":"light")})}catch{K.addListener(({matches:Se})=>{try{H(Se?"dark":"light")}catch(Ce){console.error(Ce)}})}},[g]),React.useEffect(()=>{F.length<=1&&q(!1)},[F]),React.useEffect(()=>{let K=Ee=>{var Se,Ce;a.every(De=>Ee[De]||Ee.code===De)&&(q(!0),(Se=G.current)==null||Se.focus()),Ee.code==="Escape"&&(document.activeElement===G.current||(Ce=G.current)!=null&&Ce.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[a]),React.useEffect(()=>{if(G.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,V.current=!1)}},[G.current]),React.createElement("section",{ref:r,"aria-label":`${R} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((K,Ee)=>{var Se;let[Ce,De]=K.split("-");return F.length?React.createElement("ol",{key:K,dir:N==="auto"?_t():N,tabIndex:-1,ref:G,className:c,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":Ce,"data-lifted":U&&F.length>1&&!o,"data-x-position":De,style:{"--front-toast-height":`${((Se=Z[0])==null?void 0:Se.height)||0}px`,"--width":`${he}px`,"--gap":`${k}px`,...S,...Te(d,p)},onBlur:Fe=>{V.current&&!Fe.currentTarget.contains(Fe.relatedTarget)&&(V.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:Fe=>{Fe.target instanceof HTMLElement&&Fe.target.dataset.dismissible==="false"||V.current||(V.current=!0,O.current=Fe.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{Y||q(!1)},onDragEnd:()=>q(!1),onPointerDown:Fe=>{Fe.target instanceof HTMLElement&&Fe.target.dataset.dismissible==="false"||fe(!0)},onPointerUp:()=>fe(!1)},F.filter(Fe=>!Fe.position&&Ee===0||Fe.position===K).map((Fe,qe)=>{var Je,et;return React.createElement(ve,{key:Fe.id,icons:A,index:qe,toast:Fe,defaultRichColors:y,duration:(Je=T?.duration)!=null?Je:x,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:i,visibleToasts:b,closeButton:(et=T?.closeButton)!=null?et:l,interacting:Y,position:K,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,removeToast:W,toasts:F.filter(Ke=>Ke.position==Fe.position),heights:Z.filter(Ke=>Ke.position==Fe.position),setHeights:re,expandByDefault:o,gap:k,loadingIcon:C,expanded:U,pauseWhenPageIsHidden:I,swipeDirections:e.swipeDirections})})):null}))});const Toaster=({...e})=>{const{theme:r="system"}=j();return jsxRuntimeExports.jsx($e,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=e=>{const{__scopeTooltip:r,delayDuration:i=DEFAULT_DELAY_DURATION,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,l=reactExports.useRef(!0),c=reactExports.useRef(!1),d=reactExports.useRef(0);return reactExports.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:r,isOpenDelayedRef:l,delayDuration:i,onOpen:reactExports.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:reactExports.useCallback(p=>{c.current=p},[]),disableHoverableContent:a,children:o})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),TRIGGER_NAME="TooltipTrigger",TooltipTrigger=reactExports.forwardRef((e,r)=>{const{__scopeTooltip:i,...n}=e,a=useTooltipContext(TRIGGER_NAME,i),o=useTooltipProviderContext(TRIGGER_NAME,i),l=usePopperScope(i),c=reactExports.useRef(null),d=useComposedRefs(r,c,a.onTriggerChange),p=reactExports.useRef(!1),g=reactExports.useRef(!1),y=reactExports.useCallback(()=>p.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...l,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:d,onPointerMove:composeEventHandlers(e.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),g.current=!0)}),onPointerLeave:composeEventHandlers(e.onPointerLeave,()=>{a.onTriggerLeave(),g.current=!1}),onPointerDown:composeEventHandlers(e.onPointerDown,()=>{a.open&&a.onClose(),p.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:composeEventHandlers(e.onFocus,()=>{p.current||a.onOpen()}),onBlur:composeEventHandlers(e.onBlur,a.onClose),onClick:composeEventHandlers(e.onClick,a.onClose)})})});TooltipTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="TooltipPortal",[PortalProvider,usePortalContext]=createTooltipContext(PORTAL_NAME,{forceMount:void 0}),CONTENT_NAME="TooltipContent",TooltipContent$1=reactExports.forwardRef((e,r)=>{const i=usePortalContext(CONTENT_NAME,e.__scopeTooltip),{forceMount:n=i.forceMount,side:a="top",...o}=e,l=useTooltipContext(CONTENT_NAME,e.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:n||l.open,children:l.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:a,...o,ref:r}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:a,...o,ref:r})})}),TooltipContentHoverable=reactExports.forwardRef((e,r)=>{const i=useTooltipContext(CONTENT_NAME,e.__scopeTooltip),n=useTooltipProviderContext(CONTENT_NAME,e.__scopeTooltip),a=reactExports.useRef(null),o=useComposedRefs(r,a),[l,c]=reactExports.useState(null),{trigger:d,onClose:p}=i,g=a.current,{onPointerInTransitChange:y}=n,x=reactExports.useCallback(()=>{c(null),y(!1)},[y]),S=reactExports.useCallback((b,T)=>{const N=b.currentTarget,k={x:b.clientX,y:b.clientY},C=getExitSideFromRect(k,N.getBoundingClientRect()),A=getPaddedExitPoints(k,C),R=getPointsFromRect(T.getBoundingClientRect()),I=getHull([...A,...R]);c(I),y(!0)},[y]);return reactExports.useEffect(()=>()=>x(),[x]),reactExports.useEffect(()=>{if(d&&g){const b=N=>S(N,g),T=N=>S(N,d);return d.addEventListener("pointerleave",b),g.addEventListener("pointerleave",T),()=>{d.removeEventListener("pointerleave",b),g.removeEventListener("pointerleave",T)}}},[d,g,S,x]),reactExports.useEffect(()=>{if(l){const b=T=>{const N=T.target,k={x:T.clientX,y:T.clientY},C=d?.contains(N)||g?.contains(N),A=!isPointInPolygon(k,l);C?x():A&&(x(),p())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,g,l,p,x]),jsxRuntimeExports.jsx(TooltipContentImpl,{...e,ref:o})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((e,r)=>{const{__scopeTooltip:i,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:l,...c}=e,d=useTooltipContext(CONTENT_NAME,i),p=usePopperScope(i),{onClose:g}=d;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,g),()=>document.removeEventListener(TOOLTIP_OPEN,g)),[g]),reactExports.useEffect(()=>{if(d.trigger){const y=x=>{x.target?.contains(d.trigger)&&g()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[d.trigger,g]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:y=>y.preventDefault(),onDismiss:g,children:jsxRuntimeExports.jsxs(Content,{"data-state":d.stateAttribute,...p,...c,ref:r,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:n}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:i,isInside:!0,children:jsxRuntimeExports.jsx(Root$1,{id:d.contentId,role:"tooltip",children:a||n})})]})})});TooltipContent$1.displayName=CONTENT_NAME;var ARROW_NAME="TooltipArrow",TooltipArrow=reactExports.forwardRef((e,r)=>{const{__scopeTooltip:i,...n}=e,a=usePopperScope(i);return useVisuallyHiddenContentContext(ARROW_NAME,i).isInside?null:jsxRuntimeExports.jsx(Arrow,{...a,...n,ref:r})});TooltipArrow.displayName=ARROW_NAME;function getExitSideFromRect(e,r){const i=Math.abs(r.top-e.y),n=Math.abs(r.bottom-e.y),a=Math.abs(r.right-e.x),o=Math.abs(r.left-e.x);switch(Math.min(i,n,a,o)){case o:return"left";case a:return"right";case i:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(e,r,i=5){const n=[];switch(r){case"top":n.push({x:e.x-i,y:e.y+i},{x:e.x+i,y:e.y+i});break;case"bottom":n.push({x:e.x-i,y:e.y-i},{x:e.x+i,y:e.y-i});break;case"left":n.push({x:e.x+i,y:e.y-i},{x:e.x+i,y:e.y+i});break;case"right":n.push({x:e.x-i,y:e.y-i},{x:e.x-i,y:e.y+i});break}return n}function getPointsFromRect(e){const{top:r,right:i,bottom:n,left:a}=e;return[{x:a,y:r},{x:i,y:r},{x:i,y:n},{x:a,y:n}]}function isPointInPolygon(e,r){const{x:i,y:n}=e;let a=!1;for(let o=0,l=r.length-1;o<r.length;l=o++){const c=r[o],d=r[l],p=c.x,g=c.y,y=d.x,x=d.y;g>n!=x>n&&i<(y-p)*(n-g)/(x-g)+p&&(a=!a)}return a}function getHull(e){const r=e.slice();return r.sort((i,n)=>i.x<n.x?-1:i.x>n.x?1:i.y<n.y?-1:i.y>n.y?1:0),getHullPresorted(r)}function getHullPresorted(e){if(e.length<=1)return e.slice();const r=[];for(let n=0;n<e.length;n++){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],l=r[r.length-2];if((o.x-l.x)*(a.y-l.y)>=(o.y-l.y)*(a.x-l.x))r.pop();else break}r.push(a)}r.pop();const i=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;i.length>=2;){const o=i[i.length-1],l=i[i.length-2];if((o.x-l.x)*(a.y-l.y)>=(o.y-l.y)*(a.x-l.x))i.pop();else break}i.push(a)}return i.pop(),r.length===1&&i.length===1&&r[0].x===i[0].x&&r[0].y===i[0].y?r:r.concat(i)}var Provider=TooltipProvider$1,Content2=TooltipContent$1;const TooltipProvider=Provider,TooltipContent=reactExports.forwardRef(({className:e,sideOffset:r=4,...i},n)=>jsxRuntimeExports.jsx(Content2,{ref:n,sideOffset:r,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i}));TooltipContent.displayName=Content2.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop(){}function functionalUpdate(e,r){return typeof e=="function"?e(r):e}function isValidTimeout(e){return typeof e=="number"&&e>=0&&e!==1/0}function timeUntilStale(e,r){return Math.max(e+(r||0)-Date.now(),0)}function resolveStaleTime(e,r){return typeof e=="function"?e(r):e}function resolveEnabled(e,r){return typeof e=="function"?e(r):e}function matchQuery(e,r){const{type:i="all",exact:n,fetchStatus:a,predicate:o,queryKey:l,stale:c}=e;if(l){if(n){if(r.queryHash!==hashQueryKeyByOptions(l,r.options))return!1}else if(!partialMatchKey(r.queryKey,l))return!1}if(i!=="all"){const d=r.isActive();if(i==="active"&&!d||i==="inactive"&&d)return!1}return!(typeof c=="boolean"&&r.isStale()!==c||a&&a!==r.state.fetchStatus||o&&!o(r))}function matchMutation(e,r){const{exact:i,status:n,predicate:a,mutationKey:o}=e;if(o){if(!r.options.mutationKey)return!1;if(i){if(hashKey(r.options.mutationKey)!==hashKey(o))return!1}else if(!partialMatchKey(r.options.mutationKey,o))return!1}return!(n&&r.state.status!==n||a&&!a(r))}function hashQueryKeyByOptions(e,r){return(r?.queryKeyHashFn||hashKey)(e)}function hashKey(e){return JSON.stringify(e,(r,i)=>isPlainObject(i)?Object.keys(i).sort().reduce((n,a)=>(n[a]=i[a],n),{}):i)}function partialMatchKey(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(i=>partialMatchKey(e[i],r[i])):!1}function replaceEqualDeep(e,r){if(e===r)return e;const i=isPlainArray(e)&&isPlainArray(r);if(i||isPlainObject(e)&&isPlainObject(r)){const n=i?e:Object.keys(e),a=n.length,o=i?r:Object.keys(r),l=o.length,c=i?[]:{},d=new Set(n);let p=0;for(let g=0;g<l;g++){const y=i?g:o[g];(!i&&d.has(y)||i)&&e[y]===void 0&&r[y]===void 0?(c[y]=void 0,p++):(c[y]=replaceEqualDeep(e[y],r[y]),c[y]===e[y]&&e[y]!==void 0&&p++)}return a===l&&p===a?e:c}return r}function isPlainArray(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function isPlainObject(e){if(!hasObjectPrototype(e))return!1;const r=e.constructor;if(r===void 0)return!0;const i=r.prototype;return!(!hasObjectPrototype(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hasObjectPrototype(e){return Object.prototype.toString.call(e)==="[object Object]"}function sleep(e){return new Promise(r=>{setTimeout(r,e)})}function replaceData(e,r,i){return typeof i.structuralSharing=="function"?i.structuralSharing(e,r):i.structuralSharing!==!1?replaceEqualDeep(e,r):r}function addToEnd(e,r,i=0){const n=[...e,r];return i&&n.length>i?n.slice(1):n}function addToStart(e,r,i=0){const n=[r,...e];return i&&n.length>i?n.slice(0,-1):n}var skipToken=Symbol();function ensureQueryFn(e,r){return!e.queryFn&&r?.initialPromise?()=>r.initialPromise:!e.queryFn||e.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var FocusManager=class extends Subscribable{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!isServer&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},focusManager=new FocusManager,OnlineManager=class extends Subscribable{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!isServer&&window.addEventListener){const r=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(i=>{i(e)}))}isOnline(){return this.#e}},onlineManager=new OnlineManager;function pendingThenable(){let e,r;const i=new Promise((a,o)=>{e=a,r=o});i.status="pending",i.catch(()=>{});function n(a){Object.assign(i,a),delete i.resolve,delete i.reject}return i.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},i.reject=a=>{n({status:"rejected",reason:a}),r(a)},i}function defaultRetryDelay(e){return Math.min(1e3*2**e,3e4)}function canFetch(e){return(e??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function isCancelledError(e){return e instanceof CancelledError}function createRetryer(e){let r=!1,i=0,n=!1,a;const o=pendingThenable(),l=T=>{n||(x(new CancelledError(T)),e.abort?.())},c=()=>{r=!0},d=()=>{r=!1},p=()=>focusManager.isFocused()&&(e.networkMode==="always"||onlineManager.isOnline())&&e.canRun(),g=()=>canFetch(e.networkMode)&&e.canRun(),y=T=>{n||(n=!0,e.onSuccess?.(T),a?.(),o.resolve(T))},x=T=>{n||(n=!0,e.onError?.(T),a?.(),o.reject(T))},S=()=>new Promise(T=>{a=N=>{(n||p())&&T(N)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),b=()=>{if(n)return;let T;const N=i===0?e.initialPromise:void 0;try{T=N??e.fn()}catch(k){T=Promise.reject(k)}Promise.resolve(T).then(y).catch(k=>{if(n)return;const C=e.retry??(isServer?0:3),A=e.retryDelay??defaultRetryDelay,R=typeof A=="function"?A(i,k):A,I=C===!0||typeof C=="number"&&i<C||typeof C=="function"&&C(i,k);if(r||!I){x(k);return}i++,e.onFail?.(i,k),sleep(R).then(()=>p()?void 0:S()).then(()=>{r?x(k):b()})})};return{promise:o,cancel:l,continue:()=>(a?.(),o),cancelRetry:c,continueRetry:d,canStart:g,start:()=>(g()?b():S().then(b),o)}}var defaultScheduler=e=>setTimeout(e,0);function createNotifyManager(){let e=[],r=0,i=c=>{c()},n=c=>{c()},a=defaultScheduler;const o=c=>{r?e.push(c):a(()=>{i(c)})},l=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(d=>{i(d)})})})};return{batch:c=>{let d;r++;try{d=c()}finally{r--,r||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{i=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var notifyManager=createNotifyManager(),Removable=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Query=class extends Removable{#e;#t;#s;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#s=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=getDefaultState$1(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,r){const i=replaceData(this.state.data,e,this.options);return this.#n({data:i,type:"success",dataUpdatedAt:r?.updatedAt,manual:r?.manual}),i}setState(e,r){this.#n({type:"setState",state:e,setStateOptions:r})}cancel(e){const r=this.#r?.promise;return this.#r?.cancel(e),r?r.then(noop).catch(noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>resolveEnabled(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>resolveStaleTime(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(r=>r.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(r=>r.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}fetch(e,r){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&r?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(p=>p.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},a=()=>{const d=ensureQueryFn(this.options,r),g=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return n(y),y})();return this.#o=!1,this.options.persister?this.options.persister(d,g,this):d(g)},l=(()=>{const d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return n(d),d})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#n({type:"fetch",meta:l.fetchOptions?.meta});const c=d=>{isCancelledError(d)&&d.silent||this.#n({type:"error",error:d}),isCancelledError(d)||(this.#s.config.onError?.(d,this),this.#s.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=createRetryer({initialPromise:r?.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(p){c(p);return}this.#s.config.onSuccess?.(d,this),this.#s.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,p)=>{this.#n({type:"failed",failureCount:d,error:p})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#r.start()}#n(e){const r=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...fetchState(i.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return isCancelledError(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...i,error:n,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=r(this.state),notifyManager.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function fetchState(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,i=r!==void 0,n=i?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:i?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var QueryCache=class extends Subscribable{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,r,i){const n=r.queryKey,a=r.queryHash??hashQueryKeyByOptions(n,r);let o=this.get(a);return o||(o=new Query({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(r),state:i,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=this.#e.get(e.queryHash);r&&(e.destroy(),r===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const r={exact:!0,...e};return this.getAll().find(i=>matchQuery(r,i))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(i=>matchQuery(e,i)):r}notify(e){notifyManager.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mutation=class extends Removable{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(r=>r!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const r=()=>{this.#i({type:"continue"})};this.#s=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#i({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const i=this.state.status==="pending",n=!this.#s.canStart();try{if(i)r();else{this.#i({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#i({type:"pending",context:o,variables:e,isPaused:n})}const a=await this.#s.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#i({type:"success",data:a}),a}catch(a){try{throw await this.#t.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#t.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#i({type:"error",error:a})}}finally{this.#t.runNext(this)}}#i(e){const r=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),notifyManager.batch(()=>{this.#e.forEach(i=>{i.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var MutationCache=class extends Subscribable{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,r,i){const n=new Mutation({mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(r),state:i});return this.add(n),n}add(e){this.#e.add(e);const r=scopeFor(e);if(typeof r=="string"){const i=this.#t.get(r);i?i.push(e):this.#t.set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const r=scopeFor(e);if(typeof r=="string"){const i=this.#t.get(r);if(i)if(i.length>1){const n=i.indexOf(e);n!==-1&&i.splice(n,1)}else i[0]===e&&this.#t.delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=scopeFor(e);if(typeof r=="string"){const n=this.#t.get(r)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const r=scopeFor(e);return typeof r=="string"?this.#t.get(r)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){notifyManager.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const r={exact:!0,...e};return this.getAll().find(i=>matchMutation(r,i))}findAll(e={}){return this.getAll().filter(r=>matchMutation(e,r))}notify(e){notifyManager.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return notifyManager.batch(()=>Promise.all(e.map(r=>r.continue().catch(noop))))}};function scopeFor(e){return e.options.scope?.id}function infiniteQueryBehavior(e){return{onFetch:(r,i)=>{const n=r.options,a=r.fetchOptions?.meta?.fetchMore?.direction,o=r.state.data?.pages||[],l=r.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const p=async()=>{let g=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(r.signal.aborted?g=!0:r.signal.addEventListener("abort",()=>{g=!0}),r.signal)})},x=ensureQueryFn(r.options,r.fetchOptions),S=async(b,T,N)=>{if(g)return Promise.reject();if(T==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const F={client:r.client,queryKey:r.queryKey,pageParam:T,direction:N?"backward":"forward",meta:r.options.meta};return y(F),F})(),A=await x(C),{maxPages:R}=r.options,I=N?addToStart:addToEnd;return{pages:I(b.pages,A,R),pageParams:I(b.pageParams,T,R)}};if(a&&o.length){const b=a==="backward",T=b?getPreviousPageParam:getNextPageParam,N={pages:o,pageParams:l},k=T(n,N);c=await S(N,k,b)}else{const b=e??o.length;do{const T=d===0?l[0]??n.initialPageParam:getNextPageParam(n,c);if(d>0&&T==null)break;c=await S(c,T),d++}while(d<b)}return c};r.options.persister?r.fetchFn=()=>r.options.persister?.(p,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},i):r.fetchFn=p}}}function getNextPageParam(e,{pages:r,pageParams:i}){const n=r.length-1;return r.length>0?e.getNextPageParam(r[n],r,i[n],i):void 0}function getPreviousPageParam(e,{pages:r,pageParams:i}){return r.length>0?e.getPreviousPageParam?.(r[0],r,i[0],i):void 0}var QueryClient=class{#e;#t;#s;#i;#r;#a;#o;#n;constructor(e={}){this.#e=e.queryCache||new QueryCache,this.#t=e.mutationCache||new MutationCache,this.#s=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#n?.(),this.#n=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const r=this.defaultQueryOptions({queryKey:e});return this.#e.get(r.queryHash)?.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),i=this.#e.build(this,r),n=i.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime(resolveStaleTime(r.staleTime,i))&&this.prefetchQuery(r),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:r,state:i})=>{const n=i.data;return[r,n]})}setQueryData(e,r,i){const n=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(n.queryHash)?.state.data,l=functionalUpdate(r,o);if(l!==void 0)return this.#e.build(this,n).setData(l,{...i,manual:!0})}setQueriesData(e,r,i){return notifyManager.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,r,i)]))}getQueryState(e){const r=this.defaultQueryOptions({queryKey:e});return this.#e.get(r.queryHash)?.state}removeQueries(e){const r=this.#e;notifyManager.batch(()=>{r.findAll(e).forEach(i=>{r.remove(i)})})}resetQueries(e,r){const i=this.#e;return notifyManager.batch(()=>(i.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const i={revert:!0,...r},n=notifyManager.batch(()=>this.#e.findAll(e).map(a=>a.cancel(i)));return Promise.all(n).then(noop).catch(noop)}invalidateQueries(e,r={}){return notifyManager.batch(()=>(this.#e.findAll(e).forEach(i=>{i.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},r)))}refetchQueries(e,r={}){const i={...r,cancelRefetch:r.cancelRefetch??!0},n=notifyManager.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let o=a.fetch(void 0,i);return i.throwOnError||(o=o.catch(noop)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(noop)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const i=this.#e.build(this,r);return i.isStaleByTime(resolveStaleTime(r.staleTime,i))?i.fetch(r):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(noop).catch(noop)}fetchInfiniteQuery(e){return e.behavior=infiniteQueryBehavior(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(noop).catch(noop)}ensureInfiniteQueryData(e){return e.behavior=infiniteQueryBehavior(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return onlineManager.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,r){this.#i.set(hashKey(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...this.#i.values()],i={};return r.forEach(n=>{partialMatchKey(e,n.queryKey)&&Object.assign(i,n.defaultOptions)}),i}setMutationDefaults(e,r){this.#r.set(hashKey(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...this.#r.values()],i={};return r.forEach(n=>{partialMatchKey(e,n.mutationKey)&&Object.assign(i,n.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;const r={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=hashQueryKeyByOptions(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===skipToken&&(r.enabled=!1),r}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},QueryClientContext=reactExports.createContext(void 0),QueryClientProvider=({client:e,children:r})=>(reactExports.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:e,children:r}));const logger={log:(...e)=>{},warn:(...e)=>{},error:(...e)=>{console.error("[Error]",e[0]instanceof Error?e[0].message:"An error occurred")},sync:(e,r)=>{},auth:e=>{}},safeJsonParse=(e,r)=>{if(e==null||e==="")return r;try{return JSON.parse(e)}catch(i){return logger.warn("[SafeJSON] Parse failed:",{error:i instanceof Error?i.message:"Unknown error",inputLength:e.length,inputPreview:e.slice(0,50)+(e.length>50?"...":"")}),r}},safeJsonStringify=e=>{try{return JSON.stringify(e)}catch(r){return logger.warn("[SafeJSON] Stringify failed:",{error:r instanceof Error?r.message:"Unknown error"}),null}},safeLocalStorageGet=(e,r)=>{try{const i=localStorage.getItem(e);return safeJsonParse(i,r)}catch(i){return logger.warn("[SafeJSON] localStorage.getItem failed:",{key:e,error:i instanceof Error?i.message:"Unknown error"}),r}},safeLocalStorageSet=(e,r)=>{try{const i=safeJsonStringify(r);return i===null?!1:(localStorage.setItem(e,i),!0)}catch(i){return logger.warn("[SafeJSON] localStorage.setItem failed:",{key:e,error:i instanceof Error?i.message:"Unknown error"}),!1}},DEBOUNCE_MS=300;function useLocalStorage(e,r){const[i,n]=reactExports.useState(()=>{try{const l=window.localStorage.getItem(e);return l?safeJsonParse(l,r):r}catch(l){return logger.error(`Error reading localStorage key "${e}":`,l),r}}),a=reactExports.useRef(null),o=reactExports.useRef(i);return reactExports.useEffect(()=>()=>{if(a.current){clearTimeout(a.current);try{window.localStorage.setItem(e,JSON.stringify(o.current))}catch(l){logger.error(`Error flushing localStorage key "${e}":`,l)}}},[e]),reactExports.useEffect(()=>{o.current=i,a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{try{window.localStorage.setItem(e,JSON.stringify(i))}catch(l){logger.error(`Error setting localStorage key "${e}":`,l)}a.current=null},DEBOUNCE_MS)},[e,i]),[i,n]}const translations={ru:{appName:"ZenFlow",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",home:"",stats:"",settings:"",streakDays:" ",days:"",habitsToday:" ",focusToday:" ",minutes:"",min:"",gratitudes:"",howAreYouFeeling:"   ?",howAreYouNow:"  ?",moodToday:" ",moodHistory:"  ",moodRecorded:" !",moodNotes:" ",todayProgress:" ",completed:"!",updateMood:"",great:"",good:"",okay:"",bad:"",terrible:"",addNote:"  ()...",saveMood:" ",startHere:" ",tapToStart:"  ,   ",moodPrompt:"   ?",moodTagsTitle:"",moodTagPlaceholder:" ...",moodTagAdd:"",moodTagFilter:"  ",allTags:" ",tagWork:"",tagFamily:"",tagHealth:"",tagSleep:"",tagMoney:"",tagWeather:"",moodPatternsTitle:" ",moodBestDay:"  ",moodFocusComparison:"  ",moodFocusWith:" -",moodFocusWithout:" ",moodHabitCorrelations:"  ",moodNoData:" ",editMood:" ",changeMood:" ",changeMoodConfirmTitle:" ?",changeMoodConfirmMessage:" ,     ?",moodChanged:" !",confirm:"",dailyProgress:"  ",continueProgress:"",dayTimeline:" ",dayComplete:" ",perfectDay:" !",startYourDay:"  ! ",keepGoing:"!   ",almostThere:"  ! ",soClose:"   ! ",legendaryDay:" ! ",scheduleTitle:" ",scheduleAddEvent:" ",scheduleEmpty:"  .  +  !",scheduleEmptyDay:"    ",scheduleStart:"",scheduleEnd:"",scheduleAdd:"  ",scheduleCustomTitle:"  ()",scheduleWork:"",scheduleMeal:"",scheduleRest:"",scheduleExercise:"",scheduleStudy:"",scheduleMeeting:"",scheduleNote:" ()",scheduleNotePlaceholder:"   ...",needInspiration:" ?",journalPrompt:"",dailyPrompt:" ",usePrompt:"  ",shufflePrompt:" ",mindfulMoment:" ",takeAMoment:" ...",withNote:" ",whatsMakingYouFeel:"   ?",emotionSaved:" ",treat:"",moodGood:"",moodOkay:"",moodNotGreat:" ",timeUntilEndOfDay:"  ",timeIn:"",timePassed:" ",timeNow:"!",hoursShort:"",minutesShort:"",night:"",aiInsights:"AI ",aiInsight:"AI ",personalizedForYou:"  ",insightsNeedMoreData:"  ,    !",daysLogged:" ",showMore:" ",moreInsights:"",hideInsights:" ",insightBestDayTitle:"{day}    !",insightBestDayDesc:"     {day}.      .",insightBestTimeTitle:"   {period}",insightBestTimeDesc:"    {period}.      !",insightHabitBoostsTitle:"{habit}  !",insightHabitBoostsDesc:"   {habit},   {percent}% .  !",insightFocusMoodTitle:" =  !",insightFocusMoodDesc:"   -   {percent}% .   !",insightGratitudeMoodTitle:"  !",insightGratitudeMoodDesc:"      {percent}%  .  !",insightMoodUpTitle:"  !",insightMoodUpDesc:"      {percent}% ,   .  !",insightMoodDownTitle:"  !",insightMoodDownDesc:"  .    ,    .",insightHighConsistencyTitle:" !",insightHighConsistencyDesc:"   {days}   14 .   !",insightLowConsistencyTitle:"  ",insightLowConsistencyDesc:"          .    !",hintFirstMoodTitle:"   ?",hintFirstMoodDesc:"    .   5      !",hintFirstMoodAction:" ",hintFirstHabitTitle:"  ",hintFirstHabitDesc:'     .   - ,  " ".',hintFirstHabitAction:" ",hintFirstFocusTitle:" ?",hintFirstFocusDesc:"     .   25 !",hintFirstFocusAction:" ",hintFirstGratitudeTitle:" ",hintFirstGratitudeDesc:"  ,    .     !",hintFirstGratitudeAction:" ",hintScheduleTipTitle:" ",hintScheduleTipDesc:"     .     !",hintScheduleTipAction:" ",habits:"",habitName:" ...",icon:"",color:"",addHabit:" ",addFirstHabit:"   ! ",completedTimes:"",habitNameHint:"  ,  .",habitType:" ",habitTypeDaily:"",habitTypeWeekly:"  ",habitTypeFrequency:" N ",habitTypeReduce:" ()",habitWeeklyGoal:"   ()",habitFrequencyInterval:" ()",habitReduceLimit:"  ",habitStrictStreak:" ",habitGraceDays:"-  ",habitWeeklyProgress:"  ",habitEvery:"",habitReduceProgress:"",noHabitsToday:"   .",habitsOther:" ",habitTypeContinuous:" ()",habitTypeScheduled:" ",habitTypeMultiple:"   ",habitDailyTarget:"  ",habitStartDate:" ",habitReminders:"",habitAddReminder:" ",habitReminderTime:"",habitReminderDays:" ",habitReminderEnabled:"",habitRemindersPerHabit:"      .       .",perHabitRemindersTitle:" ",perHabitRemindersDesc:"        .         .",quickAdd:" ",createCustomHabit:"  ",streak:"",habitFrequency:"",habitFrequencyOnce:" ",habitFrequencyDaily:"",habitFrequencyWeekly:"",habitFrequencyCustom:" ",habitFrequencySelectDays:" ",habitDurationRequired:" ?",habitTargetDuration:"  ()",addReminder:"",noReminders:" ",habitEventExplanation:"   .    .",habitDurationMinutes:"",focus:"",breakTime:"",todayMinutes:" ",concentrate:"",takeRest:"",focusPreset25:"25/5",focusPreset50:"50/10",focusPresetCustom:"",focusLabelPrompt:"  ?",focusLabelPlaceholder:": , , ...",focusCustomWork:" ()",focusCustomBreak:" ()",focusReflectionTitle:"",focusReflectionQuestion:"  ?",focusReflectionSkip:"",focusReflectionSave:"",breathingTitle:"",breathingSubtitle:" ",breathingBox:" ",breathingBoxDesc:"   ",breathing478:"4-7-8 ",breathing478Desc:" ",breathingEnergize:"",breathingEnergizeDesc:" ",breathingSleep:" ",breathingSleepDesc:"  ",breatheIn:"",breatheOut:"",hold:"",cycles:"",cycle:"",effectCalming:"",effectFocusing:"",effectEnergizing:"",effectSleeping:"",startBreathing:"",breathingComplete:"!",breathingCompleteMsg:"   ",breathingAgain:" ",pause:"",resume:"",gratitude:"",today:"",tomorrow:"",scheduleDate:"",whatAreYouGratefulFor:"    ?",iAmGratefulFor:"  ...",save:"",cancel:"",recentEntries:" ",gratitudeTemplate1:"   ...",gratitudeTemplate2:"  ...",gratitudeTemplate3:"   ...",gratitudeLimit:" 3   ",gratitudeMemoryJar:" ",thisWeek:" ",statistics:"",monthlyOverview:" ",statsRange:"",statsRangeWeek:"",statsRangeMonth:"",statsRangeAll:" ",statsRangeApply:"",calendarTitle:"",calendarYear:"",calendarSelectDay:" ",calendarPrevMonth:" ",calendarNextMonth:" ",moodEntries:" ",focusMinutes:" ",achievements:"",toLevel:" ",unlockedPercent:" {percent}%",all:"",unlocked:"",locked:"",unlockedOn:" {date}",hiddenAchievement:"???",hidden:"",noAchievementsYet:"  ",startUsingZenFlow:"  ZenFlow,   !",achievementUnlocked:" !",userLevel:"",focusSession:" ",timeBlindnessHelper:"  ",visualTimeAwareness:"    ",hoursMinutesLeft:"{hours} {mins} ",minutesLeft:"{mins} ",timesUp:" !",youllFinishAt:"   :",nMinutes:"{n} ",pingEveryMinutes:"  ()",audioPings:" ",testSound:" ",soundOn:"",soundOff:"",startTimer:" ",pauseTimer:"",resetTimer:"",adhdTimeManagement:"   ",adhdTip1:"    ",adhdTip2:"    ",adhdTip3:"  =  ",adhdTip4:"     ",currentStreak:" ",daysInRow:" ",totalFocus:" ",allTime:"  ",habitsCompleted:" ",totalTimes:" ",moodDistribution:" ",moodHeatmap:" ",activityHeatmap:" ",less:"",more:"",topHabit:" ",completedTimes2:"",profile:"",yourName:" ",nameSaved:" ",notifications:"",notificationsComingSoon:"     .",data:"",exportData:" ",importData:" ",importMode:" ",importMerge:"",importReplace:"",exportSuccess:" .",exportError:"   .",exportCSV:" CSV",exportPDF:" PDF",importSuccess:" .",importError:"   .",importedItems:"",importAdded:"",importUpdated:"",importSkipped:"",textTooLong:"   ( 2000 )",invalidInput:"  ",comingSoon:"",resetAllData:"  ",privacyTitle:"",privacyDescription:"   .   .",privacyNoTracking:" ",privacyNoTrackingHint:"    .",privacyAnalytics:"",privacyAnalyticsHint:"  .  .",privacyPolicy:" ",termsOfService:" ",appearance:" ",oledDarkMode:"OLED  ",oledDarkModeHint:"    OLED .  .",whatsNewTitle:" ",whatsNewVersion:"",whatsNewGotIt:"!",skipToContent:"  ",settingsCloudSyncTitle:"  ",settingsCloudSyncDescription:"   ",settingsCloudSyncEnabled:"  ",settingsCloudSyncDisabledByUser:" ",settingsExportTitle:"  ",settingsExportDescription:"    ",settingsImportTitle:"  ",settingsImportMergeTooltip:"     .  .",settingsImportReplaceTooltip:"        ",settingsImportReplaceConfirm:' "REPLACE"     ',invalidFileType:"  .  JSON.",fileTooLarge:"   (. 10 )",importConfirm:" ",invalidBackupFormat:"   ",settingsWhatsNewTitle:"   v1.3.0",settingsWhatsNewLeaderboards:" ",settingsWhatsNewLeaderboardsDesc:"   ",settingsWhatsNewSpotify:" Spotify",settingsWhatsNewSpotifyDesc:"    ",settingsWhatsNewChallenges:"  ",settingsWhatsNewChallengesDesc:"    ",settingsWhatsNewDigest:" ",settingsWhatsNewDigestDesc:"     email",settingsWhatsNewSecurity:" ",settingsWhatsNewSecurityDesc:"    ",settingsWhatsNewGotIt:"!",settingsSectionAccount:"  ",settingsSectionData:"   ",weeklyDigestTitle:" ",weeklyDigestDescription:"  ,     .",weeklyDigestEnabled:"    ",changelogTitle:" ",changelogExpandAll:" ",changelogCollapseAll:" ",changelogEmpty:"  ",changelogAdded:"",changelogFixed:"",changelogChanged:"",changelogRemoved:"",settingsGroupProfile:"  ",settingsGroupNotifications:"",settingsGroupData:"  ",settingsGroupAccount:"",settingsGroupAbout:" ",consentTitle:" ",consentDescription:"   .      ?",consentAnalyticsTitle:" ",consentAnalyticsDesc:"  .   .    .",consentAccept:"",consentDecline:", ",consentFooter:"       > ",installApp:" ",installAppDescription:" ZenFlow     -.",installBannerTitle:" ZenFlow",installBannerBody:"   -  .",installNow:"",installLater:"",appInstalled:" ",appInstalledDescription:"ZenFlow    .",checkForUpdates:" ",checkingForUpdates:" ...",appUpToDate:"   ",openGooglePlay:" Google Play",updateCheckFailed:"   ",remindersTitle:"",remindersDescription:" ,     .",moodReminder:"   ",habitReminder:"   ",focusReminder:" -",quietHours:" ",reminderDays:" ",selectedHabits:"  ",noHabitsYet:"  .",reminderMoodTitle:",  ? ",reminderMoodBody:"30      !  ?",reminderHabitTitle:"- ! ",reminderHabitBody:"  =  . ?",reminderFocusTitle:"  ! ",reminderFocusBody:" 25    .   ?",reminderDismiss:" ",notificationPermissionTitle:"    ",notificationPermissionDescription:"    ,    .     .",notificationFeature1Title:"   ",notificationFeature1Desc:"    ",notificationFeature2Title:" ",notificationFeature2Desc:"    ",notificationFeature3Title:" ",notificationFeature3Desc:"   ",notificationAllow:" ",notificationDeny:"  ",notificationPrivacyNote:"        .    .",onboardingStep:"",onboardingValueTitle:"     30   ",onboardingValueBody:" -,  ,  .",onboardingStart:"  30 ",onboardingExplore:"",onboardingGoalTitle:" ",onboardingGoalLessStress:" ",onboardingGoalLessStressDesc:"   ",onboardingGoalMoreEnergy:" ",onboardingGoalMoreEnergyDesc:", , ",onboardingGoalBetterRoutine:" ",onboardingGoalBetterRoutineDesc:"  ",onboardingContinue:"",onboardingCheckinTitle:" -",onboardingHabitsPrompt:" 2 ",onboardingPickTwo:"   ",onboardingReminderTitle:" ",onboardingReminderBody:"  .  .",onboardingMorning:"",onboardingEvening:"",onboardingEnable:"",onboardingSkip:" ",onboardingHabitBreathing:"",onboardingHabitEveningWalk:" ",onboardingHabitStretch:"",onboardingHabitJournaling:"",onboardingHabitWater:"",onboardingHabitSunlight:"  ",onboardingHabitMovement:"",onboardingHabitSleepOnTime:" ",onboardingHabitMorningPlan:"  ",onboardingHabitRead:" 10 ",onboardingHabitNoScreens:"  ",onboardingHabitDailyReview:" ",account:"",accountDescription:"  ,     .",emailPlaceholder:"you@email.com",sendMagicLink:" ",continueWithGoogle:"  Google",signedInAs:"  ",signOut:"",syncNow:"",cloudSyncDisabled:"  .",deleteAccount:" ",deleteAccountConfirm:" ?",deleteAccountWarning:"       .",deleteAccountSuccess:" .",deleteAccountError:"   .",deleteAccountLink:"    ",authEmailSent:"     .",authSignedOut:"   .",authError:"   .",authNotConfigured:"Supabase  .",syncSuccess:" .",syncPulled:"   .",syncPushed:" .",syncError:"  .",authGateTitle:"  ",authGateBody:"  ,       .",authGateContinue:"  ",errorBoundaryTitle:"-   ",errorBoundaryBody:"     .",errorBoundaryExport:" ",errorBoundaryReload:" ",pushTitle:"Push-",pushEnable:" push",pushDisable:" push",pushTest:" push",pushTestTitle:"ZenFlow",pushTestBody:" .",pushTestSent:" .",pushTestError:"   .",pushNowMood:": ",pushNowHabit:": ",pushNowFocus:": ",pushEnabled:"Push .",pushDisabled:"Push .",pushError:"   push.",pushNeedsAccount:"  ,   push.",pushPermissionDenied:"   .",areYouSure:" ?",cannotBeUndone:"   .",delete:"",shareAchievements:" ",shareDialogTitle:"  ",shareTitle:"   ZenFlow",shareText:"{streak}  ! {habits}  , {focus}  .",shareButton:"",shareDownload:" ",shareDownloading:"...",shareCopyLink:" ",shareCopied:"!",sharePrivacyNote:"   .   .",shareStreak:" ",shareHabits:"",shareFocus:"",shareGratitude:"",shareFooter:" ,   ",myProgress:" ",shareSquare:" 1:1",shareStory:" 9:16",shareFormatHint:"    Instagram/TikTok     ",shareFailed:"  .  .",shareAchievement30:"!",shareAchievement14:"!",shareAchievement7:" !",shareAchievement3:" !",shareAchievementStart:" !",shareSubtext30:" 30+ ",shareSubtext14:" 14+ ",shareSubtext7:" 7+ ",shareSubtext3:" 3+ ",shareSubtextStart:" ",dismiss:"",challengesTitle:"  ",challengesSubtitle:"    ",activeChallenges:"",availableChallenges:"",badges:"",noChallengesActive:"  ",noChallengesActiveHint:" ,    ",progress:"",reward:"",target:"",startChallenge:" ",challengeActive:"",requirement:"",challengeTypeStreak:"",challengeTypeFocus:"",challengeTypeGratitude:"",challengeTypeTotal:"",friendChallenges:" ",createChallenge:" ",challengeDescription:"      ",challengeYourFriends:"  !",challengeDuration:" ",challengeCreated:" !",challengeDetails:" ",shareToInvite:",   !",trackWithFriends:"   ",challengeCode:" ",yourProgress:" ",daysLeft:" ",dayChallenge:" ",challengeCompleted:" !",noChallenges:"  ",createChallengePrompt:"    !",completedChallenges:"",expiredChallenges:"",youCreated:" ",createdBy:"",confirmDeleteChallenge:"  ?",challengeInvite:"   !",challengeJoinPrompt:"    ZenFlow!",challengeShareTip:"       .",joinChallenge:"",enterChallengeCode:"   ",invalidChallengeCode:" . : ZEN-XXXXXX",enterCodeToJoin:"  ,  ",joinChallengeHint:"    ",joining:"...",join:"",challengeWon:" !   !",catchUp:"   !   !",aheadOfSchedule:"  !   !",daysPassed:" ",daysCompleted:"",daysRemaining:"",hyperfocusMode:" ",hyperfocusStart:"",hyperfocusPause:"",hyperfocusResume:"",hyperfocusExit:"",hyperfocusReady:"  ?",hyperfocusFocusing:"  ...",hyperfocusPaused:"",hyperfocusTimeLeft:"",hyperfocusBreathe:"...",hyperfocusBreathDesc:" 4    4 ",hyperfocusEmergencyConfirm:"  ?   ! ",hyperfocusAmbientSound:" ",hyperfocusSoundNone:" ",hyperfocusSoundWhiteNoise:" ",hyperfocusSoundRain:"",hyperfocusSoundOcean:"",hyperfocusSoundForest:"",hyperfocusSoundCoffee:"",hyperfocusSoundFireplace:"",hyperfocusSoundVariants:" ",hyperfocusShowVariants:" ",hyperfocusHideVariants:" ",hyperfocusTip:"",hyperfocusTipText:" 25     .    !",hyperfocusPauseMsg:" Play,  ",widgetSettings:" ",widgetSettingsDesc:"    ",widgetPreview:"",widgetSetup:"",widgetInfo:"  ",widgetInfoDesc:"     ,    ,  -    .",widgetStatus:" ",widgetPlatform:"",widgetWeb:"Web ( )",widgetSupport:" ",widgetAvailable:"",widgetComingSoon:"",widgetSetupiOS:"   iOS",widgetSetupAndroid:"   Android",widgetStep1iOS:"    ,     ",widgetStep2iOS:' "+"    ',widgetStep3iOS:' "ZenFlow"   ',widgetStep4iOS:"   (,   )",widgetStep5iOS:' " "',widgetStep1Android:"      ",widgetStep2Android:' ""   ',widgetStep3Android:' "ZenFlow"   ',widgetStep4Android:"      ",widgetWebWarning:"   -",widgetWebWarningDesc:"      (iOS  Android).   ,   .",widgetWebTip:"-   ,    ,       .",widgetFeatures:" ",widgetFeature1:"    ",widgetFeature2:"    ",widgetFeature3:"  -",widgetFeature4:"  ",widgetFeature5:"    ",widgetSmall:" ",widgetMedium:" ",widgetLarge:" ",widgetNoData:"   ",todayHabits:"  ",lastBadge:" ",done:"",dopamineSettings:"Dopamine Dashboard",dopamineSettingsDesc:"   ",dopamineIntensity:" ",dopamineMinimal:"",dopamineNormal:"",dopamineADHD:"",dopamineMinimalDesc:"   ",dopamineNormalDesc:"  ",dopamineADHDDesc:" !    ",dopamineCustomize:" ",dopamineAnimations:"",dopamineAnimationsDesc:"   ",dopamineSounds:"",dopamineSoundsDesc:"    ",dopamineHaptics:"",dopamineHapticsDesc:"   (  )",dopamineConfetti:"",dopamineConfettiDesc:"  ",dopamineStreakFire:" ",dopamineStreakFireDesc:"   ",dopamineTip:"  ",dopamineTipText:"     !      .    .",dopamineSave:"  ",dailyRewards:" ",loginStreak:" ",day:"",claim:"!",claimed:"",streakBonus:"  ",dailyRewardsTip:"     !",spinWheel:" !",spinsAvailable:" ",spin:"",noSpins:" ",claimPrize:" !",challengeExpired:" ",challengeComplete:" !",earned:"",comboText:"",mysteryBox:"",openBox:"",premium:"ZenFlow Premium",premiumDescription:"  ,     !",language:"",selectLanguage:" ",welcomeTitle:"   ZenFlow",welcomeSubtitle:"      ",continue:"",version:"",tagline:"     ",sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",january:"",february:"",march:"",april:"",may:"",june:"",july:"",august:"",september:"",october:"",november:"",december:"",welcomeMessage:"   ZenFlow!",featureMood:" ",featureMoodDescription:"    ",featureHabits:"",featureHabitsDescription:"    ",featureFocus:"-",featureFocusDescription:"    Pomodoro",privacyNote:"     ",install:" ",installDescription:" ZenFlow   ",onboardingAgeTitle:"   ZenFlow",onboardingAgeDesc:"      13   ",onboardingAgeConfirm:"  13 ",onboardingAgeNote:",  ,    13 ",healthConnectAgeDesc:" Health Connect    13+      .",onboardingMoodTitle:"   ?",onboardingMoodDescription:"   ",onboardingHabitsTitle:"   ",onboardingHabitsDescription:"   ",onboardingRemindersTitle:"",onboardingRemindersDescription:"   ",enableReminders:" ",morning:"",afternoon:"",evening:"",close:"",skip:"",getStarted:"",next:"",remindersActive:" ",greatChoice:" !",habitsSelected:" ",tutorialWelcomeTitle:"   ZenFlow",tutorialWelcomeSubtitle:"    ",tutorialWelcomeDesc:",      ,         .",tutorialBrainTitle:"   ",tutorialBrainSubtitle:"     ?",tutorialBrainDesc:"ZenFlow       ,   .        ,    .",tutorialFeaturesTitle:"   ",tutorialFeaturesSubtitle:" ,  ",tutorialFeaturesDesc:"    :",tutorialFeature1:"   ",tutorialFeature2:"    ",tutorialFeature2b:"  ,   !",tutorialFeature3:"    ",tutorialFeature4:" ",tutorialMoodTitle:"  ",tutorialMoodSubtitle:" ,  ",tutorialMoodDesc:"    ,       .      .",tutorialFocusTitle:"  ",tutorialFocusSubtitle:" ,  ",tutorialFocusDesc:"      .   ,   .",tutorialDayClockTitle:"    ",tutorialDayClockSubtitle:"    ",tutorialDayClockDesc:"        ,   . ,       !",tutorialDayClockFeature1:"    ",tutorialDayClockFeature2:"     ",tutorialDayClockFeature3:"      ",tutorialDayClockFeature4:"  100%   !",tutorialMoodThemeTitle:"   ",tutorialMoodThemeSubtitle:"    ",tutorialMoodThemeDesc:"  ,    .       .",tutorialMoodThemeFeature1:"  :    ",tutorialMoodThemeFeature2:"  :   ",tutorialMoodThemeFeature3:"  :  ",tutorialMoodThemeFeature4:"  : ,  ",tutorialReadyTitle:" ?",tutorialReadySubtitle:"   ",tutorialReadyDesc:"     ,     .   !",tutorialStart:"!",weeklyReport:" ",weeklyStory:" ",incredibleWeek:" !",pathToMastery:"    !",greatWork:" !",keepMomentum:"    !",goodProgress:" !",everyStepCounts:"   !",newWeekOpportunities:"  -  !",startSmall:"  ,  !",bestDay:" ",continueBtn:"",storyAverageMoodScore:"  ",storyCompletionRate:"",storyTopHabit:" ",storyCompletions:"",storyPerfectDays:"    ",storyAvgSession:". ",storyLongestSession:" ",storyMostFocusedOn:"   :",storyTrackYourJourney:"   ",storyTapLeft:" ",storyTapCenter:" - ",storyTapRight:" ",generating:"...",dayStreak:" ",keepItUp:" !",myCompanion:" ",missedYou:"  !",welcomeBack:"    ",warmth:"",energy:"",wisdom:"",companionStreak:" !",chooseCompanion:" ",levelUpHint:" ,   XP   !",pet:"",feed:"",talk:"",happiness:"",satiety:"",companionMissesYou:"!   ! ",companionWantsToPlay:"   ?  ! ",companionWaiting:" !  -  ",companionProud:" !   ! ",companionCheersYou:"!  ! ",companionQuickMood:"!  ?  ! ",myWorld:" ",plants:"",creatures:"",level:"",startStreak:"  !",legendaryStreak:" !",amazingStreak:"!",goodStart:" !",todayActivities:"",companionPet:"",companionFeed:"",companionTalk:"",companionHappiness:"",companionHunger:"",companionHungryCanFeed:"  ...  ?",companionHungryNoTreats:"  ...     !",companionStreakLegend:" {streak} !  !",companionStreakGood:" {streak} !  !",companionAskMood:"     ?",companionAskHabits:"   !",companionAskFocus:"  ?",companionAskGratitude:"     ?",companionAllDone:"  !  !",companionHappy:"   !",companionMorning:"  !",companionAfternoon:"    ?",companionEvening:"  !",companionNight:" Zzz...",companionLevelUp:"  !  {level}!",companionNeedsFood:"  !",petReaction1:" **",petReaction2:"  !",petReaction3:" !",petReaction4:"  !",feedReaction1:" !",feedReaction2:" !",feedReaction3:" !",feedReaction4:" !",feedNotEnough:"  {needed} ,  {have}",free:"",fullness:"",earnTreatsHint:"      !",myTree:" ",touch:"",water:"",waterLevel:" ",growth:"",stage:"",treeThirstyCanWater:"   ...",treeThirstyNoTreats:" ...     !",treeStreakLegend:" {streak} !  !",treeStreakGood:" {streak} !  !",treeMaxStage:"   !",treeStage4:"   !",treeStage3:"    !",treeStage2:"     !",treeStage1:"    !",treeHappy:"  !",treeSeason:"{emoji}  {season}!",treeStageUp:"   {stage}!",treeMissedYou:"    !",treeNeedsWater:"  !",waterDecayHint:"   -2%  ",seasonTreeHint:"    !",xpToNextStage:"{xp} XP  {stage}",touchReaction1:" * *",touchReaction2:"  !",touchReaction3:"  !",touchReaction4:"  !",waterReaction1:" * *",waterReaction2:" !",waterReaction3:" !",waterReaction4:" !",waterNotEnough:"  {needed} ,  {have}",restDayTitle:" ",restDayMessage:",    ",restDayButton:" ",restDayCancel:"-  ",daysSaved:" ",expand:"",collapse:"",moodRecordedShort:" ",habitsCompletedShort:" ",focusCompletedShort:" ",gratitudeAddedShort:" ",allComplete:" !",allCompleteMessage:"     ",allCompleteSupportive:" !",allCompleteLegend:" !",allCompleteAmazing:"!",allCompleteGreat:" !",allCompleteNice:" !",daysStreak:" ",restDaySupportive:"   ",restDayCooldown:"    ",restDayAvailableIn:" ",taskMomentum:"",taskMomentumDesc:"- ",tasksInARow:" ",taskNamePlaceholder:" ...",durationMinutes:" ()",interestLevel:" (1-10)",markAsUrgent:" ",urgent:"",addTask:"",topRecommendedTasks:"-3 ",quickWins:"  ( 2 )",allTasks:" ",noTasksYet:"  ",addFirstTaskMessage:"    !",addFirstTask:" ",adhdTaskTips:" ",taskTip1:"    (2-5 )",taskTip2:"   ",taskTip3:"    ",taskTip4:" +  =  ",tasks:"",quests:"",challenges:"",openTasks:" ",openQuests:" ",openChallenges:" ",randomQuests:" ",questsPanelSubtitle:"    XP   ",adhdEngagementSystem:"  ",adhdEngagementDesc:"         -,   !",dailyQuest:" ",weeklyQuest:" ",bonusQuest:" ",newQuest:" ",limitedTime:" ",generate:"",noQuestAvailable:" ",noBonusQuestAvailable:"  ",bonusQuestsHint:"        ",questProgress:":",questExpired:"",questType:"",questTips:"  ",questTipDaily:"    24 ",questTipWeekly:"   3x XP",questTipBonus:"     5x XP",questTipExpire:"    !",companionHungry:" ...  ?",back:"",start:"",stop:"",allHabitsComplete:"  !",amazingWork:"  !",pageNotFound:"  ",goHome:" ",insightsTitle:" ",insightsNotEnoughData:"  ,      ,       .",insightsNoPatterns:"    .  ,  ,      !",insightsHelpTitle:" ",insightsHelp1:"        .",insightsHelp2:"       -     .",insightsHelp3:"      .",insightsDismiss:"",insightsShowMore:" ",insightsShowLess:" ",insightsDismissedCount:" ",insightsMoodEntries:" ",insightsHabitCount:"",insightsFocusSessions:"-",weeklyInsights:" ",weeklyInsightsNotEnoughData:"    ,      .",comparedToLastWeek:"    ",recommendations:"",avgMood:". .",week:"",recLowMoodTitle:"  ",recLowMoodDesc:"       .  ,     .",recLowMoodAction:" 5-  ",recHabitDeclineTitle:" ",recHabitDeclineDesc:"       .   ,   .",recHabitDeclineAction:"    ",recLowFocusTitle:"  ",recLowFocusDesc:"      .      .",recLowFocusAction:" 10-  ",recGreatProgressTitle:"  !",recGreatProgressDesc:"       .  !",recBestDayTitle:"    ",recBestDayDesc:" ,     ,    .",recGratitudeTitle:" ",recGratitudeDesc:" ,    ,      .",recGratitudeAction:"   ",recPerfectWeekTitle:" !",recPerfectWeekDesc:"      .    !",recTopHabitTitle:"  ",recTopHabitDesc:"      .    .",smartReminders:" ",smartRemindersNotEnoughData:"  ,      .",smartRemindersOptimized:"   !  .",smartRemindersDescription:"     ",suggestions:"",highConfidence:" ",mediumConfidence:"",lowConfidence:"",apply:"",habitRemindersOptimal:"  ",patternBased:" ",syncOffline:"",syncSyncing:"",syncLastSync:"",syncReady:"  ",syncBackup:"",syncReminders:"",syncChallenges:"",syncTasks:"",syncInnerWorld:"",syncBadges:"",onboardingTryNow:"",onboardingGotIt:"!",onboardingNext:"",onboardingGetStarted:"!",onboardingWelcomeTitle:"   ZenFlow! ",onboardingWelcomeDescription:"        ,      .",onboardingDay1Title:" ",onboardingDay1Description:"      :      .  .",onboardingGradualTitle:"   ",onboardingGradualDescription:"   4        .   !",onboardingDayProgress:" {day}  {maxDay}",onboardingFeaturesUnlocked:"",onboardingNextUnlock:" ",onboardingfocusTimerUnlockTitle:"   !",onboardingfocusTimerUnlockSubtitle:" !",onboardingfocusTimerDescription:"  Pomodoro   .  25 ,    ,   .   ADHD !",onboardingxpUnlockTitle:"  XP !",onboardingxpUnlockSubtitle:"  gamification!",onboardingxpDescription:"    , -   .      !",onboardingquestsUnlockTitle:"  !",onboardingquestsUnlockSubtitle:" !",onboardingquestsDescription:"        .     !",onboardingcompanionUnlockTitle:"  !",onboardingcompanionUnlockSubtitle:"  !",onboardingcompanionDescription:"      ,       .   5 !",onboardingtasksUnlockTitle:"  !",onboardingtasksUnlockSubtitle:" !",onboardingtasksDescription:"Task Momentum      ADHD.  ,   ,      .",onboardingchallengesUnlockTitle:"  !",onboardingchallengesUnlockSubtitle:" !",onboardingchallengesDescription:"      .      !",reengageTitle:" !",reengageSubtitle:"  {days} ",reengageStreakBroken:" ",reengageStreakProtected:" !",reengageStreakBrokenMsg:"   ,      !  : {streak} .",reengageStreakProtectedMsg:"   {streak}  ! !",reengageBestHabits:"  ",reengageSuccessRate:"",reengageQuickMood:"   ?",reengageMoodLogged:" !",reengageContinue:"!",trendsTitle:" ",trendsAvgMood:". .",trendsHabitRate:"",trendsFocusTime:"",trendsMoodChart:"  ",trendsHabitChart:" ",trendsFocusChart:" ",trendsTotalFocus:"",trendsInsightHint:"  ?",trendsInsightHintDesc:"          .",healthConnect:"Health Connect",healthConnectDescription:"  Google Health Connect",healthConnectLoading:" Health Connect...",healthConnectNotAvailable:"   ",healthConnectUpdateRequired:"  Health Connect",mindfulness:"",sleep:"",steps:"",stepsLabel:"",grantPermissions:" ",todayHealth:" ",syncFocusSessions:" -",syncFocusSessionsHint:" -    Health Connect",openHealthConnect:" Health Connect",refresh:"",permissions:"",questMorningMomentum:" ",questMorningMomentumDesc:" 3   12:00",questHabitMaster:" ",questHabitMasterDesc:" 5  ",questSpeedDemon:" ",questSpeedDemonDesc:" 3   30 ",questFocusFlow:" ",questFocusFlowDesc:"30    ",questDeepWork:" ",questDeepWorkDesc:"60   ",questHyperfocusHero:" ",questHyperfocusHeroDesc:"90    ",questStreakKeeper:" ",questStreakKeeperDesc:"  7 ",questConsistencyKing:" ",questConsistencyKingDesc:"  14 ",questGratitudeSprint:" ",questGratitudeSprintDesc:" 5   5 ",questThankfulHeart:" ",questThankfulHeartDesc:" 10  ",questLightningRound:" ",questLightningRoundDesc:" 5    15 ",questWeeklyWarrior:" ",questWeeklyWarriorDesc:"  7  ",feedbackTitle:" ",feedbackSubtitle:"    ",feedbackCategoryBug:"  ",feedbackCategoryFeature:" ",feedbackCategoryOther:"",feedbackMessagePlaceholder:"    ...",feedbackEmailPlaceholder:"Email ()",feedbackSubmit:"",feedbackSuccess:"   !",feedbackError:"  .  .",feedbackSending:"...",sendFeedback:" ",rateAppTitle:" ZenFlow?",rateAppSubtitle:"   Play Store",rateAppButton:"",rateAppLater:"",updateAvailable:" ",updateDescription:"        .",updateDescriptionCritical:"      .",updateNow:" ",updateAvailableFor:" {days} .",quickActions:" ",quickActionsDescription:"       ",quickActionsEnabled:"  ",quickActionsDisabled:"  ",quickActionLogMood:" ",quickActionStartFocus:" ",quickActionViewHabits:"",notificationSound:" ",notificationSoundDescription:"   ",soundDefault:" ",soundDefaultDesc:"  ",soundGentle:"",soundGentleDesc:" ",soundChime:"",soundChimeDesc:"  ",soundSilent:"",soundSilentDesc:"   ",testNotification:" ",testNotificationHint:"    5    .",insightConfidence:"",insightDataPoints:" ",insightAvgMoodWith:"   ",insightAvgMoodWithout:"   ",insightSampleDays:"  ",insightBestActivity:" ",insightPeakTime:" ",insightAvgDuration:" ",insightSessions:"",insightTagOccurrences:" ",insightMoodWithTag:"  ",insightMoodWithoutTag:"  ",insightDisclaimer:"    .   .",times:"",noMoodDataYet:"   ",noEmotionDataYet:"   ",xp:"XP"},en:{appName:"ZenFlow",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",home:"Home",stats:"Stats",settings:"Settings",streakDays:"Streak",days:"d",habitsToday:"Habits today",focusToday:"Focus today",minutes:"minutes",min:"min",gratitudes:"Gratitudes",howAreYouFeeling:"How are you feeling?",howAreYouNow:"How are you now?",moodToday:"Mood today",moodHistory:"Today's history",moodRecorded:"Mood Recorded!",moodNotes:"Mood Notes",todayProgress:"Today's Progress",completed:"Completed!",updateMood:"Update",great:"Great",good:"Good",okay:"Okay",bad:"Bad",terrible:"Terrible",addNote:"Add a note (optional)...",saveMood:"Save mood",startHere:"Start here",tapToStart:"Tap an emoji to start your day",moodPrompt:"What influenced it?",moodTagsTitle:"Tags",moodTagPlaceholder:"Add a tag...",moodTagAdd:"Add",moodTagFilter:"Filter by tag",allTags:"All tags",tagWork:"Work",tagFamily:"Family",tagHealth:"Health",tagSleep:"Sleep",tagMoney:"Money",tagWeather:"Weather",moodPatternsTitle:"Mood patterns",moodBestDay:"Best weekday",moodFocusComparison:"Mood vs focus",moodFocusWith:"With focus sessions",moodFocusWithout:"Without focus",moodHabitCorrelations:"Habits vs mood",moodNoData:"Not enough data",editMood:"Edit mood",changeMood:"Change mood",changeMoodConfirmTitle:"Change mood?",changeMoodConfirmMessage:"Are you sure you want to change your mood?",moodChanged:"Mood updated!",confirm:"Change",dailyProgress:"Daily Progress",continueProgress:"Continue your progress",dayTimeline:"Your Day",dayComplete:"of day",perfectDay:"Perfect Day!",startYourDay:"Start your day! ",keepGoing:"Keep going! You're doing great ",almostThere:"Almost there! ",soClose:"So close to perfection! ",legendaryDay:"LEGENDARY DAY! ",scheduleTitle:"Your Schedule",scheduleAddEvent:"Add Event",scheduleEmpty:"No events planned. Tap + to add your schedule!",scheduleEmptyDay:"No events for this day",scheduleStart:"Start",scheduleEnd:"End",scheduleAdd:"Add to Schedule",scheduleCustomTitle:"Custom title (optional)",scheduleWork:"Work",scheduleMeal:"Meal",scheduleRest:"Rest",scheduleExercise:"Exercise",scheduleStudy:"Study",scheduleMeeting:"Meeting",scheduleNote:"Note (optional)",scheduleNotePlaceholder:"Add details or reminders...",needInspiration:"Need inspiration?",journalPrompt:"Prompt",dailyPrompt:"Daily Prompt",usePrompt:"Use this prompt",shufflePrompt:"Get another prompt",mindfulMoment:"Mindful Moment",takeAMoment:"Take a moment...",withNote:"with note",whatsMakingYouFeel:"What's making you feel this way?",emotionSaved:"Emotion saved",treat:"treat",moodGood:"Good",moodOkay:"Okay",moodNotGreat:"Not great",timeUntilEndOfDay:"Until end of day",timeIn:"in",timePassed:"Time passed",timeNow:"Now!",hoursShort:"h",minutesShort:"m",night:"Night",aiInsights:"AI Insights",aiInsight:"AI Insight",personalizedForYou:"Personalized for you",insightsNeedMoreData:"Log your mood for a week to unlock personalized insights!",daysLogged:"days logged",showMore:"Show",moreInsights:"more insights",hideInsights:"Hide insights",insightBestDayTitle:"{day}s are your best!",insightBestDayDesc:"Your mood tends to be highest on {day}s. Consider scheduling important tasks then.",insightBestTimeTitle:"You shine brightest in the {period}",insightBestTimeDesc:"Your mood is typically better during {period} hours. Schedule demanding tasks then!",insightHabitBoostsTitle:'"{habit}" boosts your mood!',insightHabitBoostsDesc:'When you complete "{habit}", your mood tends to be {percent}% better. Keep it up!',insightFocusMoodTitle:"Focus time = Better mood!",insightFocusMoodDesc:"On days you do focus sessions, your mood is {percent}% better. Deep work pays off!",insightGratitudeMoodTitle:"Gratitude lifts your mood!",insightGratitudeMoodDesc:"Days with gratitude entries show {percent}% better mood. Keep practicing gratitude!",insightMoodUpTitle:"Your mood is improving!",insightMoodUpDesc:"Your average mood this week is {percent}% better than last week. You're doing great!",insightMoodDownTitle:"Let's boost your mood!",insightMoodDownDesc:"Your mood has dipped a bit. Try focusing on habits that usually make you feel good.",insightHighConsistencyTitle:"Amazing consistency!",insightHighConsistencyDesc:"You've logged your mood {days} of the last 14 days. This self-awareness is powerful!",insightLowConsistencyTitle:"Build your logging habit",insightLowConsistencyDesc:"Try logging your mood at the same time each day. Consistency helps you spot patterns!",hintFirstMoodTitle:"How are you feeling?",hintFirstMoodDesc:"Start your day by logging your mood. It takes just 5 seconds and helps you understand yourself better!",hintFirstMoodAction:"Log mood",hintFirstHabitTitle:"Build your first habit",hintFirstHabitDesc:"Small habits lead to big changes. Try adding something simple like 'Drink water' or 'Take a break'.",hintFirstHabitAction:"Add habit",hintFirstFocusTitle:"Ready to focus?",hintFirstFocusDesc:"Use the focus timer with calming sounds. Start with just 25 minutes - your brain will thank you!",hintFirstFocusAction:"Start focus",hintFirstGratitudeTitle:"Practice gratitude",hintFirstGratitudeDesc:"Write down one thing you're grateful for. It's a powerful mood booster!",hintFirstGratitudeAction:"Add gratitude",hintScheduleTipTitle:"Plan your day",hintScheduleTipDesc:"Use the timeline to see your day at a glance. Add events to stay on track!",hintScheduleTipAction:"View timeline",habits:"Habits",habitName:"Habit name...",icon:"Icon",color:"Color",addHabit:"Add habit",addFirstHabit:"Add your first habit! ",completedTimes:"Completed",habitNameHint:"Enter a habit name to add it.",habitType:"Habit type",habitTypeDaily:"Daily",habitTypeWeekly:"Weekly goal",habitTypeFrequency:"Every N days",habitTypeReduce:"Reduce (limit)",habitWeeklyGoal:"Weekly goal (times)",habitFrequencyInterval:"Interval (days)",habitReduceLimit:"Daily limit",habitStrictStreak:"Strict streak",habitGraceDays:"Grace days per week",habitWeeklyProgress:"This week",habitEvery:"Every",habitReduceProgress:"Today",noHabitsToday:"No habits today.",habitsOther:"Other habits",habitTypeContinuous:"Continuous (quit)",habitTypeScheduled:"Scheduled",habitTypeMultiple:"Multiple times per day",habitDailyTarget:"Daily target",habitStartDate:"Start date",habitReminders:"Reminders",habitAddReminder:"Add reminder",habitReminderTime:"Time",habitReminderDays:"Days of week",habitReminderEnabled:"Enabled",habitRemindersPerHabit:"Reminders are now configured individually for each habit. Add reminders when creating or editing habits.",perHabitRemindersTitle:"Per-Habit Reminders",perHabitRemindersDesc:"Each habit can have its own custom reminder times. Set them when creating a new habit or editing an existing one.",quickAdd:"Quick Add",createCustomHabit:"Create custom habit",streak:"streak",habitFrequency:"Frequency",habitFrequencyOnce:"One-time",habitFrequencyDaily:"Daily",habitFrequencyWeekly:"Weekly",habitFrequencyCustom:"Custom",habitFrequencySelectDays:"Select Days",habitDurationRequired:"Requires Duration?",habitTargetDuration:"Target Duration (minutes)",addReminder:"Add",noReminders:"No reminders set",habitEventExplanation:"This event is from your habit. Edit the habit to change it.",habitDurationMinutes:"minutes",focus:"Focus",breakTime:"Break",todayMinutes:"min today",concentrate:"Concentrate",takeRest:"Take a rest",focusPreset25:"25/5",focusPreset50:"50/10",focusPresetCustom:"Custom",focusLabelPrompt:"What are you focusing on?",focusLabelPlaceholder:"e.g. Report, Study, Project...",focusCustomWork:"Work (min)",focusCustomBreak:"Break (min)",focusReflectionTitle:"Reflection",focusReflectionQuestion:"How was the session?",focusReflectionSkip:"Skip",focusReflectionSave:"Save",breathingTitle:"Breathing",breathingSubtitle:"Calm your mind",breathingBox:"Box Breathing",breathingBoxDesc:"Equal phases for focus",breathing478:"4-7-8 Relaxing",breathing478Desc:"Deep calming breath",breathingEnergize:"Energizing Breath",breathingEnergizeDesc:"Quick energy boost",breathingSleep:"Sleep Preparation",breathingSleepDesc:"Slow exhales for sleep",breatheIn:"Breathe in",breatheOut:"Breathe out",hold:"Hold",cycles:"cycles",cycle:"Cycle",effectCalming:"Calming",effectFocusing:"Focus",effectEnergizing:"Energy",effectSleeping:"Sleep",startBreathing:"Start",breathingComplete:"Well done!",breathingCompleteMsg:"You completed the breathing exercise",breathingAgain:"Do again",pause:"Pause",resume:"Resume",gratitude:"Gratitude",today:"today",tomorrow:"tomorrow",scheduleDate:"Date",whatAreYouGratefulFor:"What are you grateful for today?",iAmGratefulFor:"I am grateful for...",save:"Save",cancel:"Cancel",recentEntries:"Recent entries",gratitudeTemplate1:"Today I am grateful for...",gratitudeTemplate2:"A good moment today...",gratitudeTemplate3:"I appreciate in myself...",gratitudeLimit:"Up to 3 items per day",gratitudeMemoryJar:"Memory jar",thisWeek:"This week",statistics:"Statistics",monthlyOverview:"Monthly overview",statsRange:"Range",statsRangeWeek:"Week",statsRangeMonth:"Month",statsRangeAll:"All time",statsRangeApply:"Apply",calendarTitle:"Calendar",calendarYear:"Year",calendarSelectDay:"Select a day",calendarPrevMonth:"Previous month",calendarNextMonth:"Next month",moodEntries:"Mood entries",focusMinutes:"Focus minutes",achievements:"Achievements",toLevel:"To level",unlockedPercent:"{percent}% Unlocked",all:"All",unlocked:"Unlocked",locked:"Locked",unlockedOn:"Unlocked on {date}",hiddenAchievement:"???",hidden:"Hidden",noAchievementsYet:"No achievements yet",startUsingZenFlow:"Start using ZenFlow to unlock achievements!",achievementUnlocked:"Achievement Unlocked!",userLevel:"Level",focusSession:"Focus Session",timeBlindnessHelper:"Time Blindness Helper",visualTimeAwareness:"Visual time awareness for ADHD",hoursMinutesLeft:"{hours}h {mins}m left",minutesLeft:"{mins}m left",timesUp:"Time's up!",youllFinishAt:" You'll finish at:",nMinutes:"{n} minutes",pingEveryMinutes:"Ping Every (minutes)",audioPings:"Audio Pings",testSound:" Test",soundOn:"On",soundOff:"Off",startTimer:"Start Timer",pauseTimer:"Pause",resetTimer:"Reset",adhdTimeManagement:"ADHD Time Management",adhdTip1:"Audio pings help track time passing",adhdTip2:"Visual countdown reduces anxiety",adhdTip3:"End time prediction = better planning",adhdTip4:"Color changes warn when time is low",currentStreak:"Current streak",daysInRow:"Days in a row",totalFocus:"Total focus",allTime:"All time",habitsCompleted:"Habits completed",totalTimes:"Total times",moodDistribution:"Mood distribution",moodHeatmap:"Mood heatmap",activityHeatmap:"Activity Overview",less:"Less",more:"More",topHabit:"Top habit",completedTimes2:"times",profile:"Profile",yourName:"Your name",nameSaved:"Name saved",notifications:"Notifications",notificationsComingSoon:"Notifications will be available in future updates.",data:"Data",exportData:"Export data",importData:"Import data",importMode:"Import mode",importMerge:"Merge",importReplace:"Replace",exportSuccess:"Export ready.",exportError:"Failed to export data.",exportCSV:"Export CSV",exportPDF:"Export PDF",importSuccess:"Import complete.",importError:"Failed to import file.",importedItems:"Added",importAdded:"added",importUpdated:"updated",importSkipped:"skipped",textTooLong:"Text is too long (max 2000 characters)",invalidInput:"Please check your input",comingSoon:"coming soon",resetAllData:"Reset all data",privacyTitle:"Privacy",privacyDescription:"Your data stays on device. No hidden tracking.",privacyNoTracking:"No tracking",privacyNoTrackingHint:"We do not collect behavioral data.",privacyAnalytics:"Analytics",privacyAnalyticsHint:"Helps improve the app. You can turn it off.",privacyPolicy:"Privacy policy",termsOfService:"Terms of service",appearance:"Appearance",oledDarkMode:"OLED Dark Mode",oledDarkModeHint:"Pure black theme for OLED screens. Saves battery.",whatsNewTitle:"What's New",whatsNewVersion:"Version",whatsNewGotIt:"Got it!",skipToContent:"Skip to main content",settingsCloudSyncTitle:"Enable Cloud Sync",settingsCloudSyncDescription:"Sync your data across devices",settingsCloudSyncEnabled:"Cloud sync enabled",settingsCloudSyncDisabledByUser:"Sync disabled",settingsExportTitle:"Export Backup",settingsExportDescription:"Save all your data to a file",settingsImportTitle:"Import Backup",settingsImportMergeTooltip:"Imported data will be added to existing. Duplicates skipped.",settingsImportReplaceTooltip:" All current data will be deleted and replaced with import",settingsImportReplaceConfirm:'Type "REPLACE" to confirm deletion of all data',invalidFileType:"Invalid file type. JSON required.",fileTooLarge:"File too large (max 10 MB)",importConfirm:"Confirm import",invalidBackupFormat:"Invalid backup format",settingsWhatsNewTitle:"What's New in v1.3.0",settingsWhatsNewLeaderboards:"Leaderboards",settingsWhatsNewLeaderboardsDesc:"Compete anonymously with others",settingsWhatsNewSpotify:"Spotify Integration",settingsWhatsNewSpotifyDesc:"Auto-play music during focus sessions",settingsWhatsNewChallenges:"Friend Challenges",settingsWhatsNewChallengesDesc:"Challenge friends to build habits together",settingsWhatsNewDigest:"Weekly Digest",settingsWhatsNewDigestDesc:"Get progress reports in your inbox",settingsWhatsNewSecurity:"Enhanced Security",settingsWhatsNewSecurityDesc:"Better data protection & privacy",settingsWhatsNewGotIt:"Got it!",settingsSectionAccount:"Account & Cloud",settingsSectionData:"Data & Backup",weeklyDigestTitle:"Weekly Progress Report",weeklyDigestDescription:"Receive a weekly summary of your habits, focus time, and mood trends every Sunday.",weeklyDigestEnabled:"You'll receive reports at your email",changelogTitle:"Version History",changelogExpandAll:"Expand All",changelogCollapseAll:"Collapse All",changelogEmpty:"No version history available",changelogAdded:"Added",changelogFixed:"Fixed",changelogChanged:"Changed",changelogRemoved:"Removed",settingsGroupProfile:"Profile & Appearance",settingsGroupNotifications:"Notifications",settingsGroupData:"Data & Privacy",settingsGroupAccount:"Account",settingsGroupAbout:"About",consentTitle:"Privacy Settings",consentDescription:"We respect your privacy. Help us improve the app by allowing anonymous analytics?",consentAnalyticsTitle:"Anonymous Analytics",consentAnalyticsDesc:"Usage patterns only. No personal data. You can change this anytime in Settings.",consentAccept:"Allow",consentDecline:"No thanks",consentFooter:"You can change this anytime in Settings > Privacy",installApp:"Install app",installAppDescription:"Install ZenFlow for faster launch and offline access.",installBannerTitle:"Install ZenFlow",installBannerBody:"Get faster launch and offline access by installing the app.",installNow:"Install",installLater:"Later",appInstalled:"App installed",appInstalledDescription:"ZenFlow is installed on your device.",checkForUpdates:"Check for updates",checkingForUpdates:"Checking for updates...",appUpToDate:"You have the latest version",openGooglePlay:"Open Google Play",updateCheckFailed:"Failed to check for updates",remindersTitle:"Reminders",remindersDescription:"Gentle nudges to keep you on track.",moodReminder:"Mood check-in time",habitReminder:"Habit reminder time",focusReminder:"Focus nudge time",quietHours:"Quiet hours",reminderDays:"Days of week",selectedHabits:"Habits to remind",noHabitsYet:"No habits yet.",reminderMoodTitle:"Hey, quick check! ",reminderMoodBody:"30 seconds to thank your brain. How are you feeling?",reminderHabitTitle:"Tiny habit time! ",reminderHabitBody:"Small step = big win. Ready to crush it?",reminderFocusTitle:"Focus power-up! ",reminderFocusBody:"Just 25 mins to hero mode. Let's go?",reminderDismiss:"Not now",notificationPermissionTitle:"Stay on Track",notificationPermissionDescription:"Get gentle reminders to track your mood, complete habits, and take focus breaks. Notifications help you build healthy routines.",notificationFeature1Title:"Daily Mood Reminders",notificationFeature1Desc:"Check in with yourself every day",notificationFeature2Title:"Habit Tracking",notificationFeature2Desc:"Stay consistent with your goals",notificationFeature3Title:"Focus Sessions",notificationFeature3Desc:"Get reminded to take productive breaks",notificationAllow:"Enable Notifications",notificationDeny:"Maybe Later",notificationPrivacyNote:"You can change this anytime in Settings. Notifications are local and private.",onboardingStep:"Step",onboardingValueTitle:"Track mood + habits in 30 seconds a day",onboardingValueBody:"Quick check-ins, zero clutter, fully private.",onboardingStart:"Start in 30 sec",onboardingExplore:"Explore",onboardingGoalTitle:"Pick your focus",onboardingGoalLessStress:"Less stress",onboardingGoalLessStressDesc:"Calm and gentle habits",onboardingGoalMoreEnergy:"More energy",onboardingGoalMoreEnergyDesc:"Sleep, movement, hydration",onboardingGoalBetterRoutine:"Better routine",onboardingGoalBetterRoutineDesc:"Stability and rhythm",onboardingContinue:"Continue",onboardingCheckinTitle:"Quick check-in",onboardingHabitsPrompt:"Choose two habits",onboardingPickTwo:"Pick up to two",onboardingReminderTitle:"Enable reminders",onboardingReminderBody:"Choose a time that fits you. No spam.",onboardingMorning:"Morning",onboardingEvening:"Evening",onboardingEnable:"Enable",onboardingSkip:"Skip for now",onboardingHabitBreathing:"Breathing",onboardingHabitEveningWalk:"Evening walk",onboardingHabitStretch:"Stretch",onboardingHabitJournaling:"Journaling",onboardingHabitWater:"Water",onboardingHabitSunlight:"Sunlight",onboardingHabitMovement:"Movement",onboardingHabitSleepOnTime:"Sleep on time",onboardingHabitMorningPlan:"Morning plan",onboardingHabitRead:"Read 10 min",onboardingHabitNoScreens:"No late screens",onboardingHabitDailyReview:"Daily review",account:"Account",accountDescription:"Sign in by email to sync progress across devices.",emailPlaceholder:"you@email.com",sendMagicLink:"Send magic link",continueWithGoogle:"Continue with Google",signedInAs:"Signed in as",signOut:"Sign out",syncNow:"Sync now",cloudSyncDisabled:"Cloud sync disabled.",deleteAccount:"Delete account",deleteAccountConfirm:"Delete your account?",deleteAccountWarning:"This will remove cloud data and access to your account.",deleteAccountSuccess:"Account deleted.",deleteAccountError:"Failed to delete account.",deleteAccountLink:"How to delete account/data",authEmailSent:"Login link sent to your email.",authSignedOut:"Signed out.",authError:"Failed to send link.",authNotConfigured:"Supabase not configured.",syncSuccess:"Sync complete.",syncPulled:"Cloud data restored.",syncPushed:"Cloud updated.",syncError:"Sync failed.",authGateTitle:"Sign in",authGateBody:"Sign in by email to save progress and sync across devices.",authGateContinue:"Continue without account",errorBoundaryTitle:"Something went wrong",errorBoundaryBody:"Try reloading the app or export a debug report.",errorBoundaryExport:"Export debug report",errorBoundaryReload:"Reload app",pushTitle:"Push notifications",pushEnable:"Enable push",pushDisable:"Disable push",pushTest:"Test push",pushTestTitle:"ZenFlow",pushTestBody:"Test notification.",pushTestSent:"Test sent.",pushTestError:"Failed to send test.",pushNowMood:"Push: mood",pushNowHabit:"Push: habits",pushNowFocus:"Push: focus",pushEnabled:"Push enabled.",pushDisabled:"Push disabled.",pushError:"Failed to enable push.",pushNeedsAccount:"Sign in to enable push.",pushPermissionDenied:"Notification permission denied.",areYouSure:"Are you sure?",cannotBeUndone:"This action cannot be undone.",delete:"Delete",shareAchievements:"Share Your Progress",shareDialogTitle:"Share your progress",shareTitle:"My Progress on ZenFlow",shareText:"{streak} day streak! {habits} habits completed, {focus} minutes of focus.",shareButton:"Share",shareDownload:"Download Image",shareDownloading:"Downloading...",shareCopyLink:"Copy Link",shareCopied:"Copied!",sharePrivacyNote:"No personal data is shared. Only your progress summary.",shareStreak:"Day Streak",shareHabits:"Habits",shareFocus:"Minutes",shareGratitude:"Gratitudes",shareFooter:"Track your habits, mood & focus",myProgress:"My Progress",shareSquare:"Post 1:1",shareStory:"Story 9:16",shareFormatHint:" Story format for Instagram/TikTok  Post format for feeds",shareFailed:"Failed to share. Please try again.",shareAchievement30:"Legendary!",shareAchievement14:"Unstoppable!",shareAchievement7:"On Fire!",shareAchievement3:"Rising Star!",shareAchievementStart:"Just Started!",shareSubtext30:"30+ Day Master",shareSubtext14:"14+ Day Warrior",shareSubtext7:"7+ Day Streak",shareSubtext3:"3+ Day Streak",shareSubtextStart:"Building Habits",dismiss:"Dismiss",challengesTitle:"Challenges & Badges",challengesSubtitle:"Take on challenges and earn badges",activeChallenges:"Active",availableChallenges:"Available",badges:"Badges",noChallengesActive:"No Active Challenges",noChallengesActiveHint:"Start a challenge to track your progress",progress:"Progress",reward:"Reward",target:"Target",startChallenge:"Start Challenge",challengeActive:"Active",requirement:"Requirement",challengeTypeStreak:"Streak",challengeTypeFocus:"Focus",challengeTypeGratitude:"Gratitude",challengeTypeTotal:"Total",friendChallenges:"Friend Challenges",createChallenge:"Create Challenge",challengeDescription:"Challenge friends to build habits together",challengeYourFriends:"Challenge your friends to this habit!",challengeDuration:"Challenge Duration",challengeCreated:"Challenge Created!",challengeDetails:"Challenge Details",shareToInvite:"Share to invite friends!",trackWithFriends:"Track your challenges with friends",challengeCode:"Challenge Code",yourProgress:"Your Progress",daysLeft:"days left",dayChallenge:"day challenge",challengeCompleted:"Challenge Complete!",noChallenges:"No challenges yet",createChallengePrompt:"Create a challenge from any habit!",completedChallenges:"Completed",expiredChallenges:"Expired",youCreated:"You created this",createdBy:"Created by",confirmDeleteChallenge:"Delete this challenge?",challengeInvite:"Join my challenge!",challengeJoinPrompt:"Join me on ZenFlow!",challengeShareTip:"You'll be able to share this challenge with friends after creating it.",joinChallenge:"Join Challenge",enterChallengeCode:"Enter the code from your friend",invalidChallengeCode:"Invalid code. Format: ZEN-XXXXXX",enterCodeToJoin:"Enter a challenge code to join your friends",joinChallengeHint:"Ask your friend to share their challenge code with you",joining:"Joining...",join:"Join",challengeWon:" Amazing! You completed the challenge!",catchUp:" You can catch up! Every day counts!",aheadOfSchedule:" Great pace! You're ahead of schedule!",daysPassed:"Days Passed",daysCompleted:"Completed",daysRemaining:"Remaining",hyperfocusMode:"Hyperfocus Mode",hyperfocusStart:"Start",hyperfocusPause:"Pause",hyperfocusResume:"Resume",hyperfocusExit:"Exit",hyperfocusReady:"Ready for hyperfocus?",hyperfocusFocusing:"In the zone...",hyperfocusPaused:"Paused",hyperfocusTimeLeft:"left",hyperfocusBreathe:"Breathe...",hyperfocusBreathDesc:"Inhale 4s  Exhale 4s",hyperfocusEmergencyConfirm:"Want to pause the session? No guilt! ",hyperfocusAmbientSound:"Ambient Sound",hyperfocusSoundNone:"None",hyperfocusSoundWhiteNoise:"White Noise",hyperfocusSoundRain:"Rain",hyperfocusSoundOcean:"Ocean",hyperfocusSoundForest:"Forest",hyperfocusSoundCoffee:"Coffee Shop",hyperfocusSoundFireplace:"Fireplace",hyperfocusSoundVariants:"Sound variants",hyperfocusShowVariants:"Show variants",hyperfocusHideVariants:"Hide variants",hyperfocusTip:"Tip",hyperfocusTipText:"Every 25 minutes there will be a short breathing pause. This helps prevent burnout!",hyperfocusPauseMsg:"Press Play to continue",widgetSettings:"Widget Settings",widgetSettingsDesc:"Configure widgets for your home screen",widgetPreview:"Preview",widgetSetup:"Setup",widgetInfo:"Widgets update automatically",widgetInfoDesc:"Widget data syncs whenever you update habits, complete focus sessions, or earn new badges.",widgetStatus:"Widget Status",widgetPlatform:"Platform",widgetWeb:"Web (widgets unavailable)",widgetSupport:"Widget Support",widgetAvailable:"Available",widgetComingSoon:"Coming Soon",widgetSetupiOS:"iOS Widget Setup",widgetSetupAndroid:"Android Widget Setup",widgetStep1iOS:"Long press on home screen until icons wiggle",widgetStep2iOS:'Tap "+" in the top left corner',widgetStep3iOS:'Find "ZenFlow" in the app list',widgetStep4iOS:"Choose widget size (small, medium, or large)",widgetStep5iOS:'Tap "Add Widget"',widgetStep1Android:"Long press on empty space on home screen",widgetStep2Android:'Tap "Widgets" in the menu',widgetStep3Android:'Find "ZenFlow" in the app list',widgetStep4Android:"Drag the widget to your home screen",widgetWebWarning:"Widgets unavailable in web version",widgetWebWarningDesc:"Widgets only work on mobile devices (iOS and Android). Install the mobile app to use widgets.",widgetWebTip:"Web version shows widget previews so you can see how they look on mobile.",widgetFeatures:"Widget Features",widgetFeature1:"Display current streak days",widgetFeature2:"Today's habit completion progress",widgetFeature3:"Focus session minutes",widgetFeature4:"Latest earned badge",widgetFeature5:"Habit list with completion status",widgetSmall:"Small Widget",widgetMedium:"Medium Widget",widgetLarge:"Large Widget",widgetNoData:"No widget data available",todayHabits:"Today's Habits",lastBadge:"Latest Badge",done:"done",dopamineSettings:"Dopamine Dashboard",dopamineSettingsDesc:"Customize your feedback experience",dopamineIntensity:"Intensity Level",dopamineMinimal:"Minimal",dopamineNormal:"Normal",dopamineADHD:"ADHD",dopamineMinimalDesc:"Quiet, distraction-free experience",dopamineNormalDesc:"Balanced feedback and motivation",dopamineADHDDesc:"Maximum dopamine! All effects enabled ",dopamineCustomize:"Fine-tune Settings",dopamineAnimations:"Animations",dopamineAnimationsDesc:"Smooth transitions and effects",dopamineSounds:"Sounds",dopamineSoundsDesc:"Success sounds and audio feedback",dopamineHaptics:"Haptics",dopamineHapticsDesc:"Vibration feedback (mobile only)",dopamineConfetti:"Confetti",dopamineConfettiDesc:"Celebrate habit completions",dopamineStreakFire:"Streak Fire",dopamineStreakFireDesc:"Animated fire for streaks",dopamineTip:"ADHD Tip",dopamineTipText:"ADHD brains need more dopamine! Try ADHD mode for maximum motivation and feedback. You can always adjust individual settings.",dopamineSave:"Save & Close",dailyRewards:"Daily Rewards",loginStreak:"Login Streak",day:"Day",claim:"Claim!",claimed:"Claimed",streakBonus:"Streak Bonus",dailyRewardsTip:"Come back every day for better rewards!",spinWheel:"Spin the Wheel!",spinsAvailable:"Spins Available",spin:"SPIN",noSpins:"No Spins Left",claimPrize:"Claim Prize!",challengeExpired:"Challenge Expired",challengeComplete:"Challenge Complete!",earned:"earned",comboText:"COMBO",mysteryBox:"Mystery Box",openBox:"Open",premium:"ZenFlow Premium",premiumDescription:"Unlock advanced analytics, data export and premium themes!",language:"Language",selectLanguage:"Select language",welcomeTitle:"Welcome to ZenFlow",welcomeSubtitle:"Your journey to mindful living starts here",continue:"Continue",version:"Version",tagline:"Your path to mindful living ",sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",welcomeMessage:"Welcome to ZenFlow!",featureMood:"Mood tracking",featureMoodDescription:"Track your mood every day",featureHabits:"Habits",featureHabitsDescription:"Create and track healthy habits",featureFocus:"Focus sessions",featureFocusDescription:"Stay focused with Pomodoro timer",privacyNote:"Your data is stored locally and protected",install:"Install app",installDescription:"Install ZenFlow on your home screen",onboardingAgeTitle:"Welcome to ZenFlow",onboardingAgeDesc:"This app is designed for users aged 13 and older",onboardingAgeConfirm:"I am 13 years or older",onboardingAgeNote:"By continuing, you confirm that you are 13 years of age or older",healthConnectAgeDesc:"Health Connect features require you to be 13 years or older to use health data responsibly.",onboardingMoodTitle:"How are you feeling?",onboardingMoodDescription:"Track your mood daily",onboardingHabitsTitle:"Create your first habits",onboardingHabitsDescription:"Start with small steps",onboardingRemindersTitle:"Reminders",onboardingRemindersDescription:"Get reminders for your habits",enableReminders:"Enable reminders",morning:"Morning",afternoon:"Afternoon",evening:"Evening",close:"Close",skip:"Skip",getStarted:"Get started",next:"Next",remindersActive:"Reminders active",greatChoice:"Great choice!",habitsSelected:"habits selected",tutorialWelcomeTitle:"Welcome to ZenFlow",tutorialWelcomeSubtitle:"Your personal wellness companion",tutorialWelcomeDesc:"An app designed to help you stay focused, build healthy habits, and feel better every day.",tutorialBrainTitle:"Built for your brain",tutorialBrainSubtitle:"Whether you have ADHD or just struggle with focus",tutorialBrainDesc:"ZenFlow uses science-backed techniques to help you manage attention, time, and energy. No diagnosis needed  if you struggle with focus, this app is for you.",tutorialFeaturesTitle:"What you can do",tutorialFeaturesSubtitle:"Simple tools, big impact",tutorialFeaturesDesc:"Track your progress and build momentum:",tutorialFeature1:"Track daily mood and energy",tutorialFeature2:"Build habits step by step",tutorialFeature2b:" Customize icons, colors & goals!",tutorialFeature3:"Focus sessions with ambient sounds",tutorialFeature4:"Gratitude journaling",tutorialMoodTitle:"Understand yourself",tutorialMoodSubtitle:"Track moods to find patterns",tutorialMoodDesc:"Quick daily check-ins help you notice what affects your energy and focus. Over time, you'll understand yourself better.",tutorialFocusTitle:"Deep focus mode",tutorialFocusSubtitle:"Block distractions, get things done",tutorialFocusDesc:"Use the Pomodoro technique with calming ambient sounds. Perfect for work, study, or creative projects.",tutorialDayClockTitle:"Your Day at a Glance",tutorialDayClockSubtitle:"Visual energy meter for ADHD brains",tutorialDayClockDesc:"See your day as a circle with morning, afternoon, and evening zones. Watch your energy grow as you complete activities!",tutorialDayClockFeature1:" Energy meter fills up with progress",tutorialDayClockFeature2:" Mascot reacts to your achievements",tutorialDayClockFeature3:" Track all activities in one place",tutorialDayClockFeature4:" Reach 100% for Perfect Day!",tutorialMoodThemeTitle:"App Adapts to You",tutorialMoodThemeSubtitle:"Design changes with your mood",tutorialMoodThemeDesc:"When you feel great, the app celebrates with vibrant colors. When you feel down, it becomes calm and supportive.",tutorialMoodThemeFeature1:" Great mood: Vibrant purple & gold",tutorialMoodThemeFeature2:" Good mood: Warm greens",tutorialMoodThemeFeature3:" Bad mood: Calming blues",tutorialMoodThemeFeature4:" Tough times: Gentle, minimal design",tutorialReadyTitle:"Ready to start?",tutorialReadySubtitle:"Your journey begins now",tutorialReadyDesc:"Start small  just check in with how you're feeling today. Every step counts!",tutorialStart:"Let's Go!",weeklyReport:"Weekly Report",weeklyStory:"Weekly Story",incredibleWeek:"Incredible Week!",pathToMastery:"You're on the path to mastery!",greatWork:"Great Work!",keepMomentum:"Keep up the momentum!",goodProgress:"Good Progress!",everyStepCounts:"Every step counts!",newWeekOpportunities:"New Week - New Opportunities!",startSmall:"Start small, move forward!",bestDay:"Best Day",continueBtn:"Continue",storyAverageMoodScore:"average mood score",storyCompletionRate:"completion rate",storyTopHabit:"Top habit",storyCompletions:"completions",storyPerfectDays:"perfect days this week",storyAvgSession:"avg session",storyLongestSession:"longest",storyMostFocusedOn:"Most focused on:",storyTrackYourJourney:"Track your journey with",storyTapLeft:" Tap left",storyTapCenter:"Tap center to pause",storyTapRight:"Tap right ",generating:"Generating...",dayStreak:"day streak",keepItUp:"Keep it up!",myCompanion:"My Companion",missedYou:"missed you!",welcomeBack:"Welcome back to your garden",warmth:"Warmth",energy:"Energy",wisdom:"Wisdom",companionStreak:"Day Streak!",chooseCompanion:"Choose Companion",levelUpHint:"Complete activities to earn XP and level up!",pet:"Pet",feed:"Feed",talk:"Talk",happiness:"Happiness",satiety:"Fullness",companionMissesYou:"Hey! I missed you! ",companionWantsToPlay:"Wanna hang out? It's fun here! ",companionWaiting:"Waiting for you! Got something cool ",companionProud:"YOU'RE AMAZING! So proud! ",companionCheersYou:"Go go go! You got this! ",companionQuickMood:"Psst! How's it going? Tap here! ",myWorld:"My World",plants:"Plants",creatures:"Creatures",level:"Level",startStreak:"Start your streak today!",legendaryStreak:"Legendary streak!",amazingStreak:"Amazing!",goodStart:"Great start!",todayActivities:"Today",companionPet:"Pet",companionFeed:"Feed",companionTalk:"Talk",companionHappiness:"Happiness",companionHunger:"Fullness",companionHungryCanFeed:" I'm hungry... Feed me?",companionHungryNoTreats:" I'm hungry... Do activities to earn treats!",companionStreakLegend:" {streak} days! You're a legend!",companionStreakGood:" {streak} days! Keep it up!",companionAskMood:" How are you feeling today?",companionAskHabits:" Time for habits!",companionAskFocus:" Ready to focus?",companionAskGratitude:" What are you grateful for?",companionAllDone:" Perfect day! You're amazing!",companionHappy:" I love you!",companionMorning:" Good morning!",companionAfternoon:" How's your day going?",companionEvening:" Good evening!",companionNight:" Zzz...",companionLevelUp:" Level up! Now level {level}!",companionNeedsFood:"Your companion is hungry!",petReaction1:" *purr*",petReaction2:" That feels nice!",petReaction3:" Thank you!",petReaction4:" I love you!",feedReaction1:" Yummy!",feedReaction2:" Delicious!",feedReaction3:" Thank you!",feedReaction4:" Energy!",feedNotEnough:" Need {needed} treats, have {have}",free:"Free",fullness:"Fullness",earnTreatsHint:"Complete activities to earn treats for your companion!",myTree:"My Tree",touch:"Touch",water:"Water",waterLevel:"Water Level",growth:"Growth",stage:"Stage",treeThirstyCanWater:" The tree needs water...",treeThirstyNoTreats:" Thirsty... Do activities to earn treats!",treeStreakLegend:" {streak} days! The tree is glowing!",treeStreakGood:" {streak} days! Growing strong!",treeMaxStage:" A magnificent great tree!",treeStage4:" A beautiful mature tree!",treeStage3:" Growing into a strong sapling!",treeStage2:" A young sprout reaching for light!",treeStage1:" A tiny seed full of potential!",treeHappy:" The tree is flourishing!",treeSeason:"{emoji} Beautiful {season}!",treeStageUp:" Evolved to {stage}!",treeMissedYou:"Your tree missed you!",treeNeedsWater:"The tree needs water!",waterDecayHint:"Water level decreases -2% per hour",seasonTreeHint:"The tree changes with the seasons!",xpToNextStage:"{xp} XP to {stage}",touchReaction1:" *rustles leaves*",touchReaction2:" The leaves dance!",touchReaction3:" Feels alive!",touchReaction4:" Growing stronger!",waterReaction1:" *absorbs water*",waterReaction2:" Refreshing!",waterReaction3:" Thank you!",waterReaction4:" Growing!",waterNotEnough:" Need {needed} treats, have {have}",restDayTitle:"Rest Day",restDayMessage:"Rest well, your streak is safe",restDayButton:"Rest Day",restDayCancel:"I want to track anyway",daysSaved:"days preserved",expand:"Expand",collapse:"Collapse",moodRecordedShort:"Mood recorded",habitsCompletedShort:"Habits done",focusCompletedShort:"Focus complete",gratitudeAddedShort:"Gratitude added",allComplete:"All done!",allCompleteMessage:"You've completed all activities for today",allCompleteSupportive:"See you tomorrow!",allCompleteLegend:"Legendary day!",allCompleteAmazing:"Amazing work!",allCompleteGreat:"Great job!",allCompleteNice:"Nice work!",daysStreak:"days streak",restDaySupportive:"We'll continue together tomorrow ",restDayCooldown:"Rest day was used recently",restDayAvailableIn:"Available in",taskMomentum:"Task Momentum",taskMomentumDesc:"ADHD-friendly task prioritization",tasksInARow:"tasks in a row",taskNamePlaceholder:"Task name...",durationMinutes:"Duration (minutes)",interestLevel:"Interest (1-10)",markAsUrgent:"Mark as urgent",urgent:"Urgent",addTask:"Add Task",topRecommendedTasks:"Top 3 Recommended Tasks",quickWins:"Quick Wins (Under 2 min)",allTasks:"All Tasks",noTasksYet:"No tasks yet",addFirstTaskMessage:"Add your first task to get started with Task Momentum!",addFirstTask:"Add Your First Task",adhdTaskTips:"ADHD Task Tips",taskTip1:"Start with quick wins (2-5 min tasks)",taskTip2:"Build momentum with consecutive completions",taskTip3:"High interest tasks give more dopamine",taskTip4:"Urgent + short = perfect combo",tasks:"Tasks",quests:"Quests",challenges:"Challenges",openTasks:"Open Tasks",openQuests:"Open Quests",openChallenges:"Open Challenges",randomQuests:"Random Quests",questsPanelSubtitle:"Complete quests for bonus XP and exclusive badges",adhdEngagementSystem:"ADHD Engagement System",adhdEngagementDesc:"Quests provide variety and unexpected rewards - perfect for ADHD brains that crave novelty!",dailyQuest:"Daily Quest",weeklyQuest:"Weekly Quest",bonusQuest:"Bonus Quest",newQuest:"New Quest",limitedTime:"Limited Time",generate:"Generate",noQuestAvailable:"No quest available",noBonusQuestAvailable:"No bonus quest available",bonusQuestsHint:"Bonus quests appear randomly or can be generated manually",questProgress:"Progress:",questExpired:"Expired",questType:"Quest",questTips:"Quest Tips",questTipDaily:"Daily quests reset every 24 hours",questTipWeekly:"Weekly quests offer 3x XP rewards",questTipBonus:"Bonus quests are rare with 5x XP",questTipExpire:"Complete quests before they expire!",companionHungry:"I'm hungry... Feed me?",back:"Back",start:"Start",stop:"Stop",allHabitsComplete:"All Habits Done!",amazingWork:"Amazing work today!",pageNotFound:"Page not found",goHome:"Go Home",insightsTitle:"Personal Insights",insightsNotEnoughData:"Keep tracking your mood, habits, and focus for a week to unlock personalized insights about your patterns.",insightsNoPatterns:"No strong patterns detected yet. Keep tracking consistently to discover what works best for you!",insightsHelpTitle:"About Insights",insightsHelp1:"Insights are generated from your personal data using statistical analysis.",insightsHelp2:"All analysis happens locally on your device - your data never leaves.",insightsHelp3:"Patterns with higher confidence are shown first.",insightsDismiss:"Dismiss",insightsShowMore:"Show more",insightsShowLess:"Show less",insightsDismissedCount:"insights dismissed",insightsMoodEntries:"mood entries",insightsHabitCount:"habit",insightsFocusSessions:"focus sessions",weeklyInsights:"Weekly Insights",weeklyInsightsNotEnoughData:"Track your progress this week to unlock personalized insights and recommendations.",comparedToLastWeek:"Compared to last week",recommendations:"Recommendations",avgMood:"Avg Mood",week:"Week",recLowMoodTitle:"Mood needs attention",recLowMoodDesc:"Your mood this week has been lower than usual. Consider activities that usually lift your spirits.",recLowMoodAction:"Try a quick 5-minute breathing exercise",recHabitDeclineTitle:"Habit consistency dropped",recHabitDeclineDesc:"Your habit completion is down from last week. Start small to rebuild momentum.",recHabitDeclineAction:"Focus on just one habit today",recLowFocusTitle:"Boost your focus time",recLowFocusDesc:"You've had limited focus sessions this week. Even short sessions help build the habit.",recLowFocusAction:"Try a 10-minute focus session",recGreatProgressTitle:"You're on a roll!",recGreatProgressDesc:"Your overall progress is improving compared to last week. Keep up the momentum!",recBestDayTitle:"This was your best day",recBestDayDesc:"Try to identify what made this day special and replicate those conditions.",recGratitudeTitle:"Practice gratitude",recGratitudeDesc:"Writing down things you're grateful for can significantly improve your mood over time.",recGratitudeAction:"Add a gratitude entry today",recPerfectWeekTitle:"Amazing consistency!",recPerfectWeekDesc:"You completed most of your habits this week. You're building strong routines!",recTopHabitTitle:"Keep up this habit",recTopHabitDesc:"This is one of your most consistent habits. It's likely contributing to your well-being.",smartReminders:"Smart Reminders",smartRemindersNotEnoughData:"Keep using the app to unlock personalized reminder suggestions based on your patterns.",smartRemindersOptimized:"Your reminder times are well optimized! Keep up the great work.",smartRemindersDescription:"Personalized suggestions based on your usage patterns",suggestions:"suggestions",highConfidence:"High confidence",mediumConfidence:"Medium",lowConfidence:"Suggestion",apply:"Apply",habitRemindersOptimal:"Optimal habit times",patternBased:"Pattern",syncOffline:"Offline",syncSyncing:"Syncing",syncLastSync:"Synced",syncReady:"Ready to sync",syncBackup:"backup",syncReminders:"reminders",syncChallenges:"challenges",syncTasks:"tasks",syncInnerWorld:"progress",syncBadges:"badges",onboardingTryNow:"Try it now",onboardingGotIt:"Got it!",onboardingNext:"Next",onboardingGetStarted:"Let's start!",onboardingWelcomeTitle:"Welcome to ZenFlow! ",onboardingWelcomeDescription:"We're excited to help you build better habits and understand what works for YOUR brain.",onboardingDay1Title:"Let's start simple",onboardingDay1Description:"For today, we'll focus on just two things: tracking your mood and creating your first habit. Nothing overwhelming.",onboardingGradualTitle:"More features unlock gradually",onboardingGradualDescription:"Over the next 4 days, you'll discover new features as you progress. No information overload!",onboardingDayProgress:"Day {day} of {maxDay}",onboardingFeaturesUnlocked:"features",onboardingNextUnlock:"Next unlock",onboardingfocusTimerUnlockTitle:" Focus Timer Unlocked!",onboardingfocusTimerUnlockSubtitle:"Great progress!",onboardingfocusTimerDescription:"Use the Pomodoro timer for deep concentration. Set 25 minutes, focus on one task, then take a break. Perfect for ADHD brains!",onboardingxpUnlockTitle:" XP System Unlocked!",onboardingxpUnlockSubtitle:"Time for gamification!",onboardingxpDescription:"Earn experience for completing habits, focus sessions, and mood tracking. Level up and unlock new achievements!",onboardingquestsUnlockTitle:" Quests Unlocked!",onboardingquestsUnlockSubtitle:"New challenges!",onboardingquestsDescription:"Daily and weekly quests add variety to your routine. Complete them for bonus rewards!",onboardingcompanionUnlockTitle:" Companion Unlocked!",onboardingcompanionUnlockSubtitle:"Meet your helper!",onboardingcompanionDescription:"Your virtual companion grows with you, celebrates wins, and supports you through tough days. Choose from 5 types!",onboardingtasksUnlockTitle:" Tasks Unlocked!",onboardingtasksUnlockSubtitle:"Full access!",onboardingtasksDescription:"Task Momentum helps prioritize tasks specifically for ADHD. The system recommends what to do next based on urgency and your energy.",onboardingchallengesUnlockTitle:" Challenges Unlocked!",onboardingchallengesUnlockSubtitle:"Full access!",onboardingchallengesDescription:"Join long-term challenges to develop skills. Track progress and earn exclusive badges!",reengageTitle:"Welcome Back!",reengageSubtitle:"You've been away for {days} days",reengageStreakBroken:"Streak Status",reengageStreakProtected:"Streak Protected!",reengageStreakBrokenMsg:"Your streak was reset, but you can start fresh today! Previous streak: {streak} days.",reengageStreakProtectedMsg:"Your {streak}-day streak is safe! Keep going!",reengageBestHabits:"Your Best Habits",reengageSuccessRate:"success",reengageQuickMood:"How are you feeling?",reengageMoodLogged:"Mood logged!",reengageContinue:"Let's continue!",trendsTitle:"Your Trends",trendsAvgMood:"Avg Mood",trendsHabitRate:"Habit Rate",trendsFocusTime:"Focus",trendsMoodChart:"Mood Over Time",trendsHabitChart:"Habit Completion",trendsFocusChart:"Focus Time",trendsTotalFocus:"Total",trendsInsightHint:"Want personalized insights?",trendsInsightHintDesc:"Check the Insights panel on the home tab to discover patterns in your data.",healthConnect:"Health Connect",healthConnectDescription:"Sync with Google Health Connect",healthConnectLoading:"Checking Health Connect...",healthConnectNotAvailable:"Not available on this device",healthConnectUpdateRequired:"Please update Health Connect app",mindfulness:"Mindfulness",sleep:"Sleep",steps:"Steps",stepsLabel:"steps",grantPermissions:"Grant Permissions",todayHealth:"Today's Health",syncFocusSessions:"Sync Focus Sessions",syncFocusSessionsHint:"Save focus sessions as mindfulness in Health Connect",openHealthConnect:"Open Health Connect",refresh:"Refresh",permissions:"Permissions",questMorningMomentum:"Morning Momentum",questMorningMomentumDesc:"Complete 3 habits before 12:00",questHabitMaster:"Habit Master",questHabitMasterDesc:"Complete 5 habits today",questSpeedDemon:"Speed Demon",questSpeedDemonDesc:"Complete 3 habits in 30 minutes",questFocusFlow:"Focus Flow",questFocusFlowDesc:"30 minutes of focus without breaks",questDeepWork:"Deep Work",questDeepWorkDesc:"60 minutes of focused work",questHyperfocusHero:"Hyperfocus Hero",questHyperfocusHeroDesc:"90 minutes in Hyperfocus Mode",questStreakKeeper:"Streak Keeper",questStreakKeeperDesc:"Maintain your streak for 7 days",questConsistencyKing:"Consistency King",questConsistencyKingDesc:"Maintain your streak for 14 days",questGratitudeSprint:"Gratitude Sprint",questGratitudeSprintDesc:"Write 5 gratitudes in 5 minutes",questThankfulHeart:"Thankful Heart",questThankfulHeartDesc:"Write 10 gratitudes today",questLightningRound:"Lightning Round",questLightningRoundDesc:"Complete 5 quick tasks in 15 minutes",questWeeklyWarrior:"Weekly Warrior",questWeeklyWarriorDesc:"Complete habits 7 days in a row",feedbackTitle:"Send Feedback",feedbackSubtitle:"Help us improve the app",feedbackCategoryBug:"Report Bug",feedbackCategoryFeature:"Request Feature",feedbackCategoryOther:"Other",feedbackMessagePlaceholder:"Describe your issue or suggestion...",feedbackEmailPlaceholder:"Email (optional)",feedbackSubmit:"Submit",feedbackSuccess:"Thank you for your feedback!",feedbackError:"Failed to send. Please try again.",feedbackSending:"Sending...",sendFeedback:"Send Feedback",rateAppTitle:"Enjoying ZenFlow?",rateAppSubtitle:"Rate us on Play Store",rateAppButton:"Rate Now",rateAppLater:"Later",updateAvailable:"Update Available",updateDescription:"A new version is ready to install with improvements and fixes.",updateDescriptionCritical:"A critical update is required to continue using the app.",updateNow:"Update Now",updateAvailableFor:"Available for {days} days",quickActions:"Quick Actions",quickActionsDescription:"Show notification with quick actions on lock screen",quickActionsEnabled:"Quick actions enabled",quickActionsDisabled:"Quick actions disabled",quickActionLogMood:"Log Mood",quickActionStartFocus:"Start Focus",quickActionViewHabits:"View Habits",notificationSound:"Notification Sound",notificationSoundDescription:"Choose sound for reminders",soundDefault:"Default",soundDefaultDesc:"System notification sound",soundGentle:"Gentle",soundGentleDesc:"Vibration only",soundChime:"Chime",soundChimeDesc:"Short notification tone",soundSilent:"Silent",soundSilentDesc:"No sound or vibration",testNotification:"Test Notification",testNotificationHint:"Sends a test notification in 5 seconds to verify notifications work.",insightConfidence:"Confidence",insightDataPoints:"Data points",insightAvgMoodWith:"Avg mood with habit",insightAvgMoodWithout:"Avg mood without habit",insightSampleDays:"Sample days",insightBestActivity:"Best activity",insightPeakTime:"Peak time",insightAvgDuration:"Avg duration",insightSessions:"Sessions",insightTagOccurrences:"Tag occurrences",insightMoodWithTag:"Mood with tag",insightMoodWithoutTag:"Mood without tag",insightDisclaimer:"This insight is based on your data. Patterns may change over time.",times:"times",noMoodDataYet:"No mood data yet",noEmotionDataYet:"No emotion data yet",xp:"XP"},uk:{appName:"ZenFlow",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",home:"",stats:"",settings:"",streakDays:" ",days:"",habitsToday:" ",focusToday:" ",minutes:"",min:"",gratitudes:"",howAreYouFeeling:"   ?",howAreYouNow:"  ?",moodToday:" ",moodHistory:"  ",moodRecorded:" !",moodNotes:" ",todayProgress:" ",completed:"!",updateMood:"",great:"",good:"",okay:"",bad:"",terrible:"",addNote:"  (')...",saveMood:" ",startHere:" ",tapToStart:"  ,   ",moodPrompt:"   ?",moodTagsTitle:"",moodTagPlaceholder:" ...",moodTagAdd:"",moodTagFilter:"  ",allTags:" ",tagWork:"",tagFamily:"'",tagHealth:"'",tagSleep:"",tagMoney:"",tagWeather:"",moodPatternsTitle:" ",moodBestDay:"  ",moodFocusComparison:"  ",moodFocusWith:" -",moodFocusWithout:" ",moodHabitCorrelations:"  ",moodNoData:" ",editMood:" ",changeMood:" ",changeMoodConfirmTitle:" ?",changeMoodConfirmMessage:" ,     ?",moodChanged:" !",confirm:"",dailyProgress:"  ",continueProgress:"",dayTimeline:" ",dayComplete:" ",perfectDay:" !",startYourDay:"  ! ",keepGoing:"!   ",almostThere:"  ! ",soClose:"   ! ",legendaryDay:" ! ",scheduleTitle:" ",scheduleAddEvent:" ",scheduleEmpty:"  .  +  !",scheduleEmptyDay:"    ",scheduleStart:"",scheduleEnd:"",scheduleAdd:"  ",scheduleCustomTitle:"  ()",scheduleWork:"",scheduleMeal:"",scheduleRest:"",scheduleExercise:"",scheduleStudy:"",scheduleMeeting:"",scheduleNote:" ()",scheduleNotePlaceholder:"   ...",needInspiration:" ?",journalPrompt:"",dailyPrompt:" ",usePrompt:"  ",shufflePrompt:" ",mindfulMoment:" ",takeAMoment:" ...",withNote:" ",whatsMakingYouFeel:"   ?",emotionSaved:" ",treat:"",moodGood:"",moodOkay:"",moodNotGreat:" ",timeUntilEndOfDay:"  ",timeIn:"",timePassed:" ",timeNow:"!",hoursShort:"",minutesShort:"",night:"",aiInsights:"AI ",aiInsight:"AI ",personalizedForYou:"  ",insightsNeedMoreData:"  ,    !",daysLogged:" ",showMore:" ",moreInsights:"",hideInsights:" ",insightBestDayTitle:"{day}    !",insightBestDayDesc:"     {day}.      .",insightBestTimeTitle:"   {period}",insightBestTimeDesc:"    {period}.      !",insightHabitBoostsTitle:"{habit}  !",insightHabitBoostsDesc:"   {habit},   {percent}% .  !",insightFocusMoodTitle:" =  !",insightFocusMoodDesc:"   -   {percent}% .   !",insightGratitudeMoodTitle:"  !",insightGratitudeMoodDesc:"      {percent}%  .  !",insightMoodUpTitle:"  !",insightMoodUpDesc:"     {percent}% ,  .  !",insightMoodDownTitle:"  !",insightMoodDownDesc:"  .    ,    .",insightHighConsistencyTitle:" !",insightHighConsistencyDesc:"   {days}   14 .   !",insightLowConsistencyTitle:"  ",insightLowConsistencyDesc:"         .    !",hintFirstMoodTitle:"   ?",hintFirstMoodDesc:"    .   5      !",hintFirstMoodAction:" ",hintFirstHabitTitle:"  ",hintFirstHabitDesc:'     .    ,  " ".',hintFirstHabitAction:" ",hintFirstFocusTitle:" ?",hintFirstFocusDesc:"     .   25 !",hintFirstFocusAction:" ",hintFirstGratitudeTitle:" ",hintFirstGratitudeDesc:"  ,    .     !",hintFirstGratitudeAction:" ",hintScheduleTipTitle:" ",hintScheduleTipDesc:"     .     !",hintScheduleTipAction:" ",habits:"",habitName:" ...",icon:"",color:"",addHabit:" ",addFirstHabit:"   ! ",completedTimes:"",habitNameHint:"  ,   .",habitType:" ",habitTypeDaily:"",habitTypeWeekly:"  ",habitTypeFrequency:" N ",habitTypeReduce:" ()",habitWeeklyGoal:"   ()",habitFrequencyInterval:" ()",habitReduceLimit:"  ",habitStrictStreak:" ",habitGraceDays:"-  ",habitWeeklyProgress:" ",habitEvery:"",habitReduceProgress:"",noHabitsToday:"   .",habitsOther:" ",habitTypeContinuous:" ()",habitTypeScheduled:" ",habitTypeMultiple:"   ",habitDailyTarget:"  ",habitStartDate:" ",habitReminders:"",habitAddReminder:" ",habitReminderTime:"",habitReminderDays:" ",habitReminderEnabled:"",habitRemindersPerHabit:"      .       .",perHabitRemindersTitle:" ",perHabitRemindersDesc:"        .         .",quickAdd:" ",createCustomHabit:"  ",streak:"",habitFrequency:"",habitFrequencyOnce:" ",habitFrequencyDaily:"",habitFrequencyWeekly:"",habitFrequencyCustom:" ",habitFrequencySelectDays:" ",habitDurationRequired:" ?",habitTargetDuration:"  ()",addReminder:"",noReminders:" ",habitEventExplanation:"   .  ,  .",habitDurationMinutes:"",focus:"",breakTime:"",todayMinutes:" ",concentrate:"",takeRest:"",focusPreset25:"25/5",focusPreset50:"50/10",focusPresetCustom:"",focusLabelPrompt:"  ?",focusLabelPlaceholder:": , , ...",focusCustomWork:" ()",focusCustomBreak:" ()",focusReflectionTitle:"",focusReflectionQuestion:"  ?",focusReflectionSkip:"",focusReflectionSave:"",breathingTitle:"",breathingSubtitle:" ",breathingBox:" ",breathingBoxDesc:"   ",breathing478:"4-7-8 ",breathing478Desc:" ",breathingEnergize:"",breathingEnergizeDesc:" ",breathingSleep:" ",breathingSleepDesc:"  ",breatheIn:"",breatheOut:"",hold:"",cycles:"",cycle:"",effectCalming:"",effectFocusing:"",effectEnergizing:"",effectSleeping:"",startBreathing:"",breathingComplete:"!",breathingCompleteMsg:"   ",breathingAgain:" ",pause:"",resume:"",gratitude:"",today:"",tomorrow:"",scheduleDate:"",whatAreYouGratefulFor:"    ?",iAmGratefulFor:"  ...",save:"",cancel:"",recentEntries:" ",gratitudeTemplate1:"   ...",gratitudeTemplate2:"  ...",gratitudeTemplate3:"   ...",gratitudeLimit:" 3   ",gratitudeMemoryJar:" ",thisWeek:" ",statistics:"",monthlyOverview:" ",statsRange:"",statsRangeWeek:"",statsRangeMonth:"",statsRangeAll:" ",statsRangeApply:"",calendarTitle:"",calendarYear:"",calendarSelectDay:" ",calendarPrevMonth:" ",calendarNextMonth:" ",moodEntries:" ",focusMinutes:" ",achievements:"",toLevel:" ",unlockedPercent:" {percent}%",all:"",unlocked:"",locked:"",unlockedOn:" {date}",hiddenAchievement:"???",hidden:"",noAchievementsYet:"  ",startUsingZenFlow:"  ZenFlow,   !",achievementUnlocked:" !",userLevel:"",focusSession:" ",timeBlindnessHelper:"  ",visualTimeAwareness:"    ",hoursMinutesLeft:"{hours} {mins} ",minutesLeft:"{mins} ",timesUp:" !",youllFinishAt:"   :",nMinutes:"{n} ",pingEveryMinutes:"  ()",audioPings:" ",testSound:" ",soundOn:"",soundOff:"",startTimer:" ",pauseTimer:"",resetTimer:"",adhdTimeManagement:"   ",adhdTip1:"    ",adhdTip2:"   ",adhdTip3:"  =  ",adhdTip4:"     ",currentStreak:" ",daysInRow:" ",totalFocus:" ",allTime:"  ",habitsCompleted:" ",totalTimes:" ",moodDistribution:" ",moodHeatmap:" ",activityHeatmap:" ",less:"",more:"",topHabit:" ",completedTimes2:"",profile:"",yourName:" '",nameSaved:" ",notifications:"",notificationsComingSoon:"     .",data:"",exportData:" ",importData:" ",importMode:" ",importMerge:"",importReplace:"",exportSuccess:" .",exportError:"   .",exportCSV:" CSV",exportPDF:" PDF",importSuccess:" .",importError:"   .",importedItems:"",importAdded:"",importUpdated:"",importSkipped:"",textTooLong:"   ( 2000 )",invalidInput:"  ",comingSoon:"",resetAllData:"  ",privacyTitle:"",privacyDescription:"    .   .",privacyNoTracking:" ",privacyNoTrackingHint:"    .",privacyAnalytics:"",privacyAnalyticsHint:"  .  .",privacyPolicy:" ",termsOfService:" ",appearance:" ",oledDarkMode:"OLED  ",oledDarkModeHint:"    OLED .  .",whatsNewTitle:" ",whatsNewVersion:"",whatsNewGotIt:"!",skipToContent:"  ",settingsCloudSyncTitle:"  ",settingsCloudSyncDescription:"   ",settingsCloudSyncEnabled:"  ",settingsCloudSyncDisabledByUser:" ",settingsExportTitle:"  ",settingsExportDescription:"    ",settingsImportTitle:"  ",settingsImportMergeTooltip:"     .  .",settingsImportReplaceTooltip:"        ",settingsImportReplaceConfirm:' "REPLACE"     ',invalidFileType:"  .  JSON.",fileTooLarge:"  (. 10 )",importConfirm:" ",invalidBackupFormat:"   ",settingsWhatsNewTitle:"   v1.3.0",settingsWhatsNewLeaderboards:" ",settingsWhatsNewLeaderboardsDesc:"   ",settingsWhatsNewSpotify:" Spotify",settingsWhatsNewSpotifyDesc:"    ",settingsWhatsNewChallenges:"  ",settingsWhatsNewChallengesDesc:"    ",settingsWhatsNewDigest:" ",settingsWhatsNewDigestDesc:"     email",settingsWhatsNewSecurity:" ",settingsWhatsNewSecurityDesc:"    ",settingsWhatsNewGotIt:"!",settingsSectionAccount:"  ",settingsSectionData:"   ",weeklyDigestTitle:" ",weeklyDigestDescription:"  ,    .",weeklyDigestEnabled:"    ",changelogTitle:" ",changelogExpandAll:" ",changelogCollapseAll:" ",changelogEmpty:"  ",changelogAdded:"",changelogFixed:"",changelogChanged:"",changelogRemoved:"",settingsGroupProfile:"  ",settingsGroupNotifications:"",settingsGroupData:"  ",settingsGroupAccount:"",settingsGroupAbout:" ",consentTitle:" ",consentDescription:"   .      ?",consentAnalyticsTitle:" ",consentAnalyticsDesc:"  .   .    .",consentAccept:"",consentDecline:", ",consentFooter:"   -    > ",installApp:" ",installAppDescription:" ZenFlow     -.",installBannerTitle:" ZenFlow",installBannerBody:"    -,  .",installNow:"",installLater:"",appInstalled:" ",appInstalledDescription:"ZenFlow    .",checkForUpdates:" ",checkingForUpdates:" ...",appUpToDate:"   ",openGooglePlay:" Google Play",updateCheckFailed:"   ",remindersTitle:"",remindersDescription:" ,   .",moodReminder:"  ",habitReminder:"   ",focusReminder:"   ",quietHours:" ",reminderDays:" ",selectedHabits:"  ",noHabitsYet:"  .",reminderMoodTitle:",  ? ",reminderMoodBody:"30      !  ?",reminderHabitTitle:"  ! ",reminderHabitBody:"  =  . ?",reminderFocusTitle:" ! ",reminderFocusBody:" 25    . ?",reminderDismiss:" ",notificationPermissionTitle:"    ",notificationPermissionDescription:" '   ,     .     .",notificationFeature1Title:"   ",notificationFeature1Desc:"   ",notificationFeature2Title:" ",notificationFeature2Desc:"    ",notificationFeature3Title:"-",notificationFeature3Desc:"    ",notificationAllow:" ",notificationDeny:", ",notificationPrivacyNote:"     -   .    .",onboardingStep:"",onboardingValueTitle:"  +   30   ",onboardingValueBody:" ,  ,  .",onboardingStart:"  30 ",onboardingExplore:"",onboardingGoalTitle:"  ",onboardingGoalLessStress:" ",onboardingGoalLessStressDesc:"  ' ",onboardingGoalMoreEnergy:" ",onboardingGoalMoreEnergyDesc:", , ",onboardingGoalBetterRoutine:" ",onboardingGoalBetterRoutineDesc:"  ",onboardingContinue:"",onboardingCheckinTitle:" ",onboardingHabitsPrompt:"  ",onboardingPickTwo:"  ",onboardingReminderTitle:" ",onboardingReminderBody:"  .  .",onboardingMorning:"",onboardingEvening:"",onboardingEnable:"",onboardingSkip:"  ",onboardingHabitBreathing:"",onboardingHabitEveningWalk:" ",onboardingHabitStretch:"",onboardingHabitJournaling:" ",onboardingHabitWater:"",onboardingHabitSunlight:" ",onboardingHabitMovement:"",onboardingHabitSleepOnTime:" ",onboardingHabitMorningPlan:" ",onboardingHabitRead:" 10 ",onboardingHabitNoScreens:"  ",onboardingHabitDailyReview:" ",account:"",accountDescription:"  email     .",emailPlaceholder:"you@email.com",sendMagicLink:"   ",continueWithGoogle:"  Google",signedInAs:"  ",signOut:"",syncNow:" ",cloudSyncDisabled:"   .",deleteAccount:" ",deleteAccountConfirm:" ?",deleteAccountWarning:"       .",deleteAccountSuccess:" .",deleteAccountError:"   .",deleteAccountLink:"    ",authEmailSent:"      .",authSignedOut:" .",authError:"   .",authNotConfigured:"Supabase  .",syncSuccess:" .",syncPulled:"  .",syncPushed:" .",syncError:"  .",authGateTitle:"",authGateBody:"  email,       .",authGateContinue:"  ",errorBoundaryTitle:"   ",errorBoundaryBody:"       .",errorBoundaryExport:" ",errorBoundaryReload:"",pushTitle:"Push-",pushEnable:" push",pushDisable:" push",pushTest:" ",pushTestTitle:"ZenFlow",pushTestBody:" .",pushTestSent:" .",pushTestError:"   .",pushNowMood:"Push: ",pushNowHabit:"Push: ",pushNowFocus:"Push: ",pushEnabled:"Push .",pushDisabled:"Push .",pushError:"   push.",pushNeedsAccount:",   push.",pushPermissionDenied:"   .",areYouSure:" ?",cannotBeUndone:"    .",delete:"",shareAchievements:" ",shareDialogTitle:"  ",shareTitle:"   ZenFlow",shareText:"{streak}  ! {habits}  , {focus}  .",shareButton:"",shareDownload:" ",shareDownloading:"...",shareCopyLink:" ",shareCopied:"!",sharePrivacyNote:"   .   .",shareStreak:" ",shareHabits:"",shareFocus:"",shareGratitude:"",shareFooter:" ,   ",myProgress:" ",shareSquare:" 1:1",shareStory:" 9:16",shareFormatHint:"    Instagram/TikTok     ",shareFailed:"  .   .",shareAchievement30:"!",shareAchievement14:"!",shareAchievement7:" !",shareAchievement3:",  !",shareAchievementStart:" !",shareSubtext30:" 30+ ",shareSubtext14:" 14+ ",shareSubtext7:" 7+ ",shareSubtext3:" 3+ ",shareSubtextStart:" ",dismiss:"",challengesTitle:"  ",challengesSubtitle:"    ",activeChallenges:"",availableChallenges:"",badges:"",noChallengesActive:"  ",noChallengesActiveHint:" ,    ",progress:"",reward:"",target:"",startChallenge:" ",challengeActive:"",requirement:"",challengeTypeStreak:"",challengeTypeFocus:"",challengeTypeGratitude:"",challengeTypeTotal:"",friendChallenges:" ",createChallenge:" ",challengeDescription:"      ",challengeYourFriends:"  !",challengeDuration:" ",challengeCreated:" !",challengeDetails:" ",shareToInvite:",   !",trackWithFriends:"   ",challengeCode:" ",yourProgress:" ",daysLeft:" ",dayChallenge:" ",challengeCompleted:" !",noChallenges:"  ",createChallengePrompt:"   - !",completedChallenges:"",expiredChallenges:"",youCreated:" ",createdBy:"",confirmDeleteChallenge:"  ?",challengeInvite:"   !",challengeJoinPrompt:"    ZenFlow!",challengeShareTip:"       .",joinChallenge:"",enterChallengeCode:"   ",invalidChallengeCode:" . : ZEN-XXXXXX",enterCodeToJoin:"  ,  ",joinChallengeHint:"    ",joining:"...",join:"",challengeWon:" !   !",catchUp:"   !   !",aheadOfSchedule:"  !   !",daysPassed:" ",daysCompleted:"",daysRemaining:"",hyperfocusMode:" ",hyperfocusStart:"",hyperfocusPause:"",hyperfocusResume:"",hyperfocusExit:"",hyperfocusReady:"  ?",hyperfocusFocusing:"  ...",hyperfocusPaused:"",hyperfocusTimeLeft:"",hyperfocusBreathe:"...",hyperfocusBreathDesc:" 4    4 ",hyperfocusEmergencyConfirm:"  ?   ! ",hyperfocusAmbientSound:" ",hyperfocusSoundNone:" ",hyperfocusSoundWhiteNoise:" ",hyperfocusSoundRain:"",hyperfocusSoundOcean:"",hyperfocusSoundForest:"",hyperfocusSoundCoffee:"",hyperfocusSoundFireplace:"",hyperfocusSoundVariants:" ",hyperfocusShowVariants:" ",hyperfocusHideVariants:" ",hyperfocusTip:"",hyperfocusTipText:" 25     .    !",hyperfocusPauseMsg:" Play,  ",widgetSettings:" ",widgetSettingsDesc:"    ",widgetPreview:"",widgetSetup:"",widgetInfo:"  ",widgetInfoDesc:"    ,    ,  -    .",widgetStatus:" ",widgetPlatform:"",widgetWeb:"Web ( )",widgetSupport:" ",widgetAvailable:"",widgetComingSoon:"",widgetSetupiOS:"   iOS",widgetSetupAndroid:"   Android",widgetStep1iOS:"    ,     ",widgetStep2iOS:' "+"    ',widgetStep3iOS:' "ZenFlow"   ',widgetStep4iOS:"   (,   )",widgetStep5iOS:' " "',widgetStep1Android:"      ",widgetStep2Android:' ""  ',widgetStep3Android:' "ZenFlow"   ',widgetStep4Android:"      ",widgetWebWarning:"   -",widgetWebWarningDesc:"      (iOS  Android).   ,   .",widgetWebTip:"-   ,    ,      .",widgetFeatures:" ",widgetFeature1:"    ",widgetFeature2:"    ",widgetFeature3:"  -",widgetFeature4:"  ",widgetFeature5:"    ",widgetSmall:" ",widgetMedium:" ",widgetLarge:" ",widgetNoData:"   ",todayHabits:"  ",lastBadge:" ",done:"",dopamineSettings:"Dopamine Dashboard",dopamineSettingsDesc:"   '",dopamineIntensity:" ",dopamineMinimal:"",dopamineNormal:"",dopamineADHD:"ADHD",dopamineMinimalDesc:"   ",dopamineNormalDesc:"  '",dopamineADHDDesc:" !    ",dopamineCustomize:" ",dopamineAnimations:"",dopamineAnimationsDesc:"   ",dopamineSounds:"",dopamineSoundsDesc:"    '",dopamineHaptics:"",dopamineHapticsDesc:"  ' (  )",dopamineConfetti:"",dopamineConfettiDesc:"  ",dopamineStreakFire:" ",dopamineStreakFireDesc:"   ",dopamineTip:"  ADHD",dopamineTipText:"  ADHD   !   ADHD   .    .",dopamineSave:"  ",dailyRewards:" ",loginStreak:" ",day:"",claim:"!",claimed:"",streakBonus:"  ",dailyRewardsTip:"     !",spinWheel:" !",spinsAvailable:" ",spin:"",noSpins:" ",claimPrize:" !",challengeExpired:" ",challengeComplete:" !",earned:"",comboText:"",mysteryBox:"",openBox:"",premium:"ZenFlow Premium",premiumDescription:"  ,     !",language:"",selectLanguage:" ",welcomeTitle:"   ZenFlow",welcomeSubtitle:"      ",continue:"",version:"",tagline:"     ",sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:"",january:"",february:"",march:"",april:"",may:"",june:"",july:"",august:"",september:"",october:"",november:"",december:"",welcomeMessage:"   ZenFlow!",featureMood:" ",featureMoodDescription:"   ",featureHabits:"",featureHabitsDescription:"    ",featureFocus:"-",featureFocusDescription:"    Pomodoro",privacyNote:"     ",install:" ",installDescription:" ZenFlow   ",onboardingAgeTitle:"   ZenFlow",onboardingAgeDesc:"      13   ",onboardingAgeConfirm:"  13 ",onboardingAgeNote:",  ,    13 ",healthConnectAgeDesc:" Health Connect    13+      '.",onboardingMoodTitle:"   ?",onboardingMoodDescription:"   ",onboardingHabitsTitle:"   ",onboardingHabitsDescription:"   ",onboardingRemindersTitle:"",onboardingRemindersDescription:"   ",enableReminders:" ",morning:"",afternoon:"",evening:"",close:"",skip:"",getStarted:"",next:"",remindersActive:" ",greatChoice:" !",habitsSelected:" ",tutorialWelcomeTitle:"   ZenFlow",tutorialWelcomeSubtitle:"    ",tutorialWelcomeDesc:",      ,       .",tutorialBrainTitle:"   ",tutorialBrainSubtitle:"     ?",tutorialBrainDesc:"ZenFlow       ,   .        ,    .",tutorialFeaturesTitle:"   ",tutorialFeaturesSubtitle:" ,  ",tutorialFeaturesDesc:"    :",tutorialFeature1:"   ",tutorialFeature2:"    ",tutorialFeature2b:"  ,   !",tutorialFeature3:"    ",tutorialFeature4:" ",tutorialMoodTitle:"  ",tutorialMoodSubtitle:" ,  ",tutorialMoodDesc:"    ,       .      .",tutorialFocusTitle:"  ",tutorialFocusSubtitle:" ,  ",tutorialFocusDesc:"      .   ,   .",tutorialDayClockTitle:"    ",tutorialDayClockSubtitle:"    ",tutorialDayClockDesc:"        ,   . ,       !",tutorialDayClockFeature1:"    ",tutorialDayClockFeature2:"     ",tutorialDayClockFeature3:"      ",tutorialDayClockFeature4:"  100%   !",tutorialMoodThemeTitle:"   ",tutorialMoodThemeSubtitle:"    ",tutorialMoodThemeDesc:"  ,    .       .",tutorialMoodThemeFeature1:"  :    ",tutorialMoodThemeFeature2:"  :   ",tutorialMoodThemeFeature3:"  :  ",tutorialMoodThemeFeature4:"  : ',  ",tutorialReadyTitle:" ?",tutorialReadySubtitle:"   ",tutorialReadyDesc:"     ,     .   !",tutorialStart:"!",weeklyReport:" ",weeklyStory:" ",incredibleWeek:" !",pathToMastery:"    !",greatWork:" !",keepMomentum:"    !",goodProgress:" !",everyStepCounts:"   !",newWeekOpportunities:"  -  !",startSmall:"  ,  !",bestDay:" ",continueBtn:"",storyAverageMoodScore:"  ",storyCompletionRate:"",storyTopHabit:" ",storyCompletions:"",storyPerfectDays:"   ",storyAvgSession:". ",storyLongestSession:"",storyMostFocusedOn:"  :",storyTrackYourJourney:"   ",storyTapLeft:" ",storyTapCenter:" - ",storyTapRight:" ",generating:"...",dayStreak:" ",keepItUp:" !",myCompanion:" ",missedYou:"  !",welcomeBack:"    ",warmth:"",energy:"",wisdom:"",companionStreak:" !",chooseCompanion:" ",levelUpHint:" ,   XP   !",pet:"",feed:"",talk:"",happiness:"",satiety:"",companionMissesYou:"!    ! ",companionWantsToPlay:"  !  ! ",companionWaiting:"  !    ",companionProud:" !   ! ",companionCheersYou:"!  ! ",companionQuickMood:"!  ?  ! ",myWorld:" ",plants:"",creatures:"",level:"",startStreak:"  !",legendaryStreak:" !",amazingStreak:"!",goodStart:" !",todayActivities:"",companionPet:"",companionFeed:"",companionTalk:"",companionHappiness:"",companionHunger:"",companionHungryCanFeed:"  ...  ?",companionHungryNoTreats:"  ...     !",companionStreakLegend:" {streak} !  !",companionStreakGood:" {streak} !  !",companionAskMood:"     ?",companionAskHabits:"   !",companionAskFocus:"  ?",companionAskGratitude:"     ?",companionAllDone:"  !  !",companionHappy:"   !",companionMorning:"  !",companionAfternoon:"    ?",companionEvening:"  !",companionNight:" Zzz...",companionLevelUp:"  !  {level}!",companionNeedsFood:"  !",petReaction1:" **",petReaction2:"  !",petReaction3:" !",petReaction4:"  !",feedReaction1:" !",feedReaction2:" '!",feedReaction3:" !",feedReaction4:" !",feedNotEnough:"  {needed} ,  {have}",free:"",fullness:"",earnTreatsHint:"      !",myTree:" ",touch:"",water:"",waterLevel:" ",growth:"",stage:"",treeThirstyCanWater:"   ...",treeThirstyNoTreats:" ...     !",treeStreakLegend:" {streak} !  !",treeStreakGood:" {streak} !  !",treeMaxStage:"   !",treeStage4:"   !",treeStage3:"    !",treeStage2:"     !",treeStage1:"    !",treeHappy:"  !",treeSeason:"{emoji}  {season}!",treeStageUp:"   {stage}!",treeMissedYou:"    !",treeNeedsWater:"  !",waterDecayHint:"   -2%  ",seasonTreeHint:"    !",xpToNextStage:"{xp} XP  {stage}",touchReaction1:" * *",touchReaction2:"  !",touchReaction3:"  !",touchReaction4:"  !",waterReaction1:" * *",waterReaction2:" !",waterReaction3:" !",waterReaction4:" !",waterNotEnough:"  {needed} ,  {have}",restDayTitle:" ",restDayMessage:",    ",restDayButton:" ",restDayCancel:"   ",daysSaved:" ",expand:"",collapse:"",moodRecordedShort:" ",habitsCompletedShort:" ",focusCompletedShort:" ",gratitudeAddedShort:" ",allComplete:" !",allCompleteMessage:"     ",allCompleteSupportive:" !",allCompleteLegend:" !",allCompleteAmazing:"!",allCompleteGreat:" !",allCompleteNice:" !",daysStreak:" ",restDaySupportive:"   ",restDayCooldown:"    ",restDayAvailableIn:" ",taskMomentum:"",taskMomentumDesc:"- ",tasksInARow:" ",taskNamePlaceholder:" ...",durationMinutes:" ()",interestLevel:" (1-10)",markAsUrgent:" ",urgent:"",addTask:"",topRecommendedTasks:"-3 ",quickWins:"  ( 2 )",allTasks:" ",noTasksYet:"  ",addFirstTaskMessage:"    !",addFirstTask:" ",adhdTaskTips:" ",taskTip1:"    (2-5 )",taskTip2:"   ",taskTip3:"    ",taskTip4:" +  =  ",tasks:"",quests:"",challenges:"",openTasks:" ",openQuests:" ",openChallenges:" ",randomQuests:" ",questsPanelSubtitle:"    XP   ",adhdEngagementSystem:"  ",adhdEngagementDesc:"         -,   !",dailyQuest:" ",weeklyQuest:" ",bonusQuest:" ",newQuest:" ",limitedTime:" ",generate:"",noQuestAvailable:" ",noBonusQuestAvailable:"  ",bonusQuestsHint:"  '      ",questProgress:":",questExpired:"",questType:"",questTips:"  ",questTipDaily:"    24 ",questTipWeekly:"   3x XP",questTipBonus:"     5x XP",questTipExpire:"    !",companionHungry:" ...  ?",back:"",start:"",stop:"",allHabitsComplete:"  !",amazingWork:"  !",pageNotFound:"  ",goHome:" ",insightsTitle:" ",insightsNotEnoughData:"  ,     ,       .",insightsNoPatterns:"    .  ,  ,     !",insightsHelpTitle:" ",insightsHelp1:"        .",insightsHelp2:"       -     .",insightsHelp3:"     .",insightsDismiss:"",insightsShowMore:" ",insightsShowLess:" ",insightsDismissedCount:" ",insightsMoodEntries:" ",insightsHabitCount:"",insightsFocusSessions:"-",weeklyInsights:" ",weeklyInsightsNotEnoughData:"   ,      .",comparedToLastWeek:"   ",recommendations:"",avgMood:". ",week:"",recLowMoodTitle:"  ",recLowMoodDesc:"       .  ,     .",recLowMoodAction:" 5-  ",recHabitDeclineTitle:" ",recHabitDeclineDesc:"      .   ,   .",recHabitDeclineAction:"    ",recLowFocusTitle:"  ",recLowFocusDesc:"     .      .",recLowFocusAction:" 10-  ",recGreatProgressTitle:"  !",recGreatProgressDesc:"      .  !",recBestDayTitle:"    ",recBestDayDesc:" ,     ,    .",recGratitudeTitle:" ",recGratitudeDesc:" ,    ,      .",recGratitudeAction:"   ",recPerfectWeekTitle:" !",recPerfectWeekDesc:"     .    !",recTopHabitTitle:"  ",recTopHabitDesc:"     .    .",smartReminders:" ",smartRemindersNotEnoughData:"  ,      .",smartRemindersOptimized:"   !  .",smartRemindersDescription:"     ",suggestions:"",highConfidence:" ",mediumConfidence:"",lowConfidence:"",apply:"",habitRemindersOptimal:"  ",patternBased:" ",syncOffline:"",syncSyncing:"",syncLastSync:"",syncReady:"  ",syncBackup:"",syncReminders:"",syncChallenges:"",syncTasks:"",syncInnerWorld:"",syncBadges:"",onboardingTryNow:"",onboardingGotIt:"!",onboardingNext:"",onboardingGetStarted:"!",onboardingWelcomeTitle:"   ZenFlow! ",onboardingWelcomeDescription:"        ,      .",onboardingDay1Title:" ",onboardingDay1Description:"      :      .  .",onboardingGradualTitle:"   ",onboardingGradualDescription:"  4        .   !",onboardingDayProgress:" {day}  {maxDay}",onboardingFeaturesUnlocked:"",onboardingNextUnlock:" ",onboardingfocusTimerUnlockTitle:"   !",onboardingfocusTimerUnlockSubtitle:" !",onboardingfocusTimerDescription:"  Pomodoro   .  25 ,    ,   .   ADHD !",onboardingxpUnlockTitle:"  XP !",onboardingxpUnlockSubtitle:"  gamification!",onboardingxpDescription:"    , -   .      !",onboardingquestsUnlockTitle:"  !",onboardingquestsUnlockSubtitle:" !",onboardingquestsDescription:"        .     !",onboardingcompanionUnlockTitle:"  !",onboardingcompanionUnlockSubtitle:"  !",onboardingcompanionDescription:"      ,       .   5 !",onboardingtasksUnlockTitle:"  !",onboardingtasksUnlockSubtitle:" !",onboardingtasksDescription:"Task Momentum      ADHD.  ,   ,      .",onboardingchallengesUnlockTitle:"  !",onboardingchallengesUnlockSubtitle:" !",onboardingchallengesDescription:"       .      !",reengageTitle:" !",reengageSubtitle:"   {days} ",reengageStreakBroken:" ",reengageStreakProtected:" !",reengageStreakBrokenMsg:"   ,      !  : {streak} .",reengageStreakProtectedMsg:"   {streak}  ! !",reengageBestHabits:"  ",reengageSuccessRate:"",reengageQuickMood:"   ?",reengageMoodLogged:" !",reengageContinue:"!",trendsTitle:" ",trendsAvgMood:". ",trendsHabitRate:"",trendsFocusTime:"",trendsMoodChart:"  ",trendsHabitChart:" ",trendsFocusChart:" ",trendsTotalFocus:"",trendsInsightHint:"  ?",trendsInsightHintDesc:"          .",healthConnect:"Health Connect",healthConnectDescription:"  Google Health Connect",healthConnectLoading:" Health Connect...",healthConnectNotAvailable:"   ",healthConnectUpdateRequired:"  Health Connect",mindfulness:"",sleep:"",steps:"",stepsLabel:"",grantPermissions:" ",todayHealth:"' ",syncFocusSessions:" -",syncFocusSessionsHint:" -    Health Connect",openHealthConnect:" Health Connect",refresh:"",permissions:"",questMorningMomentum:" ",questMorningMomentumDesc:" 3   12:00",questHabitMaster:" ",questHabitMasterDesc:" 5  ",questSpeedDemon:" ",questSpeedDemonDesc:" 3   30 ",questFocusFlow:" ",questFocusFlowDesc:"30    ",questDeepWork:" ",questDeepWorkDesc:"60   ",questHyperfocusHero:" ",questHyperfocusHeroDesc:"90    ",questStreakKeeper:" ",questStreakKeeperDesc:"  7 ",questConsistencyKing:" ",questConsistencyKingDesc:"  14 ",questGratitudeSprint:" ",questGratitudeSprintDesc:" 5   5 ",questThankfulHeart:" ",questThankfulHeartDesc:" 10  ",questLightningRound:" ",questLightningRoundDesc:" 5    15 ",questWeeklyWarrior:" ",questWeeklyWarriorDesc:"  7  ",feedbackTitle:" '",feedbackSubtitle:"   ",feedbackCategoryBug:"  ",feedbackCategoryFeature:" ",feedbackCategoryOther:"",feedbackMessagePlaceholder:"    ...",feedbackEmailPlaceholder:"Email (')",feedbackSubmit:"",feedbackSuccess:"   '!",feedbackError:"  .  .",feedbackSending:"...",sendFeedback:" ",rateAppTitle:" ZenFlow?",rateAppSubtitle:"   Play Store",rateAppButton:"",rateAppLater:"",updateAvailable:" ",updateDescription:"        .",updateDescriptionCritical:"      .",updateNow:" ",updateAvailableFor:" {days} .",quickActions:" ",quickActionsDescription:"       ",quickActionsEnabled:"  ",quickActionsDisabled:"  ",quickActionLogMood:" ",quickActionStartFocus:" ",quickActionViewHabits:"",notificationSound:" ",notificationSoundDescription:"   ",soundDefault:" ",soundDefaultDesc:"  ",soundGentle:"'",soundGentleDesc:" ",soundChime:"",soundChimeDesc:"  ",soundSilent:"",soundSilentDesc:"   ",testNotification:" ",testNotificationHint:"    5    .",insightConfidence:"",insightDataPoints:" ",insightAvgMoodWith:"   ",insightAvgMoodWithout:"   ",insightSampleDays:"  ",insightBestActivity:" ",insightPeakTime:" ",insightAvgDuration:" ",insightSessions:"",insightTagOccurrences:" ",insightMoodWithTag:"  ",insightMoodWithoutTag:"  ",insightDisclaimer:"    .   .",times:"",noMoodDataYet:"   ",noEmotionDataYet:"   ",xp:"XP"},es:{appName:"ZenFlow",goodMorning:"Buenos das",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",home:"Inicio",stats:"Estadsticas",settings:"Ajustes",streakDays:"Racha",days:"d",habitsToday:"Hbitos hoy",focusToday:"Enfoque hoy",minutes:"minutos",min:"min",gratitudes:"Gratitudes",howAreYouFeeling:"Cmo te sientes?",howAreYouNow:"Cmo ests ahora?",moodToday:"Estado de nimo hoy",moodHistory:"Historial del da",moodRecorded:"Estado de nimo registrado!",moodNotes:"Notas de nimo",todayProgress:"Progreso de hoy",completed:"Completado!",updateMood:"Actualizar",great:"Genial",good:"Bien",okay:"Regular",bad:"Mal",terrible:"Terrible",addNote:"Aade una nota (opcional)...",saveMood:"Guardar estado",startHere:"Empieza aqu",tapToStart:"Toca un emoji para empezar tu da",moodPrompt:"Qu influy en tu nimo?",moodTagsTitle:"Etiquetas",moodTagPlaceholder:"Aadir etiqueta...",moodTagAdd:"Aadir",moodTagFilter:"Filtrar por etiqueta",allTags:"Todas las etiquetas",tagWork:"Trabajo",tagFamily:"Familia",tagHealth:"Salud",tagSleep:"Sueo",tagMoney:"Dinero",tagWeather:"Clima",moodPatternsTitle:"Patrones de nimo",moodBestDay:"Mejor da de la semana",moodFocusComparison:"nimo y enfoque",moodFocusWith:"Con sesiones de enfoque",moodFocusWithout:"Sin enfoque",moodHabitCorrelations:"Hbitos y nimo",moodNoData:"No hay suficientes datos",editMood:"Editar estado de nimo",changeMood:"Cambiar estado de nimo",changeMoodConfirmTitle:"Cambiar estado de nimo?",changeMoodConfirmMessage:"Ests seguro de que quieres cambiar tu estado de nimo?",moodChanged:"Estado de nimo actualizado!",confirm:"Cambiar",dailyProgress:"Progreso diario",continueProgress:"Continuar tu progreso",dayTimeline:"Tu da",dayComplete:"del da",perfectDay:"Da perfecto!",startYourDay:"Empieza tu da! ",keepGoing:"Sigue as! Lo ests haciendo genial ",almostThere:"Ya casi! ",soClose:"Tan cerca de la perfeccin! ",legendaryDay:"DA LEGENDARIO! ",scheduleTitle:"Tu Horario",scheduleAddEvent:"Agregar Evento",scheduleEmpty:"Sin eventos planificados. Toca + para agregar!",scheduleEmptyDay:"Sin eventos para este da",scheduleStart:"Inicio",scheduleEnd:"Fin",scheduleAdd:"Agregar al Horario",scheduleCustomTitle:"Ttulo personalizado (opcional)",scheduleWork:"Trabajo",scheduleMeal:"Comida",scheduleRest:"Descanso",scheduleExercise:"Ejercicio",scheduleStudy:"Estudio",scheduleMeeting:"Reunin",scheduleNote:"Nota (opcional)",scheduleNotePlaceholder:"Agregar detalles o recordatorios...",needInspiration:"Necesitas inspiracin?",journalPrompt:"Pregunta",dailyPrompt:"Pregunta del Da",usePrompt:"Usar esta pregunta",shufflePrompt:"Otra pregunta",mindfulMoment:"Momento de atencin plena",takeAMoment:"Tmate un momento...",withNote:"con nota",whatsMakingYouFeel:"Qu te hace sentir as?",emotionSaved:"Emocin guardada",treat:"premio",moodGood:"Bien",moodOkay:"Normal",moodNotGreat:"No muy bien",timeUntilEndOfDay:"Hasta fin del da",timeIn:"en",timePassed:"Tiempo pasado",timeNow:"Ahora!",hoursShort:"h",minutesShort:"m",night:"Noche",aiInsights:"Anlisis IA",aiInsight:"Insight IA",personalizedForYou:"Personalizado para ti",insightsNeedMoreData:"Registra tu nimo una semana para desbloquear insights personalizados!",daysLogged:"das registrados",showMore:"Mostrar",moreInsights:"ms insights",hideInsights:"Ocultar insights",insightBestDayTitle:"Los {day} son tu mejor da!",insightBestDayDesc:"Tu nimo suele ser mejor los {day}. Considera programar tareas importantes ese da.",insightBestTimeTitle:"Brillas ms por la {period}",insightBestTimeDesc:"Tu nimo suele ser mejor por la {period}. Programa tareas exigentes para entonces!",insightHabitBoostsTitle:'"{habit}" mejora tu nimo!',insightHabitBoostsDesc:'Cuando completas "{habit}", tu nimo tiende a ser {percent}% mejor. Sigue as!',insightFocusMoodTitle:"Enfoque = Mejor nimo!",insightFocusMoodDesc:"Los das con sesiones de enfoque, tu nimo es {percent}% mejor. El trabajo profundo vale la pena!",insightGratitudeMoodTitle:"La gratitud mejora tu nimo!",insightGratitudeMoodDesc:"Los das con entradas de gratitud muestran {percent}% mejor nimo. Sigue practicando!",insightMoodUpTitle:"Tu nimo est mejorando!",insightMoodUpDesc:"Tu nimo promedio esta semana es {percent}% mejor que la semana pasada. Lo ests haciendo genial!",insightMoodDownTitle:"Levantemos tu nimo!",insightMoodDownDesc:"Tu nimo ha bajado un poco. Intenta enfocarte en hbitos que usualmente te hacen sentir bien.",insightHighConsistencyTitle:"Consistencia increble!",insightHighConsistencyDesc:"Has registrado tu nimo {days} de los ltimos 14 das. Esta autoconciencia es poderosa!",insightLowConsistencyTitle:"Construye tu hbito de registro",insightLowConsistencyDesc:"Intenta registrar tu nimo a la misma hora cada da. La consistencia te ayuda a detectar patrones!",hintFirstMoodTitle:"Cmo te sientes?",hintFirstMoodDesc:"Empieza el da registrando tu estado de nimo. Solo toma 5 segundos y te ayuda a entenderte mejor!",hintFirstMoodAction:"Registrar nimo",hintFirstHabitTitle:"Crea tu primer hbito",hintFirstHabitDesc:'Los pequeos hbitos llevan a grandes cambios. Prueba agregar algo simple como "Beber agua".',hintFirstHabitAction:"Agregar hbito",hintFirstFocusTitle:"Listo para enfocarte?",hintFirstFocusDesc:"Usa el temporizador de enfoque con sonidos relajantes. Comienza con solo 25 minutos!",hintFirstFocusAction:"Iniciar enfoque",hintFirstGratitudeTitle:"Practica la gratitud",hintFirstGratitudeDesc:"Escribe una cosa por la que ests agradecido. Es un poderoso impulsor del nimo!",hintFirstGratitudeAction:"Agregar gratitud",hintScheduleTipTitle:"Planifica tu da",hintScheduleTipDesc:"Usa la lnea de tiempo para ver tu da de un vistazo. Agrega eventos para mantenerte en camino!",hintScheduleTipAction:"Ver lnea de tiempo",habits:"Hbitos",habitName:"Nombre del hbito...",icon:"Icono",color:"Color",addHabit:"Aadir hbito",addFirstHabit:"Aade tu primer hbito! ",completedTimes:"Completado",habitNameHint:"Escribe un nombre para agregar.",habitType:"Tipo de hbito",habitTypeDaily:"Diario",habitTypeWeekly:"Meta semanal",habitTypeFrequency:"Cada N das",habitTypeReduce:"Reducir (lmite)",habitWeeklyGoal:"Meta semanal (veces)",habitFrequencyInterval:"Intervalo (das)",habitReduceLimit:"Lmite diario",habitStrictStreak:"Racha estricta",habitGraceDays:"Das de gracia por semana",habitWeeklyProgress:"Esta semana",habitEvery:"Cada",habitReduceProgress:"Hoy",noHabitsToday:"No hay hbitos hoy.",habitsOther:"Otros hbitos",habitTypeContinuous:"Continuo (dejar)",habitTypeScheduled:"Programado",habitTypeMultiple:"Varias veces al da",habitDailyTarget:"Meta diaria",habitStartDate:"Fecha de inicio",habitReminders:"Recordatorios",habitAddReminder:"Aadir recordatorio",habitReminderTime:"Hora",habitReminderDays:"Das de la semana",habitReminderEnabled:"Habilitado",habitRemindersPerHabit:"Los recordatorios ahora se configuran individualmente para cada hbito. Aade recordatorios al crear o editar hbitos.",perHabitRemindersTitle:"Recordatorios por Hbito",perHabitRemindersDesc:"Cada hbito puede tener sus propios horarios de recordatorio personalizados. Configralos al crear un nuevo hbito o editar uno existente.",quickAdd:"Aadir rpido",createCustomHabit:"Crear hbito personalizado",streak:"racha",habitFrequency:"Frecuencia",habitFrequencyOnce:"Una vez",habitFrequencyDaily:"Diario",habitFrequencyWeekly:"Semanal",habitFrequencyCustom:"Personalizado",habitFrequencySelectDays:"Seleccionar Das",habitDurationRequired:"Requiere Duracin?",habitTargetDuration:"Duracin Objetivo (minutos)",addReminder:"Aadir",noReminders:"Sin recordatorios",habitEventExplanation:"Este evento es de tu hbito. Edita el hbito para cambiarlo.",habitDurationMinutes:"minutos",focus:"Enfoque",breakTime:"Descanso",todayMinutes:"min hoy",concentrate:"Concntrate",takeRest:"Descansa",focusPreset25:"25/5",focusPreset50:"50/10",focusPresetCustom:"Personalizado",focusLabelPrompt:"En qu te enfocas?",focusLabelPlaceholder:"Ej.: Informe, Estudio, Proyecto...",focusCustomWork:"Trabajo (min)",focusCustomBreak:"Descanso (min)",focusReflectionTitle:"Reflexin",focusReflectionQuestion:"Cmo fue la sesin?",focusReflectionSkip:"Saltar",focusReflectionSave:"Guardar",breathingTitle:"Respiracin",breathingSubtitle:"Calma tu mente",breathingBox:"Respiracin cuadrada",breathingBoxDesc:"Fases iguales para enfoque",breathing478:"4-7-8 Relajante",breathing478Desc:"Calma profunda",breathingEnergize:"Energizante",breathingEnergizeDesc:"Impulso de energa",breathingSleep:"Preparacin para dormir",breathingSleepDesc:"Exhalacin lenta",breatheIn:"Inhala",breatheOut:"Exhala",hold:"Mantn",cycles:"ciclos",cycle:"Ciclo",effectCalming:"Calma",effectFocusing:"Enfoque",effectEnergizing:"Energa",effectSleeping:"Sueo",startBreathing:"Comenzar",breathingComplete:"Bien hecho!",breathingCompleteMsg:"Completaste el ejercicio de respiracin",breathingAgain:"Otra vez",pause:"Pausa",resume:"Continuar",gratitude:"Gratitud",today:"hoy",tomorrow:"maana",scheduleDate:"Fecha",whatAreYouGratefulFor:"Por qu ests agradecido hoy?",iAmGratefulFor:"Estoy agradecido por...",save:"Guardar",cancel:"Cancelar",recentEntries:"Entradas recientes",gratitudeTemplate1:"Hoy estoy agradecido por...",gratitudeTemplate2:"Un buen momento de hoy...",gratitudeTemplate3:"Aprecio en m...",gratitudeLimit:"Hasta 3 puntos por da",gratitudeMemoryJar:"Frasco de recuerdos",thisWeek:"Esta semana",statistics:"Estadsticas",monthlyOverview:"Resumen mensual",statsRange:"Perodo",statsRangeWeek:"Semana",statsRangeMonth:"Mes",statsRangeAll:"Todo el tiempo",statsRangeApply:"Aplicar",calendarTitle:"Calendario",calendarYear:"Ao",calendarSelectDay:"Selecciona un da",calendarPrevMonth:"Mes anterior",calendarNextMonth:"Mes siguiente",moodEntries:"Entradas de nimo",focusMinutes:"Minutos de enfoque",achievements:"Logros",toLevel:"Al nivel",unlockedPercent:"{percent}% Desbloqueado",all:"Todos",unlocked:"Desbloqueados",locked:"Bloqueados",unlockedOn:"Desbloqueado el {date}",hiddenAchievement:"???",hidden:"Oculto",noAchievementsYet:"An no hay logros",startUsingZenFlow:"Comienza a usar ZenFlow para desbloquear logros!",achievementUnlocked:"Logro desbloqueado!",userLevel:"Nivel",focusSession:"Sesin de enfoque",timeBlindnessHelper:"Ayuda para la ceguera temporal",visualTimeAwareness:"Conciencia visual del tiempo para TDAH",hoursMinutesLeft:"{hours}h {mins}m restantes",minutesLeft:"{mins}m restantes",timesUp:"Se acab el tiempo!",youllFinishAt:" Terminars a las:",nMinutes:"{n} minutos",pingEveryMinutes:"Seal cada (minutos)",audioPings:"Seales de audio",testSound:" Probar",soundOn:"Activado",soundOff:"Desactivado",startTimer:"Iniciar temporizador",pauseTimer:"Pausar",resetTimer:"Reiniciar",adhdTimeManagement:"Gestin del tiempo con TDAH",adhdTip1:"Las seales de audio ayudan a seguir el tiempo",adhdTip2:"La cuenta regresiva visual reduce la ansiedad",adhdTip3:"Prediccin de fin = mejor planificacin",adhdTip4:"Los cambios de color avisan cuando queda poco tiempo",currentStreak:"Racha actual",daysInRow:"Das seguidos",totalFocus:"Enfoque total",allTime:"Todo el tiempo",habitsCompleted:"Hbitos completados",totalTimes:"Veces totales",moodDistribution:"Distribucin del nimo",moodHeatmap:"Mapa de nimo",activityHeatmap:"Resumen de actividad",less:"Menos",more:"Ms",topHabit:"Mejor hbito",completedTimes2:"veces",profile:"Perfil",yourName:"Tu nombre",nameSaved:"Nombre guardado",notifications:"Notificaciones",notificationsComingSoon:"Las notificaciones estarn disponibles en futuras actualizaciones.",data:"Datos",exportData:"Exportar datos",importData:"Importar datos",importMode:"Modo de importacin",importMerge:"Combinar",importReplace:"Reemplazar",exportSuccess:"Exportacin lista.",exportError:"No se pudo exportar los datos.",exportCSV:"Exportar CSV",exportPDF:"Exportar PDF",importSuccess:"Importacin completada.",importError:"No se pudo importar el archivo.",importedItems:"Aadido",importAdded:"aadido",importUpdated:"actualizado",importSkipped:"omitido",textTooLong:"El texto es demasiado largo (mximo 2000 caracteres)",invalidInput:"Por favor verifica tu entrada",comingSoon:"prximamente",resetAllData:"Restablecer todos los datos",privacyTitle:"Privacidad",privacyDescription:"Tus datos permanecen en el dispositivo. Sin rastreo oculto.",privacyNoTracking:"Sin rastreo",privacyNoTrackingHint:"No recopilamos datos de comportamiento.",privacyAnalytics:"Analticas",privacyAnalyticsHint:"Ayuda a mejorar la app. Puedes desactivarlo.",privacyPolicy:"Politica de privacidad",termsOfService:"Terminos del servicio",appearance:"Apariencia",oledDarkMode:"Modo oscuro OLED",oledDarkModeHint:"Tema negro puro para pantallas OLED. Ahorra batera.",whatsNewTitle:"Novedades",whatsNewVersion:"Versin",whatsNewGotIt:"Entendido!",skipToContent:"Ir al contenido principal",settingsCloudSyncTitle:"Activar sincronizacin en la nube",settingsCloudSyncDescription:"Sincroniza tus datos entre dispositivos",settingsCloudSyncEnabled:"Sincronizacin en la nube activada",settingsCloudSyncDisabledByUser:"Sincronizacin desactivada",settingsExportTitle:"Exportar copia de seguridad",settingsExportDescription:"Guarda todos tus datos en un archivo",settingsImportTitle:"Importar copia de seguridad",settingsImportMergeTooltip:"Los datos importados se agregarn a los existentes. Se omiten duplicados.",settingsImportReplaceTooltip:" Todos los datos actuales se eliminarn y reemplazarn con la importacin",settingsImportReplaceConfirm:'Escribe "REPLACE" para confirmar la eliminacin de todos los datos',invalidFileType:"Tipo de archivo invlido. Se requiere JSON.",fileTooLarge:"Archivo demasiado grande (mx. 10 MB)",importConfirm:"Confirmar importacin",invalidBackupFormat:"Formato de copia de seguridad invlido",settingsWhatsNewTitle:"Novedades en v1.3.0",settingsWhatsNewLeaderboards:"Tablas de clasificacin",settingsWhatsNewLeaderboardsDesc:"Compite annimamente con otros",settingsWhatsNewSpotify:"Integracin Spotify",settingsWhatsNewSpotifyDesc:"Reproduccin automtica durante sesiones de enfoque",settingsWhatsNewChallenges:"Desafos con amigos",settingsWhatsNewChallengesDesc:"Desafa a amigos a crear hbitos juntos",settingsWhatsNewDigest:"Resumen semanal",settingsWhatsNewDigestDesc:"Recibe informes de progreso por email",settingsWhatsNewSecurity:"Seguridad mejorada",settingsWhatsNewSecurityDesc:"Mejor proteccin de datos y privacidad",settingsWhatsNewGotIt:"Entendido!",settingsSectionAccount:"Cuenta y nube",settingsSectionData:"Datos y copia de seguridad",weeklyDigestTitle:"Informe semanal de progreso",weeklyDigestDescription:"Recibe un resumen semanal de tus hbitos, tiempo de enfoque y tendencias de nimo cada domingo.",weeklyDigestEnabled:"Recibirs informes en tu correo",changelogTitle:"Historial de versiones",changelogExpandAll:"Expandir todo",changelogCollapseAll:"Contraer todo",changelogEmpty:"Historial de versiones no disponible",changelogAdded:"Aadido",changelogFixed:"Corregido",changelogChanged:"Cambiado",changelogRemoved:"Eliminado",settingsGroupProfile:"Perfil y apariencia",settingsGroupNotifications:"Notificaciones",settingsGroupData:"Datos y privacidad",settingsGroupAccount:"Cuenta",settingsGroupAbout:"Acerca de",consentTitle:"Configuracin de privacidad",consentDescription:"Respetamos tu privacidad. Permitir anlisis annimos para mejorar la app?",consentAnalyticsTitle:"Anlisis annimos",consentAnalyticsDesc:"Solo patrones de uso. Sin datos personales. Puedes cambiarlo en Ajustes.",consentAccept:"Permitir",consentDecline:"No, gracias",consentFooter:"Puedes cambiarlo en cualquier momento en Ajustes > Privacidad",installApp:"Instalar app",installAppDescription:"Instala ZenFlow para un inicio ms rpido y acceso sin conexin.",installBannerTitle:"Instalar ZenFlow",installBannerBody:"Obtn un inicio ms rpido y acceso sin conexin instalando la app.",installNow:"Instalar",installLater:"Ms tarde",appInstalled:"App instalada",appInstalledDescription:"ZenFlow est instalado en tu dispositivo.",checkForUpdates:"Buscar actualizaciones",checkingForUpdates:"Buscando actualizaciones...",appUpToDate:"Tienes la ltima versin",openGooglePlay:"Abrir Google Play",updateCheckFailed:"Error al buscar actualizaciones",remindersTitle:"Recordatorios",remindersDescription:"Pequeos empujones para mantenerte en camino.",moodReminder:"Hora del estado de nimo",habitReminder:"Hora de los hbitos",focusReminder:"Hora del enfoque",quietHours:"Horas tranquilas",reminderDays:"Das de la semana",selectedHabits:"Hbitos a recordar",noHabitsYet:"Sin hbitos an.",reminderMoodTitle:"Hola! Cmo ests? ",reminderMoodBody:"30 segundos para agradecer a tu cerebro. Cmo te sientes?",reminderHabitTitle:"Hora del mini hbito! ",reminderHabitBody:"Pequeo paso = gran victoria. Listo?",reminderFocusTitle:"Poder de enfoque! ",reminderFocusBody:"Solo 25 minutos para modo hroe. Vamos?",reminderDismiss:"Ahora no",notificationPermissionTitle:"Mantente en el camino",notificationPermissionDescription:"Recibe recordatorios suaves para registrar tu estado de nimo, completar hbitos y tomar descansos de enfoque. Las notificaciones te ayudan a crear rutinas saludables.",notificationFeature1Title:"Recordatorios de estado de nimo",notificationFeature1Desc:"Haz seguimiento de ti mismo cada da",notificationFeature2Title:"Seguimiento de hbitos",notificationFeature2Desc:"Mantn la constancia con tus metas",notificationFeature3Title:"Sesiones de enfoque",notificationFeature3Desc:"Recibe recordatorios para tomar descansos productivos",notificationAllow:"Activar notificaciones",notificationDeny:"Quizs despus",notificationPrivacyNote:"Puedes cambiar esto en cualquier momento en Ajustes. Las notificaciones son locales y privadas.",onboardingStep:"Paso",onboardingValueTitle:"Registra tu nimo + hbitos en 30 segundos al da",onboardingValueBody:"Check-ins rpidos, sin desorden, totalmente privado.",onboardingStart:"Empezar en 30 seg",onboardingExplore:"Explorar",onboardingGoalTitle:"Elige tu enfoque",onboardingGoalLessStress:"Menos estrs",onboardingGoalLessStressDesc:"Hbitos tranquilos y suaves",onboardingGoalMoreEnergy:"Ms energa",onboardingGoalMoreEnergyDesc:"Sueo, movimiento, hidratacin",onboardingGoalBetterRoutine:"Mejor rutina",onboardingGoalBetterRoutineDesc:"Estabilidad y ritmo",onboardingContinue:"Continuar",onboardingCheckinTitle:"Check-in rpido",onboardingHabitsPrompt:"Elige dos hbitos",onboardingPickTwo:"Elige hasta dos",onboardingReminderTitle:"Activar recordatorios",onboardingReminderBody:"Elige una hora que te convenga. Sin spam.",onboardingMorning:"Maana",onboardingEvening:"Noche",onboardingEnable:"Activar",onboardingSkip:"Omitir por ahora",onboardingHabitBreathing:"Respiracin",onboardingHabitEveningWalk:"Paseo nocturno",onboardingHabitStretch:"Estiramiento",onboardingHabitJournaling:"Escribir diario",onboardingHabitWater:"Beber agua",onboardingHabitSunlight:"Luz solar",onboardingHabitMovement:"Movimiento",onboardingHabitSleepOnTime:"Dormir a tiempo",onboardingHabitMorningPlan:"Plan matutino",onboardingHabitRead:"Leer 10 min",onboardingHabitNoScreens:"Sin pantallas tarde",onboardingHabitDailyReview:"Revisin diaria",account:"Cuenta",accountDescription:"Inicia sesin con tu email para sincronizar tu progreso entre dispositivos.",emailPlaceholder:"you@email.com",sendMagicLink:"Enviar enlace de acceso",continueWithGoogle:"Continuar con Google",signedInAs:"Conectado como",signOut:"Cerrar sesin",syncNow:"Sincronizar ahora",cloudSyncDisabled:"Sincronizacin en la nube desactivada.",deleteAccount:"Eliminar cuenta",deleteAccountConfirm:"Eliminar tu cuenta?",deleteAccountWarning:"Esto eliminar los datos en la nube y el acceso a tu cuenta.",deleteAccountSuccess:"Cuenta eliminada.",deleteAccountError:"No se pudo eliminar la cuenta.",deleteAccountLink:"Cmo eliminar la cuenta/datos",authEmailSent:"Enlace de acceso enviado a tu correo.",authSignedOut:"Sesin cerrada.",authError:"Error al enviar el enlace.",authNotConfigured:"Supabase no configurado.",syncSuccess:"Sincronizacin completa.",syncPulled:"Datos restaurados desde la nube.",syncPushed:"Nube actualizada.",syncError:"Error de sincronizacin.",authGateTitle:"Iniciar sesin",authGateBody:"Inicia sesin con tu email para guardar tu progreso y sincronizar entre dispositivos.",authGateContinue:"Continuar sin cuenta",errorBoundaryTitle:"Algo sali mal",errorBoundaryBody:"Intenta recargar la aplicacin o exportar un informe de error.",errorBoundaryExport:"Exportar informe de error",errorBoundaryReload:"Recargar aplicacin",pushTitle:"Notificaciones push",pushEnable:"Activar push",pushDisable:"Desactivar push",pushTest:"Probar notificacin",pushTestTitle:"ZenFlow",pushTestBody:"Notificacin de prueba.",pushTestSent:"Prueba enviada.",pushTestError:"Error al enviar prueba.",pushNowMood:"Push: nimo",pushNowHabit:"Push: hbitos",pushNowFocus:"Push: enfoque",pushEnabled:"Push activado.",pushDisabled:"Push desactivado.",pushError:"Error al activar push.",pushNeedsAccount:"Inicia sesin para activar push.",pushPermissionDenied:"Permiso de notificaciones denegado.",areYouSure:"Ests seguro?",cannotBeUndone:"Esta accin no se puede deshacer.",delete:"Eliminar",shareAchievements:"Compartir tu progreso",shareDialogTitle:"Comparte tu progreso",shareTitle:"Mi progreso en ZenFlow",shareText:"{streak} das seguidos! {habits} hbitos completados, {focus} minutos de enfoque.",shareButton:"Compartir",shareDownload:"Descargar imagen",shareDownloading:"Descargando...",shareCopyLink:"Copiar enlace",shareCopied:"Copiado!",sharePrivacyNote:"No se comparten datos personales. Solo tu resumen de progreso.",shareStreak:"Das seguidos",shareHabits:"Hbitos",shareFocus:"Minutos",shareGratitude:"Gratitudes",shareFooter:"Rastrea tus hbitos, estado de nimo y enfoque",myProgress:"Mi progreso",shareSquare:"Post 1:1",shareStory:"Historia 9:16",shareFormatHint:" Formato de historia para Instagram/TikTok  Formato de publicacin para feeds",shareFailed:"Error al compartir. Intntalo de nuevo.",shareAchievement30:"Legendario!",shareAchievement14:"Imparable!",shareAchievement7:"En llamas!",shareAchievement3:"Estrella en ascenso!",shareAchievementStart:"Recin empezado!",shareSubtext30:"Maestro de 30+ das",shareSubtext14:"Guerrero de 14+ das",shareSubtext7:"Racha de 7+ das",shareSubtext3:"Racha de 3+ das",shareSubtextStart:"Creando hbitos",dismiss:"Cerrar",challengesTitle:"Desafos y insignias",challengesSubtitle:"Acepta desafos y gana insignias",activeChallenges:"Activos",availableChallenges:"Disponibles",badges:"Insignias",noChallengesActive:"Sin desafos activos",noChallengesActiveHint:"Comienza un desafo para rastrear tu progreso",progress:"Progreso",reward:"Recompensa",target:"Objetivo",startChallenge:"Iniciar desafo",challengeActive:"Activo",requirement:"Requisito",challengeTypeStreak:"Racha",challengeTypeFocus:"Enfoque",challengeTypeGratitude:"Gratitud",challengeTypeTotal:"Total",friendChallenges:"Desafos de amigos",createChallenge:"Crear desafo",challengeDescription:"Desafa a tus amigos a construir hbitos juntos",challengeYourFriends:"Desafa a tus amigos con este hbito!",challengeDuration:"Duracin del desafo",challengeCreated:"Desafo creado!",challengeDetails:"Detalles del desafo",shareToInvite:"Comparte para invitar amigos!",trackWithFriends:"Sigue tus desafos con amigos",challengeCode:"Cdigo del desafo",yourProgress:"Tu progreso",daysLeft:"das restantes",dayChallenge:"das de desafo",challengeCompleted:"Desafo completado!",noChallenges:"An no hay desafos",createChallengePrompt:"Crea un desafo desde cualquier hbito!",completedChallenges:"Completados",expiredChallenges:"Expirados",youCreated:"T lo creaste",createdBy:"Creado por",confirmDeleteChallenge:"Eliminar este desafo?",challengeInvite:"nete a mi desafo!",challengeJoinPrompt:"nete a m en ZenFlow!",challengeShareTip:"Podrs compartir este desafo con amigos despus de crearlo.",joinChallenge:"Unirse al desafo",enterChallengeCode:"Introduce el cdigo de tu amigo",invalidChallengeCode:"Cdigo invlido. Formato: ZEN-XXXXXX",enterCodeToJoin:"Introduce un cdigo de desafo para unirte",joinChallengeHint:"Pide a tu amigo que comparta el cdigo del desafo",joining:"Unindose...",join:"Unirse",challengeWon:" Increble! Completaste el desafo!",catchUp:" Puedes ponerte al da! Cada da cuenta!",aheadOfSchedule:" Buen ritmo! Vas adelantado!",daysPassed:"Das Pasados",daysCompleted:"Completados",daysRemaining:"Restantes",hyperfocusMode:"Modo Hiperenfoque",hyperfocusStart:"Comenzar",hyperfocusPause:"Pausa",hyperfocusResume:"Reanudar",hyperfocusExit:"Salir",hyperfocusReady:"Listo para hiperenfoque?",hyperfocusFocusing:"En la zona...",hyperfocusPaused:"Pausado",hyperfocusTimeLeft:"restante",hyperfocusBreathe:"Respira...",hyperfocusBreathDesc:"Inhala 4s  Exhala 4s",hyperfocusEmergencyConfirm:"Quieres pausar la sesin? Sin culpa! ",hyperfocusAmbientSound:"Sonido Ambiental",hyperfocusSoundNone:"Ninguno",hyperfocusSoundWhiteNoise:"Ruido Blanco",hyperfocusSoundRain:"Lluvia",hyperfocusSoundOcean:"Ocano",hyperfocusSoundForest:"Bosque",hyperfocusSoundCoffee:"Cafetera",hyperfocusSoundFireplace:"Chimenea",hyperfocusSoundVariants:"Variantes de Sonido",hyperfocusShowVariants:"Mostrar variantes",hyperfocusHideVariants:"Ocultar variantes",hyperfocusTip:"Consejo",hyperfocusTipText:"Cada 25 minutos habr una breve pausa de respiracin. Esto ayuda a prevenir el agotamiento!",hyperfocusPauseMsg:"Presiona Play para continuar",widgetSettings:"Configuracin de Widgets",widgetSettingsDesc:"Configura widgets para tu pantalla de inicio",widgetPreview:"Vista Previa",widgetSetup:"Instalacin",widgetInfo:"Los widgets se actualizan automticamente",widgetInfoDesc:"Los datos de los widgets se sincronizan cada vez que actualizas hbitos, completas sesiones de enfoque u obtienes nuevas insignias.",widgetStatus:"Estado de Widgets",widgetPlatform:"Plataforma",widgetWeb:"Web (widgets no disponibles)",widgetSupport:"Soporte de Widgets",widgetAvailable:"Disponibles",widgetComingSoon:"Prximamente",widgetSetupiOS:"Instalacin de Widget en iOS",widgetSetupAndroid:"Instalacin de Widget en Android",widgetStep1iOS:"Mantn presionado en la pantalla de inicio hasta que los iconos tiemblen",widgetStep2iOS:'Toca "+" en la esquina superior izquierda',widgetStep3iOS:'Busca "ZenFlow" en la lista de apps',widgetStep4iOS:"Elige el tamao del widget (pequeo, mediano o grande)",widgetStep5iOS:'Toca "Aadir Widget"',widgetStep1Android:"Mantn presionado en un espacio vaco de la pantalla de inicio",widgetStep2Android:'Toca "Widgets" en el men',widgetStep3Android:'Busca "ZenFlow" en la lista de apps',widgetStep4Android:"Arrastra el widget a tu pantalla de inicio",widgetWebWarning:"Widgets no disponibles en versin web",widgetWebWarningDesc:"Los widgets solo funcionan en dispositivos mviles (iOS y Android). Instala la app mvil para usar widgets.",widgetWebTip:"La versin web muestra vistas previas de widgets para que puedas ver cmo se vern en mvil.",widgetFeatures:"Funciones de Widgets",widgetFeature1:"Mostrar racha actual de das consecutivos",widgetFeature2:"Progreso de hbitos completados hoy",widgetFeature3:"Minutos de sesiones de enfoque",widgetFeature4:"ltima insignia obtenida",widgetFeature5:"Lista de hbitos con estado de completado",widgetSmall:"Widget Pequeo",widgetMedium:"Widget Mediano",widgetLarge:"Widget Grande",widgetNoData:"Sin datos de widget",todayHabits:"Hbitos de Hoy",lastBadge:"ltima Insignia",done:"hecho",dopamineSettings:"Dopamine Dashboard",dopamineSettingsDesc:"Personaliza tu experiencia de retroalimentacin",dopamineIntensity:"Nivel de intensidad",dopamineMinimal:"Mnimo",dopamineNormal:"Normal",dopamineADHD:"TDAH",dopamineMinimalDesc:"Experiencia tranquila sin distracciones",dopamineNormalDesc:"Retroalimentacin y motivacin equilibradas",dopamineADHDDesc:"Mxima dopamina! Todos los efectos activados ",dopamineCustomize:"Ajustar configuracin",dopamineAnimations:"Animaciones",dopamineAnimationsDesc:"Transiciones y efectos suaves",dopamineSounds:"Sonidos",dopamineSoundsDesc:"Sonidos de xito y retroalimentacin de audio",dopamineHaptics:"Hpticos",dopamineHapticsDesc:"Retroalimentacin por vibracin (solo mvil)",dopamineConfetti:"Confeti",dopamineConfettiDesc:"Celebra los hbitos completados",dopamineStreakFire:"Fuego de racha",dopamineStreakFireDesc:"Fuego animado para rachas",dopamineTip:"Consejo TDAH",dopamineTipText:"Los cerebros con TDAH necesitan ms dopamina! Prueba el modo TDAH para mxima motivacin. Siempre puedes ajustar configuraciones individuales.",dopamineSave:"Guardar y cerrar",dailyRewards:"Recompensas Diarias",loginStreak:"Das Consecutivos",day:"Da",claim:"Reclamar!",claimed:"Reclamado",streakBonus:"Bono de Racha",dailyRewardsTip:"Vuelve cada da para mejores recompensas!",spinWheel:"Gira la Ruleta!",spinsAvailable:"Giros Disponibles",spin:"GIRAR",noSpins:"Sin Giros",claimPrize:"Reclamar Premio!",challengeExpired:"Desafo Expirado",challengeComplete:"Desafo Completado!",earned:"ganado",comboText:"COMBO",mysteryBox:"Caja Misteriosa",openBox:"Abrir",premium:"ZenFlow Premium",premiumDescription:"Desbloquea anlisis avanzados, exportacin de datos y temas premium!",language:"Idioma",selectLanguage:"Selecciona idioma",welcomeTitle:"Bienvenido a ZenFlow",welcomeSubtitle:"Tu viaje hacia una vida consciente comienza aqu",continue:"Continuar",version:"Versin",tagline:"Tu camino hacia una vida consciente ",sun:"Dom",mon:"Lun",tue:"Mar",wed:"Mi",thu:"Jue",fri:"Vie",sat:"Sb",january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",welcomeMessage:"Bienvenido a ZenFlow!",featureMood:"Seguimiento del estado de nimo",featureMoodDescription:"Registra tu estado de nimo todos los das",featureHabits:"Hbitos",featureHabitsDescription:"Crea y rastrea hbitos saludables",featureFocus:"Sesiones de enfoque",featureFocusDescription:"Mantn el enfoque con el temporizador Pomodoro",privacyNote:"Tus datos se almacenan localmente y estn protegidos",install:"Instalar aplicacin",installDescription:"Instala ZenFlow en tu pantalla de inicio",onboardingAgeTitle:"Bienvenido a ZenFlow",onboardingAgeDesc:"Esta aplicacin est diseada para usuarios de 13 aos o ms",onboardingAgeConfirm:"Tengo 13 aos o ms",onboardingAgeNote:"Al continuar, confirmas que tienes 13 aos o ms",healthConnectAgeDesc:"Las funciones de Health Connect requieren que tengas 13 aos o ms para usar los datos de salud de manera responsable.",onboardingMoodTitle:"Cmo te sientes?",onboardingMoodDescription:"Rastrea tu estado de nimo diariamente",onboardingHabitsTitle:"Crea tus primeros hbitos",onboardingHabitsDescription:"Comienza con pequeos pasos",onboardingRemindersTitle:"Recordatorios",onboardingRemindersDescription:"Recibe recordatorios para tus hbitos",enableReminders:"Activar recordatorios",morning:"Maana",afternoon:"Tarde",evening:"Noche",close:"Cerrar",skip:"Omitir",getStarted:"Comenzar",next:"Siguiente",remindersActive:"Recordatorios activos",greatChoice:"Buena eleccin!",habitsSelected:"hbitos seleccionados",tutorialWelcomeTitle:"Bienvenido a ZenFlow",tutorialWelcomeSubtitle:"Tu compaero personal de bienestar",tutorialWelcomeDesc:"Una aplicacin diseada para ayudarte a mantener el enfoque, crear hbitos saludables y sentirte mejor cada da.",tutorialBrainTitle:"Diseado para tu cerebro",tutorialBrainSubtitle:"Tienes TDAH o simplemente te cuesta concentrarte?",tutorialBrainDesc:"ZenFlow utiliza tcnicas respaldadas por la ciencia para ayudarte a gestionar la atencin, el tiempo y la energa. No necesitas diagnstico  si te cuesta concentrarte, esta app es para ti.",tutorialFeaturesTitle:"Qu puedes hacer",tutorialFeaturesSubtitle:"Herramientas simples, gran impacto",tutorialFeaturesDesc:"Rastrea tu progreso y gana impulso:",tutorialFeature1:"Rastrea el estado de nimo y energa diaria",tutorialFeature2:"Construye hbitos paso a paso",tutorialFeature2b:" Personaliza iconos, colores y metas!",tutorialFeature3:"Sesiones de enfoque con sonidos ambientales",tutorialFeature4:"Diario de gratitud",tutorialMoodTitle:"Entindete a ti mismo",tutorialMoodSubtitle:"Rastrea estados de nimo para encontrar patrones",tutorialMoodDesc:"Los registros diarios rpidos te ayudan a notar qu afecta tu energa y enfoque. Con el tiempo, te entenders mejor.",tutorialFocusTitle:"Modo de enfoque profundo",tutorialFocusSubtitle:"Bloquea distracciones, haz las cosas",tutorialFocusDesc:"Usa la tcnica Pomodoro con sonidos ambientales relajantes. Perfecto para trabajo, estudio o proyectos creativos.",tutorialDayClockTitle:"Tu da de un vistazo",tutorialDayClockSubtitle:"Medidor visual de energa para cerebros con TDAH",tutorialDayClockDesc:"Ve tu da como un crculo con zonas de maana, tarde y noche. Observa cmo crece tu energa al completar actividades!",tutorialDayClockFeature1:" El medidor de energa se llena con el progreso",tutorialDayClockFeature2:" La mascota reacciona a tus logros",tutorialDayClockFeature3:" Rastrea todas las actividades en un lugar",tutorialDayClockFeature4:" Alcanza 100% para el Da Perfecto!",tutorialMoodThemeTitle:"La app se adapta a ti",tutorialMoodThemeSubtitle:"El diseo cambia con tu estado de nimo",tutorialMoodThemeDesc:"Cuando te sientes genial, la app celebra con colores vibrantes. Cuando ests mal, se vuelve tranquila y reconfortante.",tutorialMoodThemeFeature1:" Genial: Prpura vibrante y dorado",tutorialMoodThemeFeature2:" Buen humor: Verdes clidos",tutorialMoodThemeFeature3:" Mal humor: Azules calmantes",tutorialMoodThemeFeature4:" Tiempos difciles: Diseo suave y minimalista",tutorialReadyTitle:"Listo para empezar?",tutorialReadySubtitle:"Tu viaje comienza ahora",tutorialReadyDesc:"Empieza pequeo  solo registra cmo te sientes hoy. Cada paso cuenta!",tutorialStart:"Vamos!",weeklyReport:"Informe semanal",weeklyStory:"Historia semanal",incredibleWeek:"Semana increble!",pathToMastery:"Ests en el camino hacia la maestra!",greatWork:"Gran trabajo!",keepMomentum:"Mantn el impulso!",goodProgress:"Buen progreso!",everyStepCounts:"Cada paso cuenta!",newWeekOpportunities:"Nueva semana - Nuevas oportunidades!",startSmall:"Comienza poco a poco, avanza!",bestDay:"Mejor da",continueBtn:"Continuar",storyAverageMoodScore:"puntuacin media de nimo",storyCompletionRate:"tasa de finalizacin",storyTopHabit:"Hbito principal",storyCompletions:"completados",storyPerfectDays:"das perfectos esta semana",storyAvgSession:"sesin prom.",storyLongestSession:"ms larga",storyMostFocusedOn:"Ms enfocado en:",storyTrackYourJourney:"Sigue tu camino con",storyTapLeft:" Toca izquierda",storyTapCenter:"Toca centro para pausar",storyTapRight:"Toca derecha ",generating:"Generando...",dayStreak:"das seguidos",keepItUp:"Sigue as!",myCompanion:"Mi Compaero",missedYou:"te extra!",welcomeBack:"Bienvenido de vuelta a tu jardn",warmth:"Calidez",energy:"Energa",wisdom:"Sabidura",companionStreak:"Das seguidos!",chooseCompanion:"Elige Compaero",levelUpHint:"Completa actividades para ganar XP y subir de nivel!",pet:"Acariciar",feed:"Alimentar",talk:"Hablar",happiness:"Felicidad",satiety:"Saciedad",companionMissesYou:"Hola! Te extrao! ",companionWantsToPlay:"Quieres pasar el rato? Es divertido aqu! ",companionWaiting:"Te espero! Tengo algo genial ",companionProud:"ERES INCREBLE! Muy orgulloso! ",companionCheersYou:"Vamos vamos! T puedes! ",companionQuickMood:"Psst! Cmo vas? Toca aqu! ",myWorld:"Mi mundo",plants:"Plantas",creatures:"Criaturas",level:"Nivel",startStreak:"Empieza tu racha hoy!",legendaryStreak:"Racha legendaria!",amazingStreak:"Increble!",goodStart:"Gran comienzo!",todayActivities:"Hoy",companionPet:"Acariciar",companionFeed:"Alimentar",companionTalk:"Hablar",companionHappiness:"Felicidad",companionHunger:"Saciedad",companionHungryCanFeed:" Tengo hambre... Me alimentas?",companionHungryNoTreats:" Tengo hambre... Haz actividades para ganar golosinas!",companionStreakLegend:" {streak} das! Eres una leyenda!",companionStreakGood:" {streak} das! Sigue as!",companionAskMood:" Cmo te sientes hoy?",companionAskHabits:" Hora de hbitos!",companionAskFocus:" Listo para enfocarte?",companionAskGratitude:" Por qu ests agradecido?",companionAllDone:" Da perfecto! Eres increble!",companionHappy:" Te quiero!",companionMorning:" Buenos das!",companionAfternoon:" Cmo va tu da?",companionEvening:" Buenas noches!",companionNight:" Zzz...",companionLevelUp:" Subiste de nivel! Ahora nivel {level}!",companionNeedsFood:"Tu compaero tiene hambre!",petReaction1:" *ronroneo*",petReaction2:" Qu bien se siente!",petReaction3:" Gracias!",petReaction4:" Te quiero!",feedReaction1:" Delicioso!",feedReaction2:" Riqusimo!",feedReaction3:" Gracias!",feedReaction4:" Energa!",feedNotEnough:" Necesitas {needed} golosinas, tienes {have}",free:"Gratis",fullness:"Saciedad",earnTreatsHint:"Completa actividades para ganar golosinas para tu compaero!",myTree:"Mi rbol",touch:"Tocar",water:"Regar",waterLevel:"Nivel de agua",growth:"Crecimiento",stage:"Etapa",treeThirstyCanWater:" El rbol necesita agua...",treeThirstyNoTreats:" Sediento... Haz actividades para ganar golosinas!",treeStreakLegend:" {streak} das! El rbol brilla!",treeStreakGood:" {streak} das! Creciendo fuerte!",treeMaxStage:" Un magnfico gran rbol!",treeStage4:" Un hermoso rbol maduro!",treeStage3:" Creciendo en un arbolito fuerte!",treeStage2:" Un brote joven alcanzando la luz!",treeStage1:" Una pequea semilla llena de potencial!",treeHappy:" El rbol est floreciendo!",treeSeason:"{emoji} Hermosa {season}!",treeStageUp:" Evolucion a {stage}!",treeMissedYou:"Tu rbol te extra!",treeNeedsWater:"El rbol necesita agua!",waterDecayHint:"El nivel de agua baja -2% por hora",seasonTreeHint:"El rbol cambia con las estaciones!",xpToNextStage:"{xp} XP para {stage}",touchReaction1:" *susurro de hojas*",touchReaction2:" Las hojas bailan!",touchReaction3:" Se siente vivo!",touchReaction4:" Creciendo ms fuerte!",waterReaction1:" *absorbe agua*",waterReaction2:" Refrescante!",waterReaction3:" Gracias!",waterReaction4:" Creciendo!",waterNotEnough:" Necesitas {needed} golosinas, tienes {have}",restDayTitle:"Da de descanso",restDayMessage:"Descansa, tu racha est segura",restDayButton:"Da de descanso",restDayCancel:"Quiero registrar de todos modos",daysSaved:"das conservados",expand:"Expandir",collapse:"Contraer",moodRecordedShort:"nimo registrado",habitsCompletedShort:"Hbitos completados",focusCompletedShort:"Enfoque completo",gratitudeAddedShort:"Gratitud aadida",allComplete:"Todo listo!",allCompleteMessage:"Has completado todas las actividades de hoy",allCompleteSupportive:"Hasta maana!",allCompleteLegend:"Da legendario!",allCompleteAmazing:"Increble!",allCompleteGreat:"Excelente trabajo!",allCompleteNice:"Buen trabajo!",daysStreak:"das seguidos",restDaySupportive:"Maana continuamos juntos ",restDayCooldown:"El da de descanso ya se us recientemente",restDayAvailableIn:"Disponible en",taskMomentum:"Tareas",taskMomentumDesc:"Priorizacin amigable para TDAH",tasksInARow:"tareas seguidas",taskNamePlaceholder:"Nombre de la tarea...",durationMinutes:"Duracin (minutos)",interestLevel:"Inters (1-10)",markAsUrgent:"Marcar como urgente",urgent:"Urgente",addTask:"Aadir",topRecommendedTasks:"Top 3 tareas recomendadas",quickWins:"Victorias rpidas (menos de 2 min)",allTasks:"Todas las tareas",noTasksYet:"Sin tareas todava",addFirstTaskMessage:"Aade tu primera tarea para empezar!",addFirstTask:"Aadir primera tarea",adhdTaskTips:"Consejos para TDAH",taskTip1:"Empieza con victorias rpidas (2-5 min)",taskTip2:"Gana impulso con completados consecutivos",taskTip3:"Las tareas interesantes dan ms dopamina",taskTip4:"Urgente + corto = combo perfecto",tasks:"Tareas",quests:"Misiones",challenges:"Desafos",openTasks:"Abrir tareas",openQuests:"Abrir misiones",openChallenges:"Abrir desafos",randomQuests:"Misiones aleatorias",questsPanelSubtitle:"Completa misiones para XP extra y medallas exclusivas",adhdEngagementSystem:"Sistema de compromiso TDAH",adhdEngagementDesc:"Las misiones ofrecen variedad y recompensas inesperadas - perfecto para cerebros con TDAH que buscan novedad!",dailyQuest:"Misin diaria",weeklyQuest:"Misin semanal",bonusQuest:"Misin bonus",newQuest:"Nueva misin",limitedTime:"Tiempo limitado",generate:"Generar",noQuestAvailable:"Misin no disponible",noBonusQuestAvailable:"Misin bonus no disponible",bonusQuestsHint:"Las misiones bonus aparecen aleatoriamente o pueden generarse manualmente",questProgress:"Progreso:",questExpired:"Expirado",questType:"Misin",questTips:"Consejos de misiones",questTipDaily:"Las misiones diarias se reinician cada 24 horas",questTipWeekly:"Las misiones semanales ofrecen 3x XP",questTipBonus:"Las misiones bonus son raras con 5x XP",questTipExpire:"Completa las misiones antes de que expiren!",companionHungry:"Tengo hambre... Me das de comer?",back:"Atrs",start:"Empezar",stop:"Parar",allHabitsComplete:"Todos los hbitos completados!",amazingWork:"Increble trabajo hoy!",pageNotFound:"Pgina no encontrada",goHome:"Ir al inicio",insightsTitle:"Perspectivas Personales",insightsNotEnoughData:"Sigue rastreando tu estado de nimo, hbitos y enfoque durante una semana para desbloquear perspectivas personalizadas sobre tus patrones.",insightsNoPatterns:"No se detectaron patrones fuertes todava. Sigue rastreando consistentemente para descubrir qu funciona mejor para ti!",insightsHelpTitle:"Acerca de las Perspectivas",insightsHelp1:"Las perspectivas se generan a partir de tus datos personales usando anlisis estadstico.",insightsHelp2:"Todo el anlisis ocurre localmente en tu dispositivo - tus datos nunca salen.",insightsHelp3:"Los patrones con mayor confianza se muestran primero.",insightsDismiss:"Descartar",insightsShowMore:"Mostrar ms",insightsShowLess:"Mostrar menos",insightsDismissedCount:"perspectivas descartadas",insightsMoodEntries:"registros de nimo",insightsHabitCount:"hbito",insightsFocusSessions:"sesiones de enfoque",weeklyInsights:"Insights Semanales",weeklyInsightsNotEnoughData:"Rastrea tu progreso esta semana para desbloquear insights y recomendaciones personalizadas.",comparedToLastWeek:"Comparado con la semana pasada",recommendations:"Recomendaciones",avgMood:"nimo prom.",week:"Semana",recLowMoodTitle:"Tu nimo necesita atencin",recLowMoodDesc:"Tu estado de nimo esta semana ha sido ms bajo de lo habitual. Considera actividades que suelen animarte.",recLowMoodAction:"Prueba un ejercicio de respiracin de 5 minutos",recHabitDeclineTitle:"Los hbitos disminuyeron",recHabitDeclineDesc:"El cumplimiento de tus hbitos baj respecto a la semana pasada. Empieza poco a poco para recuperar el impulso.",recHabitDeclineAction:"Enfcate en un solo hbito hoy",recLowFocusTitle:"Aumenta tu tiempo de enfoque",recLowFocusDesc:"Has tenido pocas sesiones de enfoque esta semana. Incluso las sesiones cortas ayudan a crear el hbito.",recLowFocusAction:"Prueba una sesin de enfoque de 10 minutos",recGreatProgressTitle:"Vas muy bien!",recGreatProgressDesc:"Tu progreso general est mejorando respecto a la semana pasada. Sigue as!",recBestDayTitle:"Este fue tu mejor da",recBestDayDesc:"Intenta identificar qu hizo especial este da y replica esas condiciones.",recGratitudeTitle:"Practica la gratitud",recGratitudeDesc:"Escribir las cosas por las que ests agradecido puede mejorar significativamente tu nimo con el tiempo.",recGratitudeAction:"Aade una entrada de gratitud hoy",recPerfectWeekTitle:"Increble constancia!",recPerfectWeekDesc:"Completaste la mayora de tus hbitos esta semana. Ests creando rutinas slidas!",recTopHabitTitle:"Contina con este hbito",recTopHabitDesc:"Este es uno de tus hbitos ms constantes. Probablemente contribuye a tu bienestar.",smartReminders:"Recordatorios Inteligentes",smartRemindersNotEnoughData:"Sigue usando la app para desbloquear sugerencias personalizadas basadas en tus patrones.",smartRemindersOptimized:"Tus horarios de recordatorio estn bien optimizados! Sigue as.",smartRemindersDescription:"Sugerencias personalizadas basadas en tus patrones de uso",suggestions:"sugerencias",highConfidence:"Alta confianza",mediumConfidence:"Media",lowConfidence:"Sugerencia",apply:"Aplicar",habitRemindersOptimal:"Horarios ptimos de hbitos",patternBased:"Patrn",syncOffline:"Sin conexin",syncSyncing:"Sincronizando",syncLastSync:"Sincronizado",syncReady:"Listo para sincronizar",syncBackup:"copia de seguridad",syncReminders:"recordatorios",syncChallenges:"desafos",syncTasks:"tareas",syncInnerWorld:"progreso",syncBadges:"insignias",onboardingTryNow:"Probar ahora",onboardingGotIt:"Entendido!",onboardingNext:"Siguiente",onboardingGetStarted:"Empecemos!",onboardingWelcomeTitle:"Bienvenido a ZenFlow! ",onboardingWelcomeDescription:"Estamos emocionados de ayudarte a crear mejores hbitos y entender qu funciona para TU cerebro.",onboardingDay1Title:"Empecemos simple",onboardingDay1Description:"Por hoy, nos enfocaremos en solo dos cosas: rastrear tu estado de nimo y crear tu primer hbito. Nada abrumador.",onboardingGradualTitle:"Ms funciones se desbloquean gradualmente",onboardingGradualDescription:"Durante los prximos 4 das, descubrirs nuevas funciones a medida que avances. Sin sobrecarga de informacin!",onboardingDayProgress:"Da {day} de {maxDay}",onboardingFeaturesUnlocked:"funciones",onboardingNextUnlock:"Prximo desbloqueo",onboardingfocusTimerUnlockTitle:" Temporizador de Enfoque Desbloqueado!",onboardingfocusTimerUnlockSubtitle:"Gran progreso!",onboardingfocusTimerDescription:"Usa el temporizador Pomodoro para una concentracin profunda. Establece 25 minutos, enfcate en una tarea, luego toma un descanso. Perfecto para cerebros ADHD!",onboardingxpUnlockTitle:" Sistema XP Desbloqueado!",onboardingxpUnlockSubtitle:"Hora de gamificacin!",onboardingxpDescription:"Gana experiencia por completar hbitos, sesiones de enfoque y seguimiento del estado de nimo. Sube de nivel y desbloquea nuevos logros!",onboardingquestsUnlockTitle:" Misiones Desbloqueadas!",onboardingquestsUnlockSubtitle:"Nuevos desafos!",onboardingquestsDescription:"Las misiones diarias y semanales aaden variedad a tu rutina. Compltalas para obtener recompensas adicionales!",onboardingcompanionUnlockTitle:" Compaero Desbloqueado!",onboardingcompanionUnlockSubtitle:"Conoce a tu ayudante!",onboardingcompanionDescription:"Tu compaero virtual crece contigo, celebra tus victorias y te apoya en los das difciles. Elige entre 5 tipos!",onboardingtasksUnlockTitle:" Tareas Desbloqueadas!",onboardingtasksUnlockSubtitle:"Acceso completo!",onboardingtasksDescription:"Task Momentum ayuda a priorizar tareas especficamente para ADHD. El sistema recomienda qu hacer a continuacin segn la urgencia y tu energa.",onboardingchallengesUnlockTitle:" Desafos Desbloqueados!",onboardingchallengesUnlockSubtitle:"Acceso completo!",onboardingchallengesDescription:"nete a desafos a largo plazo para desarrollar habilidades. Rastrea el progreso y gana insignias exclusivas!",reengageTitle:"Bienvenido de vuelta!",reengageSubtitle:"Has estado ausente {days} das",reengageStreakBroken:"Estado de racha",reengageStreakProtected:"Racha protegida!",reengageStreakBrokenMsg:"Tu racha se reinici, pero puedes empezar de nuevo hoy! Racha anterior: {streak} das.",reengageStreakProtectedMsg:"Tu racha de {streak} das est a salvo! Sigue adelante!",reengageBestHabits:"Tus mejores hbitos",reengageSuccessRate:"xito",reengageQuickMood:"Cmo te sientes?",reengageMoodLogged:"Estado de nimo registrado!",reengageContinue:"Continuar!",trendsTitle:"Tus Tendencias",trendsAvgMood:"nimo Prom.",trendsHabitRate:"Tasa Hbitos",trendsFocusTime:"Enfoque",trendsMoodChart:"nimo Con El Tiempo",trendsHabitChart:"Completitud Hbitos",trendsFocusChart:"Tiempo de Enfoque",trendsTotalFocus:"Total",trendsInsightHint:"Quieres insights personalizados?",trendsInsightHintDesc:"Consulta el panel de Insights en la pestaa principal para descubrir patrones en tus datos.",healthConnect:"Health Connect",healthConnectDescription:"Sincronizar con Google Health Connect",healthConnectLoading:"Comprobando Health Connect...",healthConnectNotAvailable:"No disponible en este dispositivo",healthConnectUpdateRequired:"Por favor actualiza la app Health Connect",mindfulness:"Atencin plena",sleep:"Sueo",steps:"Pasos",stepsLabel:"pasos",grantPermissions:"Otorgar permisos",todayHealth:"Salud de hoy",syncFocusSessions:"Sincronizar sesiones de enfoque",syncFocusSessionsHint:"Guardar sesiones de enfoque como atencin plena en Health Connect",openHealthConnect:"Abrir Health Connect",refresh:"Actualizar",permissions:"Permisos",questMorningMomentum:"Impulso Matutino",questMorningMomentumDesc:"Completa 3 hbitos antes de las 12:00",questHabitMaster:"Maestro de Hbitos",questHabitMasterDesc:"Completa 5 hbitos hoy",questSpeedDemon:"Demonio de Velocidad",questSpeedDemonDesc:"Completa 3 hbitos en 30 minutos",questFocusFlow:"Flujo de Enfoque",questFocusFlowDesc:"30 minutos de enfoque sin descansos",questDeepWork:"Trabajo Profundo",questDeepWorkDesc:"60 minutos de trabajo concentrado",questHyperfocusHero:"Hroe de Hiperenfoque",questHyperfocusHeroDesc:"90 minutos en Modo Hiperenfoque",questStreakKeeper:"Guardin de Racha",questStreakKeeperDesc:"Mantn tu racha durante 7 das",questConsistencyKing:"Rey de la Constancia",questConsistencyKingDesc:"Mantn tu racha durante 14 das",questGratitudeSprint:"Sprint de Gratitud",questGratitudeSprintDesc:"Escribe 5 agradecimientos en 5 minutos",questThankfulHeart:"Corazn Agradecido",questThankfulHeartDesc:"Escribe 10 agradecimientos hoy",questLightningRound:"Ronda Relmpago",questLightningRoundDesc:"Completa 5 tareas rpidas en 15 minutos",questWeeklyWarrior:"Guerrero Semanal",questWeeklyWarriorDesc:"Completa hbitos 7 das seguidos",feedbackTitle:"Enviar comentarios",feedbackSubtitle:"Aydanos a mejorar la app",feedbackCategoryBug:"Reportar error",feedbackCategoryFeature:"Solicitar funcin",feedbackCategoryOther:"Otro",feedbackMessagePlaceholder:"Describe tu problema o sugerencia...",feedbackEmailPlaceholder:"Email (opcional)",feedbackSubmit:"Enviar",feedbackSuccess:"Gracias por tus comentarios!",feedbackError:"Error al enviar. Intenta de nuevo.",feedbackSending:"Enviando...",sendFeedback:"Enviar comentarios",rateAppTitle:"Te gusta ZenFlow?",rateAppSubtitle:"Califcanos en Play Store",rateAppButton:"Calificar",rateAppLater:"Ms tarde",updateAvailable:"Actualizacin disponible",updateDescription:"Una nueva versin est lista para instalar con mejoras y correcciones.",updateDescriptionCritical:"Se requiere una actualizacin crtica para continuar usando la app.",updateNow:"Actualizar ahora",updateAvailableFor:"Disponible hace {days} das",quickActions:"Acciones rpidas",quickActionsDescription:"Mostrar notificacin con acciones rpidas en pantalla de bloqueo",quickActionsEnabled:"Acciones rpidas activadas",quickActionsDisabled:"Acciones rpidas desactivadas",quickActionLogMood:"Registrar estado",quickActionStartFocus:"Iniciar enfoque",quickActionViewHabits:"Ver hbitos",notificationSound:"Sonido de notificacin",notificationSoundDescription:"Elige el sonido para recordatorios",soundDefault:"Predeterminado",soundDefaultDesc:"Sonido de notificacin del sistema",soundGentle:"Suave",soundGentleDesc:"Solo vibracin",soundChime:"Timbre",soundChimeDesc:"Tono de notificacin corto",soundSilent:"Silencioso",soundSilentDesc:"Sin sonido ni vibracin",testNotification:"Notificacin de prueba",testNotificationHint:"Enva una notificacin de prueba en 5 segundos para verificar que funcionan.",insightConfidence:"Confianza",insightDataPoints:"Puntos de datos",insightAvgMoodWith:"nimo promedio con hbito",insightAvgMoodWithout:"nimo promedio sin hbito",insightSampleDays:"Das de muestra",insightBestActivity:"Mejor actividad",insightPeakTime:"Hora pico",insightAvgDuration:"Duracin promedio",insightSessions:"Sesiones",insightTagOccurrences:"Ocurrencias de etiqueta",insightMoodWithTag:"nimo con etiqueta",insightMoodWithoutTag:"nimo sin etiqueta",insightDisclaimer:"Este insight se basa en tus datos. Los patrones pueden cambiar.",times:"veces",noMoodDataYet:"Sin datos de nimo",noEmotionDataYet:"Sin datos de emociones",xp:"XP"},de:{appName:"ZenFlow",goodMorning:"Guten Morgen",goodAfternoon:"Guten Tag",goodEvening:"Guten Abend",home:"Start",stats:"Statistiken",settings:"Einstellungen",streakDays:"Serie",days:"T",habitsToday:"Gewohnheiten heute",focusToday:"Fokus heute",minutes:"Minuten",min:"Min",gratitudes:"Dankbarkeiten",howAreYouFeeling:"Wie fhlst du dich?",howAreYouNow:"Wie geht es dir jetzt?",moodToday:"Stimmung heute",moodHistory:"Tagesverlauf",moodRecorded:"Stimmung aufgezeichnet!",moodNotes:"Stimmungsnotizen",todayProgress:"Heutiger Fortschritt",completed:"Erledigt!",updateMood:"Aktualisieren",great:"Super",good:"Gut",okay:"Okay",bad:"Schlecht",terrible:"Schrecklich",addNote:"Notiz hinzufgen (optional)...",saveMood:"Stimmung speichern",startHere:"Starte hier",tapToStart:"Tippe auf ein Emoji, um deinen Tag zu beginnen",moodPrompt:"Was hat das beeinflusst?",moodTagsTitle:"Tags",moodTagPlaceholder:"Tag hinzufgen...",moodTagAdd:"Hinzufgen",moodTagFilter:"Nach Tag filtern",allTags:"Alle Tags",tagWork:"Arbeit",tagFamily:"Familie",tagHealth:"Gesundheit",tagSleep:"Schlaf",tagMoney:"Geld",tagWeather:"Wetter",moodPatternsTitle:"Stimmungs-Muster",moodBestDay:"Bester Wochentag",moodFocusComparison:"Stimmung vs Fokus",moodFocusWith:"Mit Fokus-Sessions",moodFocusWithout:"Ohne Fokus",moodHabitCorrelations:"Gewohnheiten vs Stimmung",moodNoData:"Nicht genug Daten",editMood:"Stimmung bearbeiten",changeMood:"Stimmung ndern",changeMoodConfirmTitle:"Stimmung ndern?",changeMoodConfirmMessage:"Bist du sicher, dass du deine Stimmung ndern mchtest?",moodChanged:"Stimmung aktualisiert!",confirm:"ndern",dailyProgress:"Tagesfortschritt",continueProgress:"Fortfahren",dayTimeline:"Dein Tag",dayComplete:"des Tages",perfectDay:"Perfekter Tag!",startYourDay:"Starte deinen Tag! ",keepGoing:"Weiter so! Du machst das toll ",almostThere:"Fast geschafft! ",soClose:"So nah an der Perfektion! ",legendaryDay:"LEGENDRER TAG! ",scheduleTitle:"Dein Zeitplan",scheduleAddEvent:"Ereignis hinzufgen",scheduleEmpty:"Keine Ereignisse geplant. Tippe auf + um hinzuzufgen!",scheduleEmptyDay:"Keine Ereignisse fr diesen Tag",scheduleStart:"Start",scheduleEnd:"Ende",scheduleAdd:"Zum Zeitplan hinzufgen",scheduleCustomTitle:"Eigener Titel (optional)",scheduleWork:"Arbeit",scheduleMeal:"Mahlzeit",scheduleRest:"Ruhe",scheduleExercise:"Sport",scheduleStudy:"Lernen",scheduleMeeting:"Meeting",scheduleNote:"Notiz (optional)",scheduleNotePlaceholder:"Details oder Erinnerungen hinzufgen...",needInspiration:"Brauchst du Inspiration?",journalPrompt:"Frage",dailyPrompt:"Tagesfrage",usePrompt:"Diese Frage verwenden",shufflePrompt:"Andere Frage",mindfulMoment:"Achtsamer Moment",takeAMoment:"Nimm dir einen Moment...",withNote:"mit Notiz",whatsMakingYouFeel:"Was lsst dich so fhlen?",emotionSaved:"Emotion gespeichert",treat:"Leckerli",moodGood:"Gut",moodOkay:"Okay",moodNotGreat:"Nicht so gut",timeUntilEndOfDay:"Bis Tagesende",timeIn:"in",timePassed:"Zeit vergangen",timeNow:"Jetzt!",hoursShort:"h",minutesShort:"m",night:"Nacht",aiInsights:"KI-Einblicke",aiInsight:"KI-Einblick",personalizedForYou:"Personalisiert fr dich",insightsNeedMoreData:"Notiere deine Stimmung eine Woche lang, um personalisierte Einblicke freizuschalten!",daysLogged:"Tage notiert",showMore:"Zeige",moreInsights:"weitere Einblicke",hideInsights:"Einblicke ausblenden",insightBestDayTitle:"{day}e sind deine besten Tage!",insightBestDayDesc:"Deine Stimmung ist an {day}en meist am besten. Plane wichtige Aufgaben fr diesen Tag.",insightBestTimeTitle:"Du strahlst am hellsten am {period}",insightBestTimeDesc:"Deine Stimmung ist am {period} meist besser. Plane anspruchsvolle Aufgaben fr diese Zeit!",insightHabitBoostsTitle:'{habit}" hebt deine Stimmung!',insightHabitBoostsDesc:'Wenn du {habit}" erledigst, ist deine Stimmung tendenziell {percent}% besser. Weiter so!',insightFocusMoodTitle:"Fokuszeit = Bessere Stimmung!",insightFocusMoodDesc:"An Tagen mit Fokus-Sitzungen ist deine Stimmung {percent}% besser. Tiefe Arbeit zahlt sich aus!",insightGratitudeMoodTitle:"Dankbarkeit hebt deine Stimmung!",insightGratitudeMoodDesc:"Tage mit Dankbarkeitseintrgen zeigen {percent}% bessere Stimmung. Mach weiter so!",insightMoodUpTitle:"Deine Stimmung verbessert sich!",insightMoodUpDesc:"Deine durchschnittliche Stimmung diese Woche ist {percent}% besser als letzte Woche. Du machst das groartig!",insightMoodDownTitle:"Lass uns deine Stimmung heben!",insightMoodDownDesc:"Deine Stimmung ist etwas gesunken. Konzentriere dich auf Gewohnheiten, die dir normalerweise gut tun.",insightHighConsistencyTitle:"Erstaunliche Bestndigkeit!",insightHighConsistencyDesc:"Du hast deine Stimmung an {days} der letzten 14 Tage notiert. Dieses Selbstbewusstsein ist mchtig!",insightLowConsistencyTitle:"Baue deine Notier-Gewohnheit auf",insightLowConsistencyDesc:"Versuche, deine Stimmung jeden Tag zur gleichen Zeit zu notieren. Bestndigkeit hilft, Muster zu erkennen!",hintFirstMoodTitle:"Wie fhlst du dich?",hintFirstMoodDesc:"Beginne den Tag mit einer Stimmungsnotiz. Es dauert nur 5 Sekunden und hilft dir, dich besser zu verstehen!",hintFirstMoodAction:"Stimmung notieren",hintFirstHabitTitle:"Erstelle deine erste Gewohnheit",hintFirstHabitDesc:'Kleine Gewohnheiten fhren zu groen Vernderungen. Versuche etwas Einfaches wie "Wasser trinken".',hintFirstHabitAction:"Gewohnheit hinzufgen",hintFirstFocusTitle:"Bereit dich zu fokussieren?",hintFirstFocusDesc:"Nutze den Fokus-Timer mit beruhigenden Klngen. Starte mit nur 25 Minuten!",hintFirstFocusAction:"Fokus starten",hintFirstGratitudeTitle:"be Dankbarkeit",hintFirstGratitudeDesc:"Schreibe eine Sache auf, fr die du dankbar bist. Es ist ein starker Stimmungsaufheller!",hintFirstGratitudeAction:"Dankbarkeit hinzufgen",hintScheduleTipTitle:"Plane deinen Tag",hintScheduleTipDesc:"Nutze die Zeitleiste, um deinen Tag auf einen Blick zu sehen. Fge Ereignisse hinzu!",hintScheduleTipAction:"Zeitleiste ansehen",habits:"Gewohnheiten",habitName:"Name der Gewohnheit...",icon:"Symbol",color:"Farbe",addHabit:"Gewohnheit hinzufgen",addFirstHabit:"Fge deine erste Gewohnheit hinzu! ",completedTimes:"Abgeschlossen",habitNameHint:"Gib einen Namen ein, um hinzuzufgen.",habitType:"Gewohnheitstyp",habitTypeDaily:"Tglich",habitTypeWeekly:"Wochenziel",habitTypeFrequency:"Alle N Tage",habitTypeReduce:"Reduzieren (Limit)",habitWeeklyGoal:"Wochenziel (Mal)",habitFrequencyInterval:"Intervall (Tage)",habitReduceLimit:"Tageslimit",habitStrictStreak:"Strenge Serie",habitGraceDays:"Gnadentage pro Woche",habitWeeklyProgress:"Diese Woche",habitEvery:"Alle",habitReduceProgress:"Heute",noHabitsToday:"Keine Gewohnheiten heute.",habitsOther:"Andere Gewohnheiten",habitTypeContinuous:"Kontinuierlich (aufhren)",habitTypeScheduled:"Geplant",habitTypeMultiple:"Mehrmals tglich",habitDailyTarget:"Tagesziel",habitStartDate:"Startdatum",habitReminders:"Erinnerungen",habitAddReminder:"Erinnerung hinzufgen",habitReminderTime:"Zeit",habitReminderDays:"Wochentage",habitReminderEnabled:"Aktiviert",habitRemindersPerHabit:"Erinnerungen werden jetzt individuell fr jede Gewohnheit konfiguriert. Fgen Sie Erinnerungen beim Erstellen oder Bearbeiten von Gewohnheiten hinzu.",perHabitRemindersTitle:"Erinnerungen pro Gewohnheit",perHabitRemindersDesc:"Jede Gewohnheit kann ihre eigenen benutzerdefinierten Erinnerungszeiten haben. Legen Sie diese beim Erstellen einer neuen Gewohnheit oder beim Bearbeiten einer bestehenden fest.",quickAdd:"Schnell hinzufgen",createCustomHabit:"Eigene Gewohnheit erstellen",streak:"Serie",habitFrequency:"Hufigkeit",habitFrequencyOnce:"Einmalig",habitFrequencyDaily:"Tglich",habitFrequencyWeekly:"Wchentlich",habitFrequencyCustom:"Benutzerdefiniert",habitFrequencySelectDays:"Tage Auswhlen",habitDurationRequired:"Erfordert Dauer?",habitTargetDuration:"Zieldauer (Minuten)",addReminder:"Hinzufgen",noReminders:"Keine Erinnerungen",habitEventExplanation:"Dieses Ereignis stammt aus deiner Gewohnheit. Bearbeite die Gewohnheit, um es zu ndern.",habitDurationMinutes:"Minuten",focus:"Fokus",breakTime:"Pause",todayMinutes:"Min heute",concentrate:"Konzentriere dich",takeRest:"Mach eine Pause",focusPreset25:"25/5",focusPreset50:"50/10",focusPresetCustom:"Benutzerdefiniert",focusLabelPrompt:"Worauf konzentrierst du dich?",focusLabelPlaceholder:"z. B. Bericht, Lernen, Projekt...",focusCustomWork:"Arbeit (Min)",focusCustomBreak:"Pause (Min)",focusReflectionTitle:"Reflexion",focusReflectionQuestion:"Wie war die Session?",focusReflectionSkip:"berspringen",focusReflectionSave:"Speichern",breathingTitle:"Atmung",breathingSubtitle:"Beruhige deinen Geist",breathingBox:"Box-Atmung",breathingBoxDesc:"Gleiche Phasen fr Fokus",breathing478:"4-7-8 Entspannung",breathing478Desc:"Tiefe Beruhigung",breathingEnergize:"Energetisierend",breathingEnergizeDesc:"Schneller Energieschub",breathingSleep:"Schlafvorbereitung",breathingSleepDesc:"Langsames Ausatmen",breatheIn:"Einatmen",breatheOut:"Ausatmen",hold:"Halten",cycles:"Zyklen",cycle:"Zyklus",effectCalming:"Beruhigend",effectFocusing:"Fokus",effectEnergizing:"Energie",effectSleeping:"Schlaf",startBreathing:"Starten",breathingComplete:"Gut gemacht!",breathingCompleteMsg:"Du hast die Atembung abgeschlossen",breathingAgain:"Nochmal",pause:"Pause",resume:"Fortsetzen",gratitude:"Dankbarkeit",today:"heute",tomorrow:"morgen",scheduleDate:"Datum",whatAreYouGratefulFor:"Wofr bist du heute dankbar?",iAmGratefulFor:"Ich bin dankbar fr...",save:"Speichern",cancel:"Abbrechen",recentEntries:"Letzte Eintrge",gratitudeTemplate1:"Heute bin ich dankbar fr...",gratitudeTemplate2:"Ein guter Moment heute...",gratitudeTemplate3:"Ich schtze an mir...",gratitudeLimit:"Bis zu 3 Punkte pro Tag",gratitudeMemoryJar:"Erinnerungsglas",thisWeek:"Diese Woche",statistics:"Statistiken",monthlyOverview:"Monatsbersicht",statsRange:"Zeitraum",statsRangeWeek:"Woche",statsRangeMonth:"Monat",statsRangeAll:"Alle Zeit",statsRangeApply:"Anwenden",calendarTitle:"Kalender",calendarYear:"Jahr",calendarSelectDay:"Tag auswhlen",calendarPrevMonth:"Vorheriger Monat",calendarNextMonth:"Nchster Monat",moodEntries:"Stimmungseintrge",focusMinutes:"Fokusminuten",achievements:"Erfolge",toLevel:"Zum Level",unlockedPercent:"{percent}% Freigeschaltet",all:"Alle",unlocked:"Freigeschaltet",locked:"Gesperrt",unlockedOn:"Freigeschaltet am {date}",hiddenAchievement:"???",hidden:"Versteckt",noAchievementsYet:"Noch keine Erfolge",startUsingZenFlow:"Beginne ZenFlow zu nutzen, um Erfolge freizuschalten!",achievementUnlocked:"Erfolg freigeschaltet!",userLevel:"Stufe",focusSession:"Fokus-Sitzung",timeBlindnessHelper:"Zeitblindheit-Helfer",visualTimeAwareness:"Visuelle Zeitwahrnehmung fr ADHS",hoursMinutesLeft:"{hours}Std {mins}Min brig",minutesLeft:"{mins}Min brig",timesUp:"Zeit ist um!",youllFinishAt:" Du wirst fertig um:",nMinutes:"{n} Minuten",pingEveryMinutes:"Signal alle (Minuten)",audioPings:"Audio-Signale",testSound:" Test",soundOn:"An",soundOff:"Aus",startTimer:"Timer starten",pauseTimer:"Pause",resetTimer:"Zurcksetzen",adhdTimeManagement:"ADHS Zeitmanagement",adhdTip1:"Audio-Signale helfen, die Zeit zu verfolgen",adhdTip2:"Visueller Countdown reduziert Angst",adhdTip3:"Endzeit-Vorhersage = bessere Planung",adhdTip4:"Farbwechsel warnen bei wenig Zeit",currentStreak:"Aktuelle Serie",daysInRow:"Tage am Stck",totalFocus:"Gesamtfokus",allTime:"Alle Zeit",habitsCompleted:"Gewohnheiten abgeschlossen",totalTimes:"Insgesamt Mal",moodDistribution:"Stimmungsverteilung",moodHeatmap:"Stimmungs-Heatmap",activityHeatmap:"Aktivittsbersicht",less:"Weniger",more:"Mehr",topHabit:"Beste Gewohnheit",completedTimes2:"Mal",profile:"Profil",yourName:"Dein Name",nameSaved:"Name gespeichert",notifications:"Benachrichtigungen",notificationsComingSoon:"Benachrichtigungen werden in zuknftigen Updates verfgbar sein.",data:"Daten",exportData:"Daten exportieren",importData:"Daten importieren",importMode:"Importmodus",importMerge:"Zusammenfhren",importReplace:"Ersetzen",exportSuccess:"Export bereit.",exportError:"Export fehlgeschlagen.",exportCSV:"CSV exportieren",exportPDF:"PDF exportieren",importSuccess:"Import abgeschlossen.",importError:"Dateiimport fehlgeschlagen.",importedItems:"Hinzugefgt",importAdded:"hinzugefgt",importUpdated:"aktualisiert",importSkipped:"bersprungen",textTooLong:"Text ist zu lang (maximal 2000 Zeichen)",invalidInput:"Bitte berprfen Sie Ihre Eingabe",comingSoon:"bald verfgbar",resetAllData:"Alle Daten zurcksetzen",privacyTitle:"Datenschutz",privacyDescription:"Deine Daten bleiben auf dem Gert. Kein verstecktes Tracking.",privacyNoTracking:"Kein Tracking",privacyNoTrackingHint:"Wir sammeln keine Verhaltensdaten.",privacyAnalytics:"Analytik",privacyAnalyticsHint:"Hilft, die App zu verbessern. Du kannst es deaktivieren.",privacyPolicy:"Datenschutzerklaerung",termsOfService:"Nutzungsbedingungen",appearance:"Darstellung",oledDarkMode:"OLED Dunkelmodus",oledDarkModeHint:"Reines Schwarz fr OLED-Bildschirme. Spart Akku.",whatsNewTitle:"Was ist neu",whatsNewVersion:"Version",whatsNewGotIt:"Verstanden!",skipToContent:"Zum Hauptinhalt springen",settingsCloudSyncTitle:"Cloud-Sync aktivieren",settingsCloudSyncDescription:"Synchronisiere deine Daten ber Gerte",settingsCloudSyncEnabled:"Cloud-Synchronisation aktiviert",settingsCloudSyncDisabledByUser:"Synchronisation deaktiviert",settingsExportTitle:"Backup exportieren",settingsExportDescription:"Speichere alle deine Daten in einer Datei",settingsImportTitle:"Backup importieren",settingsImportMergeTooltip:"Importierte Daten werden zu bestehenden hinzugefgt. Duplikate bersprungen.",settingsImportReplaceTooltip:" Alle aktuellen Daten werden gelscht und durch Import ersetzt",settingsImportReplaceConfirm:'Gib "REPLACE" ein, um das Lschen aller Daten zu besttigen',invalidFileType:"Ungltiger Dateityp. JSON erforderlich.",fileTooLarge:"Datei zu gro (max. 10 MB)",importConfirm:"Import besttigen",invalidBackupFormat:"Ungltiges Backup-Format",settingsWhatsNewTitle:"Was ist neu in v1.3.0",settingsWhatsNewLeaderboards:"Bestenlisten",settingsWhatsNewLeaderboardsDesc:"Anonym mit anderen konkurrieren",settingsWhatsNewSpotify:"Spotify-Integration",settingsWhatsNewSpotifyDesc:"Automatische Musikwiedergabe bei Fokus-Sessions",settingsWhatsNewChallenges:"Freunde-Challenges",settingsWhatsNewChallengesDesc:"Fordere Freunde heraus, gemeinsam Gewohnheiten aufzubauen",settingsWhatsNewDigest:"Wchentlicher Digest",settingsWhatsNewDigestDesc:"Erhalte Fortschrittsberichte per E-Mail",settingsWhatsNewSecurity:"Verbesserte Sicherheit",settingsWhatsNewSecurityDesc:"Besserer Datenschutz & Privatsphre",settingsWhatsNewGotIt:"Verstanden!",settingsSectionAccount:"Konto & Cloud",settingsSectionData:"Daten & Backup",weeklyDigestTitle:"Wchentlicher Fortschrittsbericht",weeklyDigestDescription:"Erhalte jeden Sonntag eine Zusammenfassung deiner Gewohnheiten, Fokuszeit und Stimmungstrends.",weeklyDigestEnabled:"Du erhltst Berichte per E-Mail",changelogTitle:"Versionshistorie",changelogExpandAll:"Alle erweitern",changelogCollapseAll:"Alle einklappen",changelogEmpty:"Keine Versionshistorie verfgbar",changelogAdded:"Hinzugefgt",changelogFixed:"Behoben",changelogChanged:"Gendert",changelogRemoved:"Entfernt",settingsGroupProfile:"Profil & Erscheinung",settingsGroupNotifications:"Benachrichtigungen",settingsGroupData:"Daten & Datenschutz",settingsGroupAccount:"Konto",settingsGroupAbout:"ber",consentTitle:"Datenschutzeinstellungen",consentDescription:"Wir respektieren deine Privatsphre. Anonyme Analysen erlauben, um die App zu verbessern?",consentAnalyticsTitle:"Anonyme Analysen",consentAnalyticsDesc:"Nur Nutzungsmuster. Keine persnlichen Daten. Du kannst dies jederzeit in den Einstellungen ndern.",consentAccept:"Erlauben",consentDecline:"Nein danke",consentFooter:"Du kannst dies jederzeit unter Einstellungen > Datenschutz ndern",installApp:"App installieren",installAppDescription:"Installiere ZenFlow fr schnelleren Start und Offline-Zugriff.",installBannerTitle:"ZenFlow installieren",installBannerBody:"Schnellerer Start und Offline-Zugriff durch Installation der App.",installNow:"Installieren",installLater:"Spter",appInstalled:"App installiert",appInstalledDescription:"ZenFlow ist auf deinem Gert installiert.",checkForUpdates:"Nach Updates suchen",checkingForUpdates:"Suche nach Updates...",appUpToDate:"Du hast die neueste Version",openGooglePlay:"Google Play ffnen",updateCheckFailed:"Update-Prfung fehlgeschlagen",remindersTitle:"Erinnerungen",remindersDescription:"Sanfte Stupser um dich auf Kurs zu halten.",moodReminder:"Stimmungs-Check Zeit",habitReminder:"Gewohnheits-Erinnerung",focusReminder:"Fokus-Erinnerung",quietHours:"Ruhezeiten",reminderDays:"Wochentage",selectedHabits:"Gewohnheiten erinnern",noHabitsYet:"Noch keine Gewohnheiten.",reminderMoodTitle:"Hey, wie geht's? ",reminderMoodBody:"30 Sekunden fr dein Gehirn. Wie fhlst du dich?",reminderHabitTitle:"Mini-Gewohnheit Zeit! ",reminderHabitBody:"Kleiner Schritt = groer Sieg. Los geht's?",reminderFocusTitle:"Fokus-Power! ",reminderFocusBody:"Nur 25 Minuten zum Helden-Modus. Bereit?",reminderDismiss:"Jetzt nicht",notificationPermissionTitle:"Bleib auf Kurs",notificationPermissionDescription:"Erhalte sanfte Erinnerungen, um deine Stimmung zu erfassen, Gewohnheiten abzuschlieen und Fokuspausen einzulegen. Benachrichtigungen helfen dir, gesunde Routinen aufzubauen.",notificationFeature1Title:"Tgliche Stimmungserinnerungen",notificationFeature1Desc:"Checke jeden Tag bei dir selbst ein",notificationFeature2Title:"Gewohnheits-Tracking",notificationFeature2Desc:"Bleib konsequent bei deinen Zielen",notificationFeature3Title:"Fokus-Sitzungen",notificationFeature3Desc:"Werde an produktive Pausen erinnert",notificationAllow:"Benachrichtigungen aktivieren",notificationDeny:"Vielleicht spter",notificationPrivacyNote:"Du kannst dies jederzeit in den Einstellungen ndern. Benachrichtigungen sind lokal und privat.",onboardingStep:"Schritt",onboardingValueTitle:"Erfasse Stimmung + Gewohnheiten in 30 Sekunden tglich",onboardingValueBody:"Schnelle Check-ins, kein Chaos, vllig privat.",onboardingStart:"In 30 Sek starten",onboardingExplore:"Erkunden",onboardingGoalTitle:"Whle deinen Fokus",onboardingGoalLessStress:"Weniger Stress",onboardingGoalLessStressDesc:"Ruhige und sanfte Gewohnheiten",onboardingGoalMoreEnergy:"Mehr Energie",onboardingGoalMoreEnergyDesc:"Schlaf, Bewegung, Flssigkeit",onboardingGoalBetterRoutine:"Bessere Routine",onboardingGoalBetterRoutineDesc:"Stabilitt und Rhythmus",onboardingContinue:"Weiter",onboardingCheckinTitle:"Schneller Check-in",onboardingHabitsPrompt:"Whle zwei Gewohnheiten",onboardingPickTwo:"Whle bis zu zwei",onboardingReminderTitle:"Erinnerungen aktivieren",onboardingReminderBody:"Whle eine Zeit, die dir passt. Kein Spam.",onboardingMorning:"Morgens",onboardingEvening:"Abends",onboardingEnable:"Aktivieren",onboardingSkip:"Jetzt berspringen",onboardingHabitBreathing:"Atmen",onboardingHabitEveningWalk:"Abendspaziergang",onboardingHabitStretch:"Dehnen",onboardingHabitJournaling:"Tagebuch schreiben",onboardingHabitWater:"Wasser trinken",onboardingHabitSunlight:"Sonnenlicht",onboardingHabitMovement:"Bewegung",onboardingHabitSleepOnTime:"Rechtzeitig schlafen",onboardingHabitMorningPlan:"Morgenplanung",onboardingHabitRead:"10 Min lesen",onboardingHabitNoScreens:"Keine spten Bildschirme",onboardingHabitDailyReview:"Tgliche berprfung",account:"Konto",accountDescription:"Melden Sie sich mit E-Mail an, um Ihren Fortschritt zwischen Gerten zu synchronisieren.",emailPlaceholder:"ihre@email.com",sendMagicLink:"Anmeldelink senden",continueWithGoogle:"Mit Google fortfahren",signedInAs:"Angemeldet als",signOut:"Abmelden",syncNow:"Jetzt synchronisieren",cloudSyncDisabled:"Cloud-Synchronisierung deaktiviert.",deleteAccount:"Konto lschen",deleteAccountConfirm:"Konto lschen?",deleteAccountWarning:"Dabei werden Cloud-Daten und der Zugriff auf das Konto entfernt.",deleteAccountSuccess:"Konto gelscht.",deleteAccountError:"Konto konnte nicht gelscht werden.",deleteAccountLink:"Konto/Daten lschen",authEmailSent:"Anmeldelink wurde an Ihre E-Mail gesendet.",authSignedOut:"Abgemeldet.",authError:"Link konnte nicht gesendet werden.",authNotConfigured:"Supabase nicht konfiguriert.",syncSuccess:"Synchronisierung abgeschlossen.",syncPulled:"Cloud-Daten wiederhergestellt.",syncPushed:"Cloud aktualisiert.",syncError:"Synchronisierung fehlgeschlagen.",authGateTitle:"Anmelden",authGateBody:"Melden Sie sich mit E-Mail an, um Fortschritt zu speichern und zwischen Gerten zu synchronisieren.",authGateContinue:"Ohne Konto fortfahren",errorBoundaryTitle:"Etwas ist schief gelaufen",errorBoundaryBody:"Versuchen Sie die App neu zu laden oder exportieren Sie einen Debug-Bericht.",errorBoundaryExport:"Debug-Bericht exportieren",errorBoundaryReload:"App neu laden",pushTitle:"Push-Benachrichtigungen",pushEnable:"Push aktivieren",pushDisable:"Push deaktivieren",pushTest:"Push testen",pushTestTitle:"ZenFlow",pushTestBody:"Test-Benachrichtigung.",pushTestSent:"Test gesendet.",pushTestError:"Test konnte nicht gesendet werden.",pushNowMood:"Push: Stimmung",pushNowHabit:"Push: Gewohnheiten",pushNowFocus:"Push: Fokus",pushEnabled:"Push aktiviert.",pushDisabled:"Push deaktiviert.",pushError:"Push konnte nicht aktiviert werden.",pushNeedsAccount:"Melden Sie sich an, um Push zu aktivieren.",pushPermissionDenied:"Benachrichtigungsberechtigung verweigert.",areYouSure:"Bist du sicher?",cannotBeUndone:"Diese Aktion kann nicht rckgngig gemacht werden.",delete:"Lschen",shareAchievements:"Fortschritt teilen",shareDialogTitle:"Teile deinen Fortschritt",shareTitle:"Mein Fortschritt bei ZenFlow",shareText:"{streak} Tage in Folge! {habits} Gewohnheiten abgeschlossen, {focus} Minuten Fokus.",shareButton:"Teilen",shareDownload:"Bild herunterladen",shareDownloading:"Wird heruntergeladen...",shareCopyLink:"Link kopieren",shareCopied:"Kopiert!",sharePrivacyNote:"Keine persnlichen Daten werden geteilt. Nur deine Fortschrittszusammenfassung.",shareStreak:"Tage in Folge",shareHabits:"Gewohnheiten",shareFocus:"Minuten",shareGratitude:"Dankbarkeiten",shareFooter:"Verfolge deine Gewohnheiten, Stimmung und Fokus",myProgress:"Mein Fortschritt",shareSquare:"Beitrag 1:1",shareStory:"Story 9:16",shareFormatHint:" Story-Format fr Instagram/TikTok  Beitragsformat fr Feeds",shareFailed:"Teilen fehlgeschlagen. Bitte erneut versuchen.",shareAchievement30:"Legendr!",shareAchievement14:"Unaufhaltsam!",shareAchievement7:"In Flammen!",shareAchievement3:"Aufsteigender Stern!",shareAchievementStart:"Gerade gestartet!",shareSubtext30:"30+ Tage Meister",shareSubtext14:"14+ Tage Krieger",shareSubtext7:"7+ Tage Serie",shareSubtext3:"3+ Tage Serie",shareSubtextStart:"Gewohnheiten aufbauen",dismiss:"Schlieen",challengesTitle:"Herausforderungen & Abzeichen",challengesSubtitle:"Nimm Herausforderungen an und verdiene Abzeichen",activeChallenges:"Aktiv",availableChallenges:"Verfgbar",badges:"Abzeichen",noChallengesActive:"Keine aktiven Herausforderungen",noChallengesActiveHint:"Starte eine Herausforderung, um deinen Fortschritt zu verfolgen",progress:"Fortschritt",reward:"Belohnung",target:"Ziel",startChallenge:"Herausforderung starten",challengeActive:"Aktiv",requirement:"Anforderung",challengeTypeStreak:"Streak",challengeTypeFocus:"Fokus",challengeTypeGratitude:"Dankbarkeit",challengeTypeTotal:"Gesamt",friendChallenges:"Freundes-Herausforderungen",createChallenge:"Herausforderung erstellen",challengeDescription:"Fordere Freunde heraus, gemeinsam Gewohnheiten aufzubauen",challengeYourFriends:"Fordere deine Freunde zu dieser Gewohnheit heraus!",challengeDuration:"Dauer der Herausforderung",challengeCreated:"Herausforderung erstellt!",challengeDetails:"Details der Herausforderung",shareToInvite:"Teilen, um Freunde einzuladen!",trackWithFriends:"Verfolge deine Herausforderungen mit Freunden",challengeCode:"Herausforderungscode",yourProgress:"Dein Fortschritt",daysLeft:"Tage brig",dayChallenge:"Tage-Herausforderung",challengeCompleted:"Herausforderung abgeschlossen!",noChallenges:"Noch keine Herausforderungen",createChallengePrompt:"Erstelle eine Herausforderung aus jeder Gewohnheit!",completedChallenges:"Abgeschlossen",expiredChallenges:"Abgelaufen",youCreated:"Du hast erstellt",createdBy:"Erstellt von",confirmDeleteChallenge:"Diese Herausforderung lschen?",challengeInvite:"Nimm an meiner Herausforderung teil!",challengeJoinPrompt:"Mach mit bei ZenFlow!",challengeShareTip:"Du kannst diese Herausforderung nach dem Erstellen mit Freunden teilen.",joinChallenge:"Herausforderung beitreten",enterChallengeCode:"Gib den Code deines Freundes ein",invalidChallengeCode:"Ungltiger Code. Format: ZEN-XXXXXX",enterCodeToJoin:"Gib einen Code ein, um beizutreten",joinChallengeHint:"Bitte deinen Freund, den Code zu teilen",joining:"Beitritt...",join:"Beitreten",challengeWon:" Fantastisch! Du hast die Herausforderung abgeschlossen!",catchUp:" Du kannst aufholen! Jeder Tag zhlt!",aheadOfSchedule:" Tolles Tempo! Du bist dem Zeitplan voraus!",daysPassed:"Tage vergangen",daysCompleted:"Abgeschlossen",daysRemaining:"Verbleibend",hyperfocusMode:"Hyperfokus-Modus",hyperfocusStart:"Starten",hyperfocusPause:"Pause",hyperfocusResume:"Fortsetzen",hyperfocusExit:"Beenden",hyperfocusReady:"Bereit fr Hyperfokus?",hyperfocusFocusing:"In der Zone...",hyperfocusPaused:"Pausiert",hyperfocusTimeLeft:"brig",hyperfocusBreathe:"Atmen...",hyperfocusBreathDesc:"Einatmen 4s  Ausatmen 4s",hyperfocusEmergencyConfirm:"Mchten Sie die Sitzung pausieren? Ohne Schuldgefhle! ",hyperfocusAmbientSound:"Umgebungsgerusch",hyperfocusSoundNone:"Keins",hyperfocusSoundWhiteNoise:"Weies Rauschen",hyperfocusSoundRain:"Regen",hyperfocusSoundOcean:"Ozean",hyperfocusSoundForest:"Wald",hyperfocusSoundCoffee:"Caf",hyperfocusSoundFireplace:"Kamin",hyperfocusSoundVariants:"Klangvarianten",hyperfocusShowVariants:"Varianten anzeigen",hyperfocusHideVariants:"Varianten ausblenden",hyperfocusTip:"Tipp",hyperfocusTipText:"Alle 25 Minuten gibt es eine kurze Atempause. Das hilft, Burnout zu vermeiden!",hyperfocusPauseMsg:"Drcke Play zum Fortfahren",widgetSettings:"Widget-Einstellungen",widgetSettingsDesc:"Widgets fr deinen Startbildschirm konfigurieren",widgetPreview:"Vorschau",widgetSetup:"Einrichtung",widgetInfo:"Widgets werden automatisch aktualisiert",widgetInfoDesc:"Widget-Daten werden synchronisiert, wenn du Gewohnheiten aktualisierst, Fokus-Sitzungen abschliet oder neue Abzeichen erhltst.",widgetStatus:"Widget-Status",widgetPlatform:"Plattform",widgetWeb:"Web (Widgets nicht verfgbar)",widgetSupport:"Widget-Untersttzung",widgetAvailable:"Verfgbar",widgetComingSoon:"Demnchst",widgetSetupiOS:"Widget auf iOS einrichten",widgetSetupAndroid:"Widget auf Android einrichten",widgetStep1iOS:"Lange auf den Startbildschirm drcken, bis die Symbole wackeln",widgetStep2iOS:'Tippe auf "+" in der oberen linken Ecke',widgetStep3iOS:'Finde "ZenFlow" in der App-Liste',widgetStep4iOS:"Whle die Widget-Gre (klein, mittel oder gro)",widgetStep5iOS:'Tippe auf "Widget hinzufgen"',widgetStep1Android:"Lange auf eine leere Stelle des Startbildschirms drcken",widgetStep2Android:'Tippe auf "Widgets" im Men',widgetStep3Android:'Finde "ZenFlow" in der App-Liste',widgetStep4Android:"Ziehe das Widget auf deinen Startbildschirm",widgetWebWarning:"Widgets in der Web-Version nicht verfgbar",widgetWebWarningDesc:"Widgets funktionieren nur auf mobilen Gerten (iOS und Android). Installiere die mobile App, um Widgets zu nutzen.",widgetWebTip:"Die Web-Version zeigt Widget-Vorschauen, damit du sehen kannst, wie sie auf dem Handy aussehen werden.",widgetFeatures:"Widget-Funktionen",widgetFeature1:"Aktuelle Streak-Tage anzeigen",widgetFeature2:"Heutiger Gewohnheiten-Fortschritt",widgetFeature3:"Fokus-Sitzungs-Minuten",widgetFeature4:"Zuletzt erhaltenes Abzeichen",widgetFeature5:"Gewohnheitsliste mit Abschlussstatus",widgetSmall:"Kleines Widget",widgetMedium:"Mittleres Widget",widgetLarge:"Groes Widget",widgetNoData:"Keine Widget-Daten verfgbar",todayHabits:"Heutige Gewohnheiten",lastBadge:"Letztes Abzeichen",done:"erledigt",dopamineSettings:"Dopamine Dashboard",dopamineSettingsDesc:"Passe dein Feedback-Erlebnis an",dopamineIntensity:"Intensittsstufe",dopamineMinimal:"Minimal",dopamineNormal:"Normal",dopamineADHD:"ADHS",dopamineMinimalDesc:"Ruhige, ablenkungsfreie Erfahrung",dopamineNormalDesc:"Ausgewogenes Feedback und Motivation",dopamineADHDDesc:"Maximales Dopamin! Alle Effekte aktiviert ",dopamineCustomize:"Feineinstellungen",dopamineAnimations:"Animationen",dopamineAnimationsDesc:"Sanfte bergnge und Effekte",dopamineSounds:"Sounds",dopamineSoundsDesc:"Erfolgs-Sounds und Audio-Feedback",dopamineHaptics:"Haptik",dopamineHapticsDesc:"Vibrations-Feedback (nur mobil)",dopamineConfetti:"Konfetti",dopamineConfettiDesc:"Feiere abgeschlossene Gewohnheiten",dopamineStreakFire:"Streak-Feuer",dopamineStreakFireDesc:"Animiertes Feuer fr Streaks",dopamineTip:"ADHS-Tipp",dopamineTipText:"ADHS-Gehirne brauchen mehr Dopamin! Probiere den ADHS-Modus fr maximale Motivation. Du kannst jederzeit einzelne Einstellungen anpassen.",dopamineSave:"Speichern & Schlieen",dailyRewards:"Tgliche Belohnungen",loginStreak:"Login-Serie",day:"Tag",claim:"Abholen!",claimed:"Abgeholt",streakBonus:"Serien-Bonus",dailyRewardsTip:"Komm jeden Tag fr bessere Belohnungen!",spinWheel:"Dreh das Rad!",spinsAvailable:"Drehungen verfgbar",spin:"DREHEN",noSpins:"Keine Drehungen",claimPrize:"Preis abholen!",challengeExpired:"Herausforderung abgelaufen",challengeComplete:"Herausforderung abgeschlossen!",earned:"verdient",comboText:"KOMBO",mysteryBox:"berraschungsbox",openBox:"ffnen",premium:"ZenFlow Premium",premiumDescription:"Schalte erweiterte Analysen, Datenexport und Premium-Themes frei!",language:"Sprache",selectLanguage:"Sprache whlen",welcomeTitle:"Willkommen bei ZenFlow",welcomeSubtitle:"Deine Reise zu einem achtsamen Leben beginnt hier",continue:"Fortfahren",version:"Version",tagline:"Dein Weg zu einem achtsamen Leben ",sun:"So",mon:"Mo",tue:"Di",wed:"Mi",thu:"Do",fri:"Fr",sat:"Sa",january:"Januar",february:"Februar",march:"Mrz",april:"April",may:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember",welcomeMessage:"Willkommen bei ZenFlow!",featureMood:"Stimmungsverfolgung",featureMoodDescription:"Verfolge deine Stimmung jeden Tag",featureHabits:"Gewohnheiten",featureHabitsDescription:"Erstelle und verfolge gesunde Gewohnheiten",featureFocus:"Fokus-Sitzungen",featureFocusDescription:"Bleib konzentriert mit dem Pomodoro-Timer",privacyNote:"Deine Daten werden lokal gespeichert und sind geschtzt",install:"App installieren",installDescription:"Installiere ZenFlow auf deinem Startbildschirm",onboardingAgeTitle:"Willkommen bei ZenFlow",onboardingAgeDesc:"Diese App ist fr Benutzer ab 13 Jahren gedacht",onboardingAgeConfirm:"Ich bin 13 Jahre oder lter",onboardingAgeNote:"Mit dem Fortfahren besttigst du, dass du 13 Jahre oder lter bist",healthConnectAgeDesc:"Health Connect-Funktionen erfordern ein Alter von 13 Jahren oder lter fr einen verantwortungsvollen Umgang mit Gesundheitsdaten.",onboardingMoodTitle:"Wie fhlst du dich?",onboardingMoodDescription:"Verfolge deine Stimmung tglich",onboardingHabitsTitle:"Erstelle deine ersten Gewohnheiten",onboardingHabitsDescription:"Beginne mit kleinen Schritten",onboardingRemindersTitle:"Erinnerungen",onboardingRemindersDescription:"Erhalte Erinnerungen fr deine Gewohnheiten",enableReminders:"Erinnerungen aktivieren",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",close:"Schlieen",skip:"berspringen",getStarted:"Loslegen",next:"Weiter",remindersActive:"Erinnerungen aktiv",greatChoice:"Gute Wahl!",habitsSelected:"Gewohnheiten ausgewhlt",tutorialWelcomeTitle:"Willkommen bei ZenFlow",tutorialWelcomeSubtitle:"Dein persnlicher Wellness-Begleiter",tutorialWelcomeDesc:"Eine App, die dir hilft, fokussiert zu bleiben, gesunde Gewohnheiten aufzubauen und dich jeden Tag besser zu fhlen.",tutorialBrainTitle:"Fr dein Gehirn entwickelt",tutorialBrainSubtitle:"Ob du ADHS hast oder einfach Schwierigkeiten mit dem Fokus",tutorialBrainDesc:"ZenFlow verwendet wissenschaftlich fundierte Techniken, um Aufmerksamkeit, Zeit und Energie zu managen. Keine Diagnose ntig  wenn du Schwierigkeiten hast, dich zu konzentrieren, ist diese App fr dich.",tutorialFeaturesTitle:"Was du tun kannst",tutorialFeaturesSubtitle:"Einfache Tools, groe Wirkung",tutorialFeaturesDesc:"Verfolge deinen Fortschritt und gewinne Schwung:",tutorialFeature1:"Tgliche Stimmung und Energie verfolgen",tutorialFeature2:"Gewohnheiten Schritt fr Schritt aufbauen",tutorialFeature2b:" Symbole, Farben & Ziele anpassen!",tutorialFeature3:"Fokus-Sitzungen mit Umgebungsgeruschen",tutorialFeature4:"Dankbarkeitstagebuch",tutorialMoodTitle:"Verstehe dich selbst",tutorialMoodSubtitle:"Verfolge Stimmungen, um Muster zu finden",tutorialMoodDesc:"Schnelle tgliche Check-ins helfen dir zu bemerken, was deine Energie und deinen Fokus beeinflusst. Mit der Zeit wirst du dich besser verstehen.",tutorialFocusTitle:"Tiefenfokus-Modus",tutorialFocusSubtitle:"Ablenkungen blockieren, Dinge erledigen",tutorialFocusDesc:"Nutze die Pomodoro-Technik mit beruhigenden Umgebungsgeruschen. Perfekt fr Arbeit, Studium oder kreative Projekte.",tutorialDayClockTitle:"Dein Tag auf einen Blick",tutorialDayClockSubtitle:"Visuelles Energiemeter fr ADHS-Gehirne",tutorialDayClockDesc:"Sieh deinen Tag als Kreis mit Morgen-, Nachmittag- und Abendzonen. Beobachte, wie deine Energie mit jeder Aktivitt wchst!",tutorialDayClockFeature1:" Energiemeter fllt sich mit Fortschritt",tutorialDayClockFeature2:" Maskottchen reagiert auf deine Erfolge",tutorialDayClockFeature3:" Verfolge alle Aktivitten an einem Ort",tutorialDayClockFeature4:" Erreiche 100% fr den Perfekten Tag!",tutorialMoodThemeTitle:"Die App passt sich dir an",tutorialMoodThemeSubtitle:"Design ndert sich mit deiner Stimmung",tutorialMoodThemeDesc:"Wenn du dich groartig fhlst, feiert die App mit lebhaften Farben. Wenn du traurig bist, wird sie ruhig und untersttzend.",tutorialMoodThemeFeature1:" Tolle Stimmung: Lebhaftes Lila & Gold",tutorialMoodThemeFeature2:" Gute Stimmung: Warme Grntne",tutorialMoodThemeFeature3:" Schlechte Stimmung: Beruhigendes Blau",tutorialMoodThemeFeature4:" Schwere Zeiten: Sanftes, minimales Design",tutorialReadyTitle:"Bereit anzufangen?",tutorialReadySubtitle:"Deine Reise beginnt jetzt",tutorialReadyDesc:"Fang klein an  notiere einfach, wie du dich heute fhlst. Jeder Schritt zhlt!",tutorialStart:"Los geht's!",weeklyReport:"Wochenbericht",weeklyStory:"Wochengeschichte",incredibleWeek:"Unglaubliche Woche!",pathToMastery:"Du bist auf dem Weg zur Meisterschaft!",greatWork:"Groartige Arbeit!",keepMomentum:"Halte den Schwung!",goodProgress:"Guter Fortschritt!",everyStepCounts:"Jeder Schritt zhlt!",newWeekOpportunities:"Neue Woche - Neue Mglichkeiten!",startSmall:"Fang klein an, geh vorwrts!",bestDay:"Bester Tag",continueBtn:"Weiter",storyAverageMoodScore:"durchschnittliche Stimmung",storyCompletionRate:"Abschlussrate",storyTopHabit:"Top Gewohnheit",storyCompletions:"Abschlsse",storyPerfectDays:"perfekte Tage diese Woche",storyAvgSession:"Durchschn.",storyLongestSession:"lngste",storyMostFocusedOn:"Am meisten fokussiert auf:",storyTrackYourJourney:"Verfolge deine Reise mit",storyTapLeft:" Links tippen",storyTapCenter:"Mitte tippen zum Pausieren",storyTapRight:"Rechts tippen ",generating:"Generieren...",dayStreak:"Tage Serie",keepItUp:"Weiter so!",myCompanion:"Mein Begleiter",missedYou:"hat dich vermisst!",welcomeBack:"Willkommen zurck in deinem Garten",warmth:"Wrme",energy:"Energie",wisdom:"Weisheit",companionStreak:"Tage am Stck!",chooseCompanion:"Begleiter whlen",levelUpHint:"Schliee Aktivitten ab, um XP zu verdienen und aufzusteigen!",pet:"Streicheln",feed:"Fttern",talk:"Sprechen",happiness:"Glck",satiety:"Sttigung",companionMissesYou:"Hey! Ich vermisse dich! ",companionWantsToPlay:"Lust vorbeizuschauen? Hier ist's lustig! ",companionWaiting:"Ich warte auf dich! Hab was Cooles ",companionProud:"DU BIST SUPER! So stolz! ",companionCheersYou:"Los los los! Du schaffst das! ",companionQuickMood:"Psst! Wie luft's? Tipp hier! ",myWorld:"Meine Welt",plants:"Pflanzen",creatures:"Kreaturen",level:"Stufe",startStreak:"Starte heute deine Serie!",legendaryStreak:"Legendre Serie!",amazingStreak:"Erstaunlich!",goodStart:"Toller Start!",todayActivities:"Heute",companionPet:"Streicheln",companionFeed:"Fttern",companionTalk:"Sprechen",companionHappiness:"Glck",companionHunger:"Sttigung",companionHungryCanFeed:" Ich habe Hunger... Ftterst du mich?",companionHungryNoTreats:" Ich habe Hunger... Mach Aktivitten um Leckerlis zu verdienen!",companionStreakLegend:" {streak} Tage! Du bist eine Legende!",companionStreakGood:" {streak} Tage! Weiter so!",companionAskMood:" Wie fhlst du dich heute?",companionAskHabits:" Zeit fr Gewohnheiten!",companionAskFocus:" Bereit dich zu konzentrieren?",companionAskGratitude:" Wofr bist du dankbar?",companionAllDone:" Perfekter Tag! Du bist groartig!",companionHappy:" Ich liebe dich!",companionMorning:" Guten Morgen!",companionAfternoon:" Wie luft dein Tag?",companionEvening:" Guten Abend!",companionNight:" Zzz...",companionLevelUp:" Level up! Jetzt Level {level}!",companionNeedsFood:"Dein Begleiter hat Hunger!",petReaction1:" *schnurr*",petReaction2:" Das fhlt sich gut an!",petReaction3:" Danke!",petReaction4:" Hab dich lieb!",feedReaction1:" Lecker!",feedReaction2:" Kstlich!",feedReaction3:" Danke!",feedReaction4:" Energie!",feedNotEnough:" Brauche {needed} Leckerlis, habe {have}",free:"Kostenlos",fullness:"Sttigung",earnTreatsHint:"Mach Aktivitten um Leckerlis fr deinen Begleiter zu verdienen!",myTree:"Mein Baum",touch:"Berhren",water:"Gieen",waterLevel:"Wasserstand",growth:"Wachstum",stage:"Stufe",treeThirstyCanWater:" Der Baum braucht Wasser...",treeThirstyNoTreats:" Durstig... Mach Aktivitten um Leckerlis zu verdienen!",treeStreakLegend:" {streak} Tage! Der Baum leuchtet!",treeStreakGood:" {streak} Tage! Wchst stark!",treeMaxStage:" Ein prchtiger groer Baum!",treeStage4:" Ein schner ausgewachsener Baum!",treeStage3:" Wchst zu einem starken Bumchen!",treeStage2:" Ein junger Spross der nach Licht greift!",treeStage1:" Ein kleiner Samen voller Potenzial!",treeHappy:" Der Baum gedeiht!",treeSeason:"{emoji} Schner {season}!",treeStageUp:" Entwickelt zu {stage}!",treeMissedYou:"Dein Baum hat dich vermisst!",treeNeedsWater:"Der Baum braucht Wasser!",waterDecayHint:"Wasserstand sinkt -2% pro Stunde",seasonTreeHint:"Der Baum verndert sich mit den Jahreszeiten!",xpToNextStage:"{xp} XP bis {stage}",touchReaction1:" *Bltter rascheln*",touchReaction2:" Die Bltter tanzen!",touchReaction3:" Fhlt sich lebendig an!",touchReaction4:" Werde strker!",waterReaction1:" *nimmt Wasser auf*",waterReaction2:" Erfrischend!",waterReaction3:" Danke!",waterReaction4:" Wachse!",waterNotEnough:" Brauche {needed} Leckerlis, habe {have}",restDayTitle:"Ruhetag",restDayMessage:"Ruh dich aus, dein Streak ist sicher",restDayButton:"Ruhetag",restDayCancel:"Ich mchte trotzdem eintragen",daysSaved:"Tage gespeichert",expand:"Erweitern",collapse:"Einklappen",moodRecordedShort:"Stimmung erfasst",habitsCompletedShort:"Gewohnheiten erledigt",focusCompletedShort:"Fokus abgeschlossen",gratitudeAddedShort:"Dankbarkeit hinzugefgt",allComplete:"Alles erledigt!",allCompleteMessage:"Du hast alle Aktivitten fr heute abgeschlossen",allCompleteSupportive:"Bis morgen!",allCompleteLegend:"Legendrer Tag!",allCompleteAmazing:"Unglaublich!",allCompleteGreat:"Tolle Arbeit!",allCompleteNice:"Gute Arbeit!",daysStreak:"Tage in Folge",restDaySupportive:"Morgen machen wir zusammen weiter ",restDayCooldown:"Ruhetag wurde krzlich genutzt",restDayAvailableIn:"Verfgbar in",taskMomentum:"Aufgaben",taskMomentumDesc:"ADHS-freundliche Priorisierung",tasksInARow:"Aufgaben hintereinander",taskNamePlaceholder:"Aufgabenname...",durationMinutes:"Dauer (Minuten)",interestLevel:"Interesse (1-10)",markAsUrgent:"Als dringend markieren",urgent:"Dringend",addTask:"Hinzufgen",topRecommendedTasks:"Top 3 empfohlene Aufgaben",quickWins:"Schnelle Erfolge (unter 2 Min)",allTasks:"Alle Aufgaben",noTasksYet:"Noch keine Aufgaben",addFirstTaskMessage:"Fge deine erste Aufgabe hinzu!",addFirstTask:"Erste Aufgabe hinzufgen",adhdTaskTips:"ADHS Aufgaben-Tipps",taskTip1:"Beginne mit schnellen Erfolgen (2-5 Min)",taskTip2:"Baue Momentum durch aufeinanderfolgende Abschlsse",taskTip3:"Interessante Aufgaben geben mehr Dopamin",taskTip4:"Dringend + kurz = perfekte Kombination",tasks:"Aufgaben",quests:"Quests",challenges:"Herausforderungen",openTasks:"Aufgaben ffnen",openQuests:"Quests ffnen",openChallenges:"Herausforderungen ffnen",randomQuests:"Zufllige Quests",questsPanelSubtitle:"Schliee Quests ab fr Bonus-XP und exklusive Abzeichen",adhdEngagementSystem:"ADHS-Engagement-System",adhdEngagementDesc:"Quests bieten Abwechslung und unerwartete Belohnungen - perfekt fr ADHS-Gehirne, die Neuheit suchen!",dailyQuest:"Tglicher Quest",weeklyQuest:"Wchentlicher Quest",bonusQuest:"Bonus-Quest",newQuest:"Neuer Quest",limitedTime:"Begrenzte Zeit",generate:"Generieren",noQuestAvailable:"Kein Quest verfgbar",noBonusQuestAvailable:"Kein Bonus-Quest verfgbar",bonusQuestsHint:"Bonus-Quests erscheinen zufllig oder knnen manuell generiert werden",questProgress:"Fortschritt:",questExpired:"Abgelaufen",questType:"Quest",questTips:"Quest-Tipps",questTipDaily:"Tgliche Quests werden alle 24 Stunden zurckgesetzt",questTipWeekly:"Wchentliche Quests bieten 3x XP",questTipBonus:"Bonus-Quests sind selten mit 5x XP",questTipExpire:"Schliee Quests ab, bevor sie ablaufen!",companionHungry:"Ich bin hungrig... Ftterst du mich?",back:"Zurck",start:"Starten",stop:"Stopp",allHabitsComplete:"Alle Gewohnheiten erledigt!",amazingWork:"Tolle Arbeit heute!",pageNotFound:"Seite nicht gefunden",goHome:"Zur Startseite",insightsTitle:"Persnliche Einblicke",insightsNotEnoughData:"Verfolge deine Stimmung, Gewohnheiten und Fokus eine Woche lang, um personalisierte Einblicke in deine Muster freizuschalten.",insightsNoPatterns:"Noch keine starken Muster erkannt. Verfolge weiterhin konsequent, um herauszufinden, was am besten fr dich funktioniert!",insightsHelpTitle:"ber Einblicke",insightsHelp1:"Einblicke werden aus deinen persnlichen Daten mithilfe statistischer Analysen generiert.",insightsHelp2:"Die gesamte Analyse erfolgt lokal auf deinem Gert - deine Daten verlassen es nie.",insightsHelp3:"Muster mit hherer Zuverlssigkeit werden zuerst angezeigt.",insightsDismiss:"Ausblenden",insightsShowMore:"Mehr anzeigen",insightsShowLess:"Weniger anzeigen",insightsDismissedCount:"Einblicke ausgeblendet",insightsMoodEntries:"Stimmungseintrge",insightsHabitCount:"Gewohnheit",insightsFocusSessions:"Fokus-Sitzungen",weeklyInsights:"Wochen-Einblicke",weeklyInsightsNotEnoughData:"Verfolge deinen Fortschritt diese Woche, um personalisierte Einblicke und Empfehlungen freizuschalten.",comparedToLastWeek:"Im Vergleich zur letzten Woche",recommendations:"Empfehlungen",avgMood:" Stimmung",week:"Woche",recLowMoodTitle:"Stimmung braucht Aufmerksamkeit",recLowMoodDesc:"Deine Stimmung war diese Woche niedriger als gewhnlich. Versuche Aktivitten, die dich normalerweise aufheitern.",recLowMoodAction:"Probiere eine 5-mintige Atembung",recHabitDeclineTitle:"Gewohnheiten sind gesunken",recHabitDeclineDesc:"Deine Gewohnheitserfllung ist im Vergleich zur letzten Woche gesunken. Fang klein an, um wieder Schwung zu bekommen.",recHabitDeclineAction:"Konzentriere dich heute auf eine Gewohnheit",recLowFocusTitle:"Steigere deine Fokuszeit",recLowFocusDesc:"Du hattest diese Woche wenige Fokus-Sitzungen. Selbst kurze Sitzungen helfen, die Gewohnheit aufzubauen.",recLowFocusAction:"Probiere eine 10-mintige Fokus-Sitzung",recGreatProgressTitle:"Du bist auf dem Vormarsch!",recGreatProgressDesc:"Dein Fortschritt verbessert sich im Vergleich zur letzten Woche. Weiter so!",recBestDayTitle:"Das war dein bester Tag",recBestDayDesc:"Versuche herauszufinden, was diesen Tag besonders gemacht hat, und wiederhole diese Bedingungen.",recGratitudeTitle:"be Dankbarkeit",recGratitudeDesc:"Das Aufschreiben von Dingen, fr die du dankbar bist, kann deine Stimmung langfristig verbessern.",recGratitudeAction:"Fge heute einen Dankbarkeitseintrag hinzu",recPerfectWeekTitle:"Erstaunliche Bestndigkeit!",recPerfectWeekDesc:"Du hast die meisten deiner Gewohnheiten diese Woche erfllt. Du baust starke Routinen auf!",recTopHabitTitle:"Behalte diese Gewohnheit bei",recTopHabitDesc:"Dies ist eine deiner bestndigsten Gewohnheiten. Sie trgt wahrscheinlich zu deinem Wohlbefinden bei.",smartReminders:"Smarte Erinnerungen",smartRemindersNotEnoughData:"Nutze die App weiter, um personalisierte Erinnerungsvorschlge basierend auf deinen Mustern zu erhalten.",smartRemindersOptimized:"Deine Erinnerungszeiten sind gut optimiert! Weiter so.",smartRemindersDescription:"Personalisierte Vorschlge basierend auf deinen Nutzungsmustern",suggestions:"Vorschlge",highConfidence:"Hohe Sicherheit",mediumConfidence:"Mittel",lowConfidence:"Vorschlag",apply:"Anwenden",habitRemindersOptimal:"Optimale Gewohnheitszeiten",patternBased:"Muster",syncOffline:"Offline",syncSyncing:"Synchronisierung",syncLastSync:"Synchronisiert",syncReady:"Bereit zur Synchronisierung",syncBackup:"Sicherung",syncReminders:"Erinnerungen",syncChallenges:"Herausforderungen",syncTasks:"Aufgaben",syncInnerWorld:"Fortschritt",syncBadges:"Abzeichen",onboardingTryNow:"Jetzt ausprobieren",onboardingGotIt:"Verstanden!",onboardingNext:"Weiter",onboardingGetStarted:"Los geht's!",onboardingWelcomeTitle:"Willkommen bei ZenFlow! ",onboardingWelcomeDescription:"Wir freuen uns, dir zu helfen, bessere Gewohnheiten aufzubauen und zu verstehen, was fr DEIN Gehirn funktioniert.",onboardingDay1Title:"Fangen wir einfach an",onboardingDay1Description:"Heute konzentrieren wir uns nur auf zwei Dinge: deine Stimmung verfolgen und deine erste Gewohnheit erstellen. Nichts berwltigendes.",onboardingGradualTitle:"Mehr Funktionen werden schrittweise freigeschaltet",onboardingGradualDescription:"In den nchsten 4 Tagen wirst du neue Funktionen entdecken, whrend du Fortschritte machst. Keine Informationsberflutung!",onboardingDayProgress:"Tag {day} von {maxDay}",onboardingFeaturesUnlocked:"Funktionen",onboardingNextUnlock:"Nchste Freischaltung",onboardingfocusTimerUnlockTitle:" Fokus-Timer freigeschaltet!",onboardingfocusTimerUnlockSubtitle:"Toller Fortschritt!",onboardingfocusTimerDescription:"Nutze den Pomodoro-Timer fr tiefe Konzentration. Stelle 25 Minuten ein, konzentriere dich auf eine Aufgabe, dann mache eine Pause. Perfekt fr ADHD-Gehirne!",onboardingxpUnlockTitle:" XP-System freigeschaltet!",onboardingxpUnlockSubtitle:"Zeit fr Gamification!",onboardingxpDescription:"Sammle Erfahrung fr das Abschlieen von Gewohnheiten, Fokus-Sitzungen und Stimmungsaufzeichnung. Steige auf und schalte neue Erfolge frei!",onboardingquestsUnlockTitle:" Quests freigeschaltet!",onboardingquestsUnlockSubtitle:"Neue Herausforderungen!",onboardingquestsDescription:"Tgliche und wchentliche Quests bringen Abwechslung in deine Routine. Erledige sie fr Bonusbelohnungen!",onboardingcompanionUnlockTitle:" Begleiter freigeschaltet!",onboardingcompanionUnlockSubtitle:"Lerne deinen Helfer kennen!",onboardingcompanionDescription:"Dein virtueller Begleiter wchst mit dir, feiert Siege und untersttzt dich an schwierigen Tagen. Whle aus 5 Typen!",onboardingtasksUnlockTitle:" Aufgaben freigeschaltet!",onboardingtasksUnlockSubtitle:"Vollzugriff!",onboardingtasksDescription:"Task Momentum hilft, Aufgaben speziell fr ADHD zu priorisieren. Das System empfiehlt, was als Nchstes zu tun ist, basierend auf Dringlichkeit und deiner Energie.",onboardingchallengesUnlockTitle:" Herausforderungen freigeschaltet!",onboardingchallengesUnlockSubtitle:"Vollzugriff!",onboardingchallengesDescription:"Nimm an langfristigen Herausforderungen teil, um Fhigkeiten zu entwickeln. Verfolge den Fortschritt und verdiene exklusive Abzeichen!",reengageTitle:"Willkommen zurck!",reengageSubtitle:"Du warst {days} Tage abwesend",reengageStreakBroken:"Streak-Status",reengageStreakProtected:"Streak geschtzt!",reengageStreakBrokenMsg:"Dein Streak wurde zurckgesetzt, aber du kannst heute neu beginnen! Vorheriger Streak: {streak} Tage.",reengageStreakProtectedMsg:"Dein {streak}-Tage-Streak ist sicher! Weiter so!",reengageBestHabits:"Deine besten Gewohnheiten",reengageSuccessRate:"Erfolg",reengageQuickMood:"Wie fhlst du dich?",reengageMoodLogged:"Stimmung aufgezeichnet!",reengageContinue:"Weiter geht's!",trendsTitle:"Deine Trends",trendsAvgMood:"Durchschn. Stimmung",trendsHabitRate:"Gewohnheitsrate",trendsFocusTime:"Fokus",trendsMoodChart:"Stimmung im Zeitverlauf",trendsHabitChart:"Gewohnheitsabschluss",trendsFocusChart:"Fokuszeit",trendsTotalFocus:"Gesamt",trendsInsightHint:"Mchtest du personalisierte Insights?",trendsInsightHintDesc:"Schaue dir das Insights-Panel auf der Startseite an, um Muster in deinen Daten zu entdecken.",healthConnect:"Health Connect",healthConnectDescription:"Mit Google Health Connect synchronisieren",healthConnectLoading:"Health Connect wird berprft...",healthConnectNotAvailable:"Auf diesem Gert nicht verfgbar",healthConnectUpdateRequired:"Bitte aktualisiere die Health Connect App",mindfulness:"Achtsamkeit",sleep:"Schlaf",steps:"Schritte",stepsLabel:"Schritte",grantPermissions:"Berechtigungen erteilen",todayHealth:"Gesundheit heute",syncFocusSessions:"Fokus-Sitzungen synchronisieren",syncFocusSessionsHint:"Fokus-Sitzungen als Achtsamkeit in Health Connect speichern",openHealthConnect:"Health Connect ffnen",refresh:"Aktualisieren",permissions:"Berechtigungen",questMorningMomentum:"Morgen-Schwung",questMorningMomentumDesc:"Erledige 3 Gewohnheiten vor 12:00 Uhr",questHabitMaster:"Gewohnheitsmeister",questHabitMasterDesc:"Erledige heute 5 Gewohnheiten",questSpeedDemon:"Geschwindigkeitsdmon",questSpeedDemonDesc:"Erledige 3 Gewohnheiten in 30 Minuten",questFocusFlow:"Fokus-Fluss",questFocusFlowDesc:"30 Minuten Fokus ohne Pausen",questDeepWork:"Tiefenarbeit",questDeepWorkDesc:"60 Minuten konzentrierte Arbeit",questHyperfocusHero:"Hyperfokus-Held",questHyperfocusHeroDesc:"90 Minuten im Hyperfokus-Modus",questStreakKeeper:"Streak-Hter",questStreakKeeperDesc:"Halte deinen Streak 7 Tage lang",questConsistencyKing:"Knig der Bestndigkeit",questConsistencyKingDesc:"Halte deinen Streak 14 Tage lang",questGratitudeSprint:"Dankbarkeits-Sprint",questGratitudeSprintDesc:"Schreibe 5 Dankbarkeiten in 5 Minuten",questThankfulHeart:"Dankbares Herz",questThankfulHeartDesc:"Schreibe heute 10 Dankbarkeiten",questLightningRound:"Blitz-Runde",questLightningRoundDesc:"Erledige 5 schnelle Aufgaben in 15 Minuten",questWeeklyWarrior:"Wchentlicher Krieger",questWeeklyWarriorDesc:"Erledige 7 Tage lang Gewohnheiten",feedbackTitle:"Feedback senden",feedbackSubtitle:"Hilf uns, die App zu verbessern",feedbackCategoryBug:"Fehler melden",feedbackCategoryFeature:"Funktion vorschlagen",feedbackCategoryOther:"Sonstiges",feedbackMessagePlaceholder:"Beschreibe dein Problem oder deinen Vorschlag...",feedbackEmailPlaceholder:"E-Mail (optional)",feedbackSubmit:"Senden",feedbackSuccess:"Danke fr dein Feedback!",feedbackError:"Senden fehlgeschlagen. Versuche es erneut.",feedbackSending:"Wird gesendet...",sendFeedback:"Feedback senden",rateAppTitle:"Gefllt dir ZenFlow?",rateAppSubtitle:"Bewerte uns im Play Store",rateAppButton:"Bewerten",rateAppLater:"Spter",updateAvailable:"Update verfgbar",updateDescription:"Eine neue Version mit Verbesserungen und Fehlerbehebungen ist bereit zur Installation.",updateDescriptionCritical:"Ein kritisches Update ist erforderlich, um die App weiter zu nutzen.",updateNow:"Jetzt aktualisieren",updateAvailableFor:"Seit {days} Tagen verfgbar",quickActions:"Schnellaktionen",quickActionsDescription:"Benachrichtigung mit Schnellaktionen auf dem Sperrbildschirm anzeigen",quickActionsEnabled:"Schnellaktionen aktiviert",quickActionsDisabled:"Schnellaktionen deaktiviert",quickActionLogMood:"Stimmung erfassen",quickActionStartFocus:"Fokus starten",quickActionViewHabits:"Gewohnheiten",notificationSound:"Benachrichtigungston",notificationSoundDescription:"Whle den Ton fr Erinnerungen",soundDefault:"Standard",soundDefaultDesc:"System-Benachrichtigungston",soundGentle:"Sanft",soundGentleDesc:"Nur Vibration",soundChime:"Klingel",soundChimeDesc:"Kurzer Benachrichtigungston",soundSilent:"Lautlos",soundSilentDesc:"Kein Ton oder Vibration",testNotification:"Testbenachrichtigung",testNotificationHint:"Sendet in 5 Sekunden eine Testbenachrichtigung zur berprfung.",insightConfidence:"Vertrauen",insightDataPoints:"Datenpunkte",insightAvgMoodWith:"Durchschn. Stimmung mit Gewohnheit",insightAvgMoodWithout:"Durchschn. Stimmung ohne Gewohnheit",insightSampleDays:"Stichprobentage",insightBestActivity:"Beste Aktivitt",insightPeakTime:"Spitzenzeit",insightAvgDuration:"Durchschn. Dauer",insightSessions:"Sitzungen",insightTagOccurrences:"Tag-Vorkommen",insightMoodWithTag:"Stimmung mit Tag",insightMoodWithoutTag:"Stimmung ohne Tag",insightDisclaimer:"Dieser Einblick basiert auf deinen Daten. Muster knnen sich ndern.",times:"Mal",noMoodDataYet:"Noch keine Stimmungsdaten",noEmotionDataYet:"Noch keine Emotionsdaten",xp:"XP"},fr:{appName:"ZenFlow",goodMorning:"Bonjour",goodAfternoon:"Bon aprs-midi",goodEvening:"Bonsoir",home:"Accueil",stats:"Statistiques",settings:"Paramtres",streakDays:"Srie",days:"j",habitsToday:"Habitudes aujourd'hui",focusToday:"Focus aujourd'hui",minutes:"minutes",min:"min",gratitudes:"Gratitudes",howAreYouFeeling:"Comment vous sentez-vous?",howAreYouNow:"Comment allez-vous maintenant?",moodToday:"Humeur aujourd'hui",moodHistory:"Historique du jour",moodRecorded:"Humeur enregistre!",moodNotes:"Notes d'humeur",todayProgress:"Progrs d'aujourd'hui",completed:"Termin!",updateMood:"Mettre  jour",great:"Super",good:"Bien",okay:"Correct",bad:"Mal",terrible:"Terrible",addNote:"Ajouter une note (optionnel)...",saveMood:"Sauvegarder l'humeur",startHere:"Commencez ici",tapToStart:"Appuyez sur un emoji pour commencer votre journe",moodPrompt:"Qu'est-ce qui a influenc votre humeur ?",moodTagsTitle:"Tags",moodTagPlaceholder:"Ajouter un tag...",moodTagAdd:"Ajouter",moodTagFilter:"Filtrer par tag",allTags:"Tous les tags",tagWork:"Travail",tagFamily:"Famille",tagHealth:"Sant",tagSleep:"Sommeil",tagMoney:"Argent",tagWeather:"Mto",moodPatternsTitle:"Tendances dhumeur",moodBestDay:"Meilleur jour de la semaine",moodFocusComparison:"Humeur et focus",moodFocusWith:"Avec sessions de focus",moodFocusWithout:"Sans focus",moodHabitCorrelations:"Habitudes et humeur",moodNoData:"Pas assez de donnes",editMood:"Modifier l'humeur",changeMood:"Changer l'humeur",changeMoodConfirmTitle:"Changer l'humeur ?",changeMoodConfirmMessage:"tes-vous sr de vouloir changer votre humeur ?",moodChanged:"Humeur mise  jour !",confirm:"Changer",dailyProgress:"Progression quotidienne",continueProgress:"Continuer",dayTimeline:"Ta journe",dayComplete:"de la journe",perfectDay:"Journe parfaite !",startYourDay:"Commence ta journe ! ",keepGoing:"Continue ! Tu fais du super boulot ",almostThere:"Presque l ! ",soClose:"Si proche de la perfection ! ",legendaryDay:"JOURNE LGENDAIRE ! ",scheduleTitle:"Votre Emploi du Temps",scheduleAddEvent:"Ajouter un vnement",scheduleEmpty:"Aucun vnement prvu. Appuyez sur + pour ajouter !",scheduleEmptyDay:"Aucun vnement pour ce jour",scheduleStart:"Dbut",scheduleEnd:"Fin",scheduleAdd:"Ajouter  l'emploi du temps",scheduleCustomTitle:"Titre personnalis (optionnel)",scheduleWork:"Travail",scheduleMeal:"Repas",scheduleRest:"Repos",scheduleExercise:"Exercice",scheduleStudy:"tudes",scheduleMeeting:"Runion",scheduleNote:"Note (optionnel)",scheduleNotePlaceholder:"Ajouter des dtails ou des rappels...",needInspiration:"Besoin d'inspiration?",journalPrompt:"Question",dailyPrompt:"Question du Jour",usePrompt:"Utiliser cette question",shufflePrompt:"Autre question",mindfulMoment:"Moment de pleine conscience",takeAMoment:"Prends un moment...",withNote:"avec note",whatsMakingYouFeel:"Qu'est-ce qui te fait ressentir cela?",emotionSaved:"motion enregistre",treat:"friandise",moodGood:"Bien",moodOkay:"Correct",moodNotGreat:"Pas trs bien",timeUntilEndOfDay:"Jusqu' la fin de journe",timeIn:"dans",timePassed:"Temps coul",timeNow:"Maintenant!",hoursShort:"h",minutesShort:"m",night:"Nuit",aiInsights:"Analyses IA",aiInsight:"Insight IA",personalizedForYou:"Personnalis pour vous",insightsNeedMoreData:"Notez votre humeur pendant une semaine pour dbloquer des insights personnaliss!",daysLogged:"jours nots",showMore:"Afficher",moreInsights:"plus d'insights",hideInsights:"Masquer les insights",insightBestDayTitle:"Les {day}s sont vos meilleurs jours !",insightBestDayDesc:"Votre humeur tend  tre meilleure les {day}s. Planifiez les tches importantes ce jour-l.",insightBestTimeTitle:"Vous brillez le plus le {period}",insightBestTimeDesc:"Votre humeur est gnralement meilleure le {period}. Planifiez les tches exigeantes  ce moment !",insightHabitBoostsTitle:" {habit}  amliore votre humeur !",insightHabitBoostsDesc:"Quand vous compltez  {habit} , votre humeur tend  tre {percent}% meilleure. Continuez !",insightFocusMoodTitle:"Focus = Meilleure humeur !",insightFocusMoodDesc:"Les jours avec des sessions de focus, votre humeur est {percent}% meilleure. Le travail profond paie !",insightGratitudeMoodTitle:"La gratitude amliore votre humeur !",insightGratitudeMoodDesc:"Les jours avec des entres de gratitude montrent {percent}% de meilleure humeur. Continuez  pratiquer !",insightMoodUpTitle:"Votre humeur s'amliore !",insightMoodUpDesc:"Votre humeur moyenne cette semaine est {percent}% meilleure que la semaine dernire. Vous faites du bon travail !",insightMoodDownTitle:"Remontons votre humeur !",insightMoodDownDesc:"Votre humeur a un peu baiss. Essayez de vous concentrer sur les habitudes qui vous font habituellement du bien.",insightHighConsistencyTitle:"Constance incroyable !",insightHighConsistencyDesc:"Vous avez not votre humeur {days} des 14 derniers jours. Cette conscience de soi est puissante !",insightLowConsistencyTitle:"Construisez votre habitude de notation",insightLowConsistencyDesc:"Essayez de noter votre humeur  la mme heure chaque jour. La constance aide  reprer les tendances !",hintFirstMoodTitle:"Comment vous sentez-vous ?",hintFirstMoodDesc:"Commencez la journe en notant votre humeur. a ne prend que 5 secondes et vous aide  mieux vous comprendre !",hintFirstMoodAction:"Noter humeur",hintFirstHabitTitle:"Crez votre premire habitude",hintFirstHabitDesc:`Les petites habitudes mnent  de grands changements. Essayez quelque chose de simple comme "Boire de l'eau".`,hintFirstHabitAction:"Ajouter habitude",hintFirstFocusTitle:"Prt  vous concentrer ?",hintFirstFocusDesc:"Utilisez le minuteur de focus avec des sons apaisants. Commencez par 25 minutes !",hintFirstFocusAction:"Dmarrer focus",hintFirstGratitudeTitle:"Pratiquez la gratitude",hintFirstGratitudeDesc:"crivez une chose pour laquelle vous tes reconnaissant. C'est un puissant booster d'humeur !",hintFirstGratitudeAction:"Ajouter gratitude",hintScheduleTipTitle:"Planifiez votre journe",hintScheduleTipDesc:"Utilisez la timeline pour voir votre journe d'un coup d'il. Ajoutez des vnements !",hintScheduleTipAction:"Voir timeline",habits:"Habitudes",habitName:"Nom de l'habitude...",icon:"Icne",color:"Couleur",addHabit:"Ajouter une habitude",addFirstHabit:"Ajoutez votre premire habitude! ",completedTimes:"Complt",habitNameHint:"Entrez un nom pour ajouter.",habitType:"Type dhabitude",habitTypeDaily:"Quotidienne",habitTypeWeekly:"Objectif hebdo",habitTypeFrequency:"Tous les N jours",habitTypeReduce:"Rduire (limite)",habitWeeklyGoal:"Objectif hebdo (fois)",habitFrequencyInterval:"Intervalle (jours)",habitReduceLimit:"Limite quotidienne",habitStrictStreak:"Srie stricte",habitGraceDays:"Jours de grce par semaine",habitWeeklyProgress:"Cette semaine",habitEvery:"Tous les",habitReduceProgress:"Aujourd'hui",noHabitsToday:"Pas d'habitudes aujourd'hui.",habitsOther:"Autres habitudes",habitTypeContinuous:"Continu (arrter)",habitTypeScheduled:"Planifi",habitTypeMultiple:"Plusieurs fois par jour",habitDailyTarget:"Objectif quotidien",habitStartDate:"Date de dbut",habitReminders:"Rappels",habitAddReminder:"Ajouter un rappel",habitReminderTime:"Heure",habitReminderDays:"Jours de la semaine",habitReminderEnabled:"Activ",habitRemindersPerHabit:"Les rappels sont maintenant configurs individuellement pour chaque habitude. Ajoutez des rappels lors de la cration ou de la modification des habitudes.",perHabitRemindersTitle:"Rappels par Habitude",perHabitRemindersDesc:"Chaque habitude peut avoir ses propres horaires de rappel personnaliss. Configurez-les lors de la cration d'une nouvelle habitude ou de la modification d'une habitude existante.",quickAdd:"Ajout rapide",createCustomHabit:"Crer une habitude personnalise",streak:"srie",habitFrequency:"Frquence",habitFrequencyOnce:"Une fois",habitFrequencyDaily:"Quotidien",habitFrequencyWeekly:"Hebdomadaire",habitFrequencyCustom:"Personnalis",habitFrequencySelectDays:"Slectionner les Jours",habitDurationRequired:"Ncessite une Dure?",habitTargetDuration:"Dure Cible (minutes)",addReminder:"Ajouter",noReminders:"Aucun rappel",habitEventExplanation:"Cet vnement vient de votre habitude. Modifiez l'habitude pour le changer.",habitDurationMinutes:"minutes",focus:"Focus",breakTime:"Pause",todayMinutes:"min aujourd'hui",concentrate:"Concentrez-vous",takeRest:"Reposez-vous",focusPreset25:"25/5",focusPreset50:"50/10",focusPresetCustom:"Personnalis",focusLabelPrompt:"Sur quoi vous concentrez-vous ?",focusLabelPlaceholder:"Ex. : Rapport, tude, Projet...",focusCustomWork:"Travail (min)",focusCustomBreak:"Pause (min)",focusReflectionTitle:"Rflexion",focusReflectionQuestion:"Comment s'est passe la session ?",focusReflectionSkip:"Passer",focusReflectionSave:"Sauvegarder",breathingTitle:"Respiration",breathingSubtitle:"Apaise ton esprit",breathingBox:"Respiration carre",breathingBoxDesc:"Phases gales pour focus",breathing478:"4-7-8 Relaxant",breathing478Desc:"Calme profond",breathingEnergize:"nergisant",breathingEnergizeDesc:"Boost d'nergie",breathingSleep:"Prparation au sommeil",breathingSleepDesc:"Expiration lente",breatheIn:"Inspire",breatheOut:"Expire",hold:"Retiens",cycles:"cycles",cycle:"Cycle",effectCalming:"Calmant",effectFocusing:"Focus",effectEnergizing:"nergie",effectSleeping:"Sommeil",startBreathing:"Commencer",breathingComplete:"Bien jou!",breathingCompleteMsg:"Tu as termin l'exercice de respiration",breathingAgain:"Encore",pause:"Pause",resume:"Reprendre",gratitude:"Gratitude",today:"aujourd'hui",tomorrow:"demain",scheduleDate:"Date",whatAreYouGratefulFor:"Pour quoi tes-vous reconnaissant aujourd'hui?",iAmGratefulFor:"Je suis reconnaissant pour...",save:"Sauvegarder",cancel:"Annuler",recentEntries:"Entres rcentes",gratitudeTemplate1:"Aujourd'hui je suis reconnaissant pour...",gratitudeTemplate2:"Un bon moment aujourd'hui...",gratitudeTemplate3:"J'apprcie en moi...",gratitudeLimit:"Jusqu' 3 points par jour",gratitudeMemoryJar:"Bocal  souvenirs",thisWeek:"Cette semaine",statistics:"Statistiques",monthlyOverview:"Aperu mensuel",statsRange:"Priode",statsRangeWeek:"Semaine",statsRangeMonth:"Mois",statsRangeAll:"Tout le temps",statsRangeApply:"Appliquer",calendarTitle:"Calendrier",calendarYear:"Anne",calendarSelectDay:"Choisir un jour",calendarPrevMonth:"Mois prcdent",calendarNextMonth:"Mois suivant",moodEntries:"Entres d'humeur",focusMinutes:"Minutes de focus",achievements:"Ralisations",toLevel:"Au niveau",unlockedPercent:"{percent}% Dbloqu",all:"Tous",unlocked:"Dbloqus",locked:"Verrouills",unlockedOn:"Dbloqu le {date}",hiddenAchievement:"???",hidden:"Cach",noAchievementsYet:"Pas encore de ralisations",startUsingZenFlow:"Commencez  utiliser ZenFlow pour dbloquer des ralisations !",achievementUnlocked:"Ralisation dbloque !",userLevel:"Niveau",focusSession:"Session de concentration",timeBlindnessHelper:"Aide  la ccit temporelle",visualTimeAwareness:"Conscience visuelle du temps pour TDAH",hoursMinutesLeft:"{hours}h {mins}m restantes",minutesLeft:"{mins}m restantes",timesUp:"C'est l'heure !",youllFinishAt:" Vous finirez  :",nMinutes:"{n} minutes",pingEveryMinutes:"Signal toutes les (minutes)",audioPings:"Signaux audio",testSound:" Test",soundOn:"Activ",soundOff:"Dsactiv",startTimer:"Dmarrer le minuteur",pauseTimer:"Pause",resetTimer:"Rinitialiser",adhdTimeManagement:"Gestion du temps TDAH",adhdTip1:"Les signaux audio aident  suivre le temps",adhdTip2:"Le compte  rebours visuel rduit l'anxit",adhdTip3:"Prdiction de fin = meilleure planification",adhdTip4:"Les changements de couleur avertissent du temps restant",currentStreak:"Srie actuelle",daysInRow:"Jours conscutifs",totalFocus:"Focus total",allTime:"Tout le temps",habitsCompleted:"Habitudes compltes",totalTimes:"Fois au total",moodDistribution:"Distribution de l'humeur",moodHeatmap:"Calendrier d'humeur",activityHeatmap:"Aperu de l'activit",less:"Moins",more:"Plus",topHabit:"Meilleure habitude",completedTimes2:"fois",profile:"Profil",yourName:"Votre nom",nameSaved:"Nom enregistr",notifications:"Notifications",notificationsComingSoon:"Les notifications seront disponibles dans les prochaines mises  jour.",data:"Donnes",exportData:"Exporter les donnes",importData:"Importer les donnes",importMode:"Mode d'importation",importMerge:"Fusionner",importReplace:"Remplacer",exportSuccess:"Export prt.",exportError:"chec de l'export.",exportCSV:"Exporter CSV",exportPDF:"Exporter PDF",importSuccess:"Import termin.",importError:"chec de l'import.",importedItems:"Ajout",importAdded:"ajout",importUpdated:"mis  jour",importSkipped:"ignor",textTooLong:"Le texte est trop long (2000 caractres maximum)",invalidInput:"Veuillez vrifier votre saisie",comingSoon:"bientt",resetAllData:"Rinitialiser toutes les donnes",privacyTitle:"Confidentialit",privacyDescription:"Tes donnes restent sur l'appareil. Pas de suivi cach.",privacyNoTracking:"Pas de suivi",privacyNoTrackingHint:"Nous ne collectons pas de donnes comportementales.",privacyAnalytics:"Analytiques",privacyAnalyticsHint:"Aide a ameliorer l'app. Vous pouvez le desactiver.",privacyPolicy:"Politique de confidentialite",termsOfService:"Conditions d'utilisation",appearance:"Apparence",oledDarkMode:"Mode sombre OLED",oledDarkModeHint:"Thme noir pur pour crans OLED. conomise la batterie.",whatsNewTitle:"Nouveauts",whatsNewVersion:"Version",whatsNewGotIt:"Compris !",skipToContent:"Aller au contenu principal",settingsCloudSyncTitle:"Activer la synchronisation cloud",settingsCloudSyncDescription:"Synchronisez vos donnes entre appareils",settingsCloudSyncEnabled:"Synchronisation cloud active",settingsCloudSyncDisabledByUser:"Synchronisation dsactive",settingsExportTitle:"Exporter la sauvegarde",settingsExportDescription:"Enregistrez toutes vos donnes dans un fichier",settingsImportTitle:"Importer la sauvegarde",settingsImportMergeTooltip:"Les donnes importes seront ajoutes aux existantes. Doublons ignors.",settingsImportReplaceTooltip:" Toutes les donnes actuelles seront supprimes et remplaces",settingsImportReplaceConfirm:'Tapez "REPLACE" pour confirmer la suppression de toutes les donnes',invalidFileType:"Type de fichier invalide. JSON requis.",fileTooLarge:"Fichier trop volumineux (max 10 Mo)",importConfirm:"Confirmer l'importation",invalidBackupFormat:"Format de sauvegarde invalide",settingsWhatsNewTitle:"Nouveauts dans v1.3.0",settingsWhatsNewLeaderboards:"Classements",settingsWhatsNewLeaderboardsDesc:"Rivalisez anonymement avec les autres",settingsWhatsNewSpotify:"Intgration Spotify",settingsWhatsNewSpotifyDesc:"Lecture automatique pendant les sessions de focus",settingsWhatsNewChallenges:"Dfis entre amis",settingsWhatsNewChallengesDesc:"Dfiez vos amis  crer des habitudes ensemble",settingsWhatsNewDigest:"Digest hebdomadaire",settingsWhatsNewDigestDesc:"Recevez des rapports de progrs par email",settingsWhatsNewSecurity:"Scurit amliore",settingsWhatsNewSecurityDesc:"Meilleure protection des donnes et confidentialit",settingsWhatsNewGotIt:"Compris !",settingsSectionAccount:"Compte et cloud",settingsSectionData:"Donnes et sauvegarde",weeklyDigestTitle:"Rapport de progression hebdomadaire",weeklyDigestDescription:"Recevez un rsum hebdomadaire de vos habitudes, temps de concentration et tendances d'humeur chaque dimanche.",weeklyDigestEnabled:"Vous recevrez les rapports par email",changelogTitle:"Historique des versions",changelogExpandAll:"Tout dvelopper",changelogCollapseAll:"Tout rduire",changelogEmpty:"Aucun historique de versions disponible",changelogAdded:"Ajout",changelogFixed:"Corrig",changelogChanged:"Modifi",changelogRemoved:"Supprim",settingsGroupProfile:"Profil et apparence",settingsGroupNotifications:"Notifications",settingsGroupData:"Donnes et confidentialit",settingsGroupAccount:"Compte",settingsGroupAbout:" propos",consentTitle:"Paramtres de confidentialit",consentDescription:"Nous respectons votre vie prive. Autoriser les analyses anonymes pour amliorer l'app ?",consentAnalyticsTitle:"Analyses anonymes",consentAnalyticsDesc:"Uniquement les habitudes d'utilisation. Pas de donnes personnelles. Modifiable dans les paramtres.",consentAccept:"Autoriser",consentDecline:"Non merci",consentFooter:"Vous pouvez modifier cela  tout moment dans Paramtres > Confidentialit",installApp:"Installer l'app",installAppDescription:"Installez ZenFlow pour un lancement plus rapide et un accs hors ligne.",installBannerTitle:"Installer ZenFlow",installBannerBody:"Obtenez un lancement plus rapide et un accs hors ligne en installant l'app.",installNow:"Installer",installLater:"Plus tard",appInstalled:"App installe",appInstalledDescription:"ZenFlow est install sur votre appareil.",checkForUpdates:"Vrifier les mises  jour",checkingForUpdates:"Vrification des mises  jour...",appUpToDate:"Vous avez la dernire version",openGooglePlay:"Ouvrir Google Play",updateCheckFailed:"chec de la vrification",remindersTitle:"Rappels",remindersDescription:"Des petits coups de pouce pour te garder sur la bonne voie.",moodReminder:"Heure du check-in humeur",habitReminder:"Rappel d'habitude",focusReminder:"Rappel de focus",quietHours:"Heures calmes",reminderDays:"Jours de la semaine",selectedHabits:"Habitudes  rappeler",noHabitsYet:"Pas encore d'habitudes.",reminderMoodTitle:"Hey, a va? ",reminderMoodBody:"30 secondes pour remercier ton cerveau. Comment tu te sens?",reminderHabitTitle:"L'heure de la mini-habitude! ",reminderHabitBody:"Petit pas = grande victoire. On y va?",reminderFocusTitle:"Power focus! ",reminderFocusBody:"Juste 25 min pour le mode hros. C'est parti?",reminderDismiss:"Pas maintenant",notificationPermissionTitle:"Reste sur la bonne voie",notificationPermissionDescription:"Reois des rappels doux pour suivre ton humeur, complter tes habitudes et prendre des pauses de concentration. Les notifications t'aident  crer des routines saines.",notificationFeature1Title:"Rappels d'humeur quotidiens",notificationFeature1Desc:"Fais le point avec toi-mme chaque jour",notificationFeature2Title:"Suivi des habitudes",notificationFeature2Desc:"Reste constant avec tes objectifs",notificationFeature3Title:"Sessions de concentration",notificationFeature3Desc:"Reois des rappels pour prendre des pauses productives",notificationAllow:"Activer les notifications",notificationDeny:"Peut-tre plus tard",notificationPrivacyNote:"Tu peux changer cela  tout moment dans les Paramtres. Les notifications sont locales et prives.",onboardingStep:"tape",onboardingValueTitle:"Suis ton humeur + habitudes en 30 secondes par jour",onboardingValueBody:"Check-ins rapides, zro dsordre, totalement priv.",onboardingStart:"Commencer en 30 sec",onboardingExplore:"Explorer",onboardingGoalTitle:"Choisis ton focus",onboardingGoalLessStress:"Moins de stress",onboardingGoalLessStressDesc:"Habitudes calmes et douces",onboardingGoalMoreEnergy:"Plus d'nergie",onboardingGoalMoreEnergyDesc:"Sommeil, mouvement, hydratation",onboardingGoalBetterRoutine:"Meilleure routine",onboardingGoalBetterRoutineDesc:"Stabilit et rythme",onboardingContinue:"Continuer",onboardingCheckinTitle:"Check-in rapide",onboardingHabitsPrompt:"Choisis deux habitudes",onboardingPickTwo:"Choisis jusqu' deux",onboardingReminderTitle:"Activer les rappels",onboardingReminderBody:"Choisis une heure qui te convient. Pas de spam.",onboardingMorning:"Matin",onboardingEvening:"Soir",onboardingEnable:"Activer",onboardingSkip:"Passer pour l'instant",onboardingHabitBreathing:"Respiration",onboardingHabitEveningWalk:"Promenade du soir",onboardingHabitStretch:"tirement",onboardingHabitJournaling:"Journalisation",onboardingHabitWater:"Boire de l'eau",onboardingHabitSunlight:"Lumire du soleil",onboardingHabitMovement:"Mouvement",onboardingHabitSleepOnTime:"Dormir  temps",onboardingHabitMorningPlan:"Plan du matin",onboardingHabitRead:"Lire 10 min",onboardingHabitNoScreens:"Pas d'crans tard",onboardingHabitDailyReview:"Bilan quotidien",account:"Compte",accountDescription:"Connectez-vous par e-mail pour synchroniser votre progression entre appareils.",emailPlaceholder:"votre@email.com",sendMagicLink:"Envoyer le lien de connexion",continueWithGoogle:"Continuer avec Google",signedInAs:"Connect en tant que",signOut:"Se dconnecter",syncNow:"Synchroniser maintenant",cloudSyncDisabled:"Synchronisation cloud dsactive.",deleteAccount:"Supprimer le compte",deleteAccountConfirm:"Supprimer votre compte?",deleteAccountWarning:"Cela supprimera les donnes cloud et laccs au compte.",deleteAccountSuccess:"Compte supprim.",deleteAccountError:"Impossible de supprimer le compte.",deleteAccountLink:"Supprimer le compte/donnes",authEmailSent:"Lien de connexion envoy  votre e-mail.",authSignedOut:"Dconnect.",authError:"chec de l'envoi du lien.",authNotConfigured:"Supabase non configur.",syncSuccess:"Synchronisation termine.",syncPulled:"Donnes cloud restaures.",syncPushed:"Cloud mis  jour.",syncError:"chec de la synchronisation.",authGateTitle:"Se connecter",authGateBody:"Connectez-vous par e-mail pour sauvegarder votre progression et synchroniser entre appareils.",authGateContinue:"Continuer sans compte",errorBoundaryTitle:"Quelque chose s'est mal pass",errorBoundaryBody:"Essayez de recharger l'application ou d'exporter un rapport de dbogage.",errorBoundaryExport:"Exporter le rapport de dbogage",errorBoundaryReload:"Recharger l'application",pushTitle:"Notifications push",pushEnable:"Activer les notifications",pushDisable:"Dsactiver les notifications",pushTest:"Tester les notifications",pushTestTitle:"ZenFlow",pushTestBody:"Notification de test.",pushTestSent:"Test envoy.",pushTestError:"chec de l'envoi du test.",pushNowMood:"Push: humeur",pushNowHabit:"Push: habitudes",pushNowFocus:"Push: concentration",pushEnabled:"Notifications actives.",pushDisabled:"Notifications dsactives.",pushError:"chec de l'activation des notifications.",pushNeedsAccount:"Connectez-vous pour activer les notifications.",pushPermissionDenied:"Permission de notification refuse.",areYouSure:"tes-vous sr?",cannotBeUndone:"Cette action ne peut pas tre annule.",delete:"Supprimer",shareAchievements:"Partager vos progrs",shareDialogTitle:"Partagez vos progrs",shareTitle:"Mes progrs sur ZenFlow",shareText:"{streak} jours d'affile! {habits} habitudes compltes, {focus} minutes de concentration.",shareButton:"Partager",shareDownload:"Tlcharger l'image",shareDownloading:"Tlchargement...",shareCopyLink:"Copier le lien",shareCopied:"Copi!",sharePrivacyNote:"Aucune donne personnelle n'est partage. Seulement votre rsum de progrs.",shareStreak:"Jours d'affile",shareHabits:"Habitudes",shareFocus:"Minutes",shareGratitude:"Gratitudes",shareFooter:"Suivez vos habitudes, humeur et concentration",myProgress:"Mes progrs",shareSquare:"Post 1:1",shareStory:"Story 9:16",shareFormatHint:" Format story pour Instagram/TikTok  Format post pour les fils",shareFailed:"chec du partage. Veuillez ressayer.",shareAchievement30:"Lgendaire!",shareAchievement14:"Inarrtable!",shareAchievement7:"En feu!",shareAchievement3:"toile montante!",shareAchievementStart:"Vient de commencer!",shareSubtext30:"Matre 30+ jours",shareSubtext14:"Guerrier 14+ jours",shareSubtext7:"Srie 7+ jours",shareSubtext3:"Srie 3+ jours",shareSubtextStart:"Construction d'habitudes",dismiss:"Fermer",challengesTitle:"Dfis et badges",challengesSubtitle:"Relve des dfis et gagne des badges",activeChallenges:"Actifs",availableChallenges:"Disponibles",badges:"Badges",noChallengesActive:"Aucun dfi actif",noChallengesActiveHint:"Commence un dfi pour suivre ta progression",progress:"Progression",reward:"Rcompense",target:"Objectif",startChallenge:"Commencer le dfi",challengeActive:"Actif",requirement:"Exigence",challengeTypeStreak:"Srie",challengeTypeFocus:"Focus",challengeTypeGratitude:"Gratitude",challengeTypeTotal:"Total",friendChallenges:"Dfis entre amis",createChallenge:"Crer un dfi",challengeDescription:"Dfiez vos amis pour construire des habitudes ensemble",challengeYourFriends:"Dfiez vos amis avec cette habitude!",challengeDuration:"Dure du dfi",challengeCreated:"Dfi cr!",challengeDetails:"Dtails du dfi",shareToInvite:"Partagez pour inviter des amis!",trackWithFriends:"Suivez vos dfis avec des amis",challengeCode:"Code du dfi",yourProgress:"Votre progression",daysLeft:"jours restants",dayChallenge:"jours de dfi",challengeCompleted:"Dfi termin!",noChallenges:"Pas encore de dfis",createChallengePrompt:"Crez un dfi  partir de n'importe quelle habitude!",completedChallenges:"Termins",expiredChallenges:"Expirs",youCreated:"Vous avez cr",createdBy:"Cr par",confirmDeleteChallenge:"Supprimer ce dfi?",challengeInvite:"Rejoins mon dfi!",challengeJoinPrompt:"Rejoins-moi sur ZenFlow!",challengeShareTip:"Vous pourrez partager ce dfi avec des amis aprs l'avoir cr.",joinChallenge:"Rejoindre le dfi",enterChallengeCode:"Entrez le code de votre ami",invalidChallengeCode:"Code invalide. Format: ZEN-XXXXXX",enterCodeToJoin:"Entrez un code de dfi pour rejoindre",joinChallengeHint:"Demandez  votre ami de partager le code du dfi",joining:"Rejoindre...",join:"Rejoindre",challengeWon:" Incroyable! Tu as termin le dfi!",catchUp:" Tu peux rattraper! Chaque jour compte!",aheadOfSchedule:" Super rythme! Tu es en avance!",daysPassed:"Jours passs",daysCompleted:"Complts",daysRemaining:"Restants",hyperfocusMode:"Mode Hyperfocus",hyperfocusStart:"Commencer",hyperfocusPause:"Pause",hyperfocusResume:"Reprendre",hyperfocusExit:"Quitter",hyperfocusReady:"Prt pour l'hyperfocus?",hyperfocusFocusing:"Dans la zone...",hyperfocusPaused:"En pause",hyperfocusTimeLeft:"restant",hyperfocusBreathe:"Respirez...",hyperfocusBreathDesc:"Inspirez 4s  Expirez 4s",hyperfocusEmergencyConfirm:"Voulez-vous mettre en pause la session? Sans culpabilit! ",hyperfocusAmbientSound:"Son Ambiant",hyperfocusSoundNone:"Aucun",hyperfocusSoundWhiteNoise:"Bruit Blanc",hyperfocusSoundRain:"Pluie",hyperfocusSoundOcean:"Ocan",hyperfocusSoundForest:"Fort",hyperfocusSoundCoffee:"Caf",hyperfocusSoundFireplace:"Chemine",hyperfocusSoundVariants:"Variantes de Son",hyperfocusShowVariants:"Afficher les variantes",hyperfocusHideVariants:"Masquer les variantes",hyperfocusTip:"Astuce",hyperfocusTipText:"Toutes les 25 minutes, il y aura une courte pause respiratoire. Cela aide  prvenir l'puisement!",hyperfocusPauseMsg:"Appuyez sur Play pour continuer",widgetSettings:"Paramtres des Widgets",widgetSettingsDesc:"Configurez les widgets pour votre cran d'accueil",widgetPreview:"Aperu",widgetSetup:"Installation",widgetInfo:"Les widgets se mettent  jour automatiquement",widgetInfoDesc:"Les donnes des widgets se synchronisent chaque fois que vous mettez  jour vos habitudes, terminez des sessions de concentration ou obtenez de nouveaux badges.",widgetStatus:"Statut des Widgets",widgetPlatform:"Plateforme",widgetWeb:"Web (widgets non disponibles)",widgetSupport:"Support des Widgets",widgetAvailable:"Disponibles",widgetComingSoon:"Bientt",widgetSetupiOS:"Installation du Widget sur iOS",widgetSetupAndroid:"Installation du Widget sur Android",widgetStep1iOS:"Appuyez longuement sur l'cran d'accueil jusqu' ce que les icnes tremblent",widgetStep2iOS:'Appuyez sur "+" dans le coin suprieur gauche',widgetStep3iOS:'Trouvez "ZenFlow" dans la liste des apps',widgetStep4iOS:"Choisissez la taille du widget (petit, moyen ou grand)",widgetStep5iOS:'Appuyez sur "Ajouter le widget"',widgetStep1Android:"Appuyez longuement sur un espace vide de l'cran d'accueil",widgetStep2Android:'Appuyez sur "Widgets" dans le menu',widgetStep3Android:'Trouvez "ZenFlow" dans la liste des apps',widgetStep4Android:"Faites glisser le widget sur votre cran d'accueil",widgetWebWarning:"Widgets non disponibles dans la version web",widgetWebWarningDesc:"Les widgets fonctionnent uniquement sur les appareils mobiles (iOS et Android). Installez l'application mobile pour utiliser les widgets.",widgetWebTip:"La version web affiche des aperus de widgets pour que vous puissiez voir  quoi ils ressembleront sur mobile.",widgetFeatures:"Fonctionnalits des Widgets",widgetFeature1:"Afficher les jours de srie actuelle",widgetFeature2:"Progression des habitudes d'aujourd'hui",widgetFeature3:"Minutes de sessions de concentration",widgetFeature4:"Dernier badge obtenu",widgetFeature5:"Liste d'habitudes avec statut de compltion",widgetSmall:"Petit Widget",widgetMedium:"Widget Moyen",widgetLarge:"Grand Widget",widgetNoData:"Aucune donne de widget disponible",todayHabits:"Habitudes d'Aujourd'hui",lastBadge:"Dernier Badge",done:"fait",dopamineSettings:"Dopamine Dashboard",dopamineSettingsDesc:"Personnalisez votre exprience de retour",dopamineIntensity:"Niveau d'intensit",dopamineMinimal:"Minimal",dopamineNormal:"Normal",dopamineADHD:"TDAH",dopamineMinimalDesc:"Exprience calme sans distractions",dopamineNormalDesc:"Retour et motivation quilibrs",dopamineADHDDesc:"Maximum de dopamine! Tous les effets activs ",dopamineCustomize:"Rglages fins",dopamineAnimations:"Animations",dopamineAnimationsDesc:"Transitions et effets fluides",dopamineSounds:"Sons",dopamineSoundsDesc:"Sons de succs et retour audio",dopamineHaptics:"Haptique",dopamineHapticsDesc:"Retour par vibration (mobile uniquement)",dopamineConfetti:"Confettis",dopamineConfettiDesc:"Clbrez les habitudes compltes",dopamineStreakFire:"Feu de srie",dopamineStreakFireDesc:"Feu anim pour les sries",dopamineTip:"Astuce TDAH",dopamineTipText:"Les cerveaux TDAH ont besoin de plus de dopamine! Essayez le mode TDAH pour une motivation maximale. Vous pouvez toujours ajuster les paramtres individuels.",dopamineSave:"Enregistrer et fermer",dailyRewards:"Rcompenses Quotidiennes",loginStreak:"Jours Conscutifs",day:"Jour",claim:"Rclamer!",claimed:"Rclam",streakBonus:"Bonus de Srie",dailyRewardsTip:"Revenez chaque jour pour de meilleures rcompenses!",spinWheel:"Tournez la Roue!",spinsAvailable:"Tours Disponibles",spin:"TOURNER",noSpins:"Plus de Tours",claimPrize:"Rclamer le Prix!",challengeExpired:"Dfi Expir",challengeComplete:"Dfi Termin!",earned:"gagn",comboText:"COMBO",mysteryBox:"Bote Mystre",openBox:"Ouvrir",premium:"ZenFlow Premium",premiumDescription:"Dbloquez des analyses avances, l'export de donnes et des thmes premium!",language:"Langue",selectLanguage:"Slectionner la langue",welcomeTitle:"Bienvenue sur ZenFlow",welcomeSubtitle:"Votre voyage vers une vie consciente commence ici",continue:"Continuer",version:"Version",tagline:"Votre chemin vers une vie consciente ",sun:"Dim",mon:"Lun",tue:"Mar",wed:"Mer",thu:"Jeu",fri:"Ven",sat:"Sam",january:"Janvier",february:"Fvrier",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Aot",september:"Septembre",october:"Octobre",november:"Novembre",december:"Dcembre",welcomeMessage:"Bienvenue sur ZenFlow!",featureMood:"Suivi de l'humeur",featureMoodDescription:"Suivez votre humeur chaque jour",featureHabits:"Habitudes",featureHabitsDescription:"Crez et suivez des habitudes saines",featureFocus:"Sessions de concentration",featureFocusDescription:"Restez concentr avec le minuteur Pomodoro",privacyNote:"Vos donnes sont stockes localement et protges",install:"Installer l'application",installDescription:"Installez ZenFlow sur votre cran d'accueil",onboardingAgeTitle:"Bienvenue sur ZenFlow",onboardingAgeDesc:"Cette application est conue pour les utilisateurs de 13 ans et plus",onboardingAgeConfirm:"J'ai 13 ans ou plus",onboardingAgeNote:"En continuant, vous confirmez que vous avez 13 ans ou plus",healthConnectAgeDesc:"Les fonctionnalits Health Connect ncessitent d'avoir 13 ans ou plus pour utiliser les donnes de sant de manire responsable.",onboardingMoodTitle:"Comment vous sentez-vous?",onboardingMoodDescription:"Suivez votre humeur quotidiennement",onboardingHabitsTitle:"Crez vos premires habitudes",onboardingHabitsDescription:"Commencez par de petits pas",onboardingRemindersTitle:"Rappels",onboardingRemindersDescription:"Recevez des rappels pour vos habitudes",enableReminders:"Activer les rappels",morning:"Matin",afternoon:"Aprs-midi",evening:"Soir",close:"Fermer",skip:"Passer",getStarted:"Commencer",next:"Suivant",remindersActive:"Rappels actifs",greatChoice:"Bon choix!",habitsSelected:"habitudes slectionnes",tutorialWelcomeTitle:"Bienvenue sur ZenFlow",tutorialWelcomeSubtitle:"Votre compagnon de bien-tre personnel",tutorialWelcomeDesc:"Une application conue pour vous aider  rester concentr, crer des habitudes saines et vous sentir mieux chaque jour.",tutorialBrainTitle:"Conu pour votre cerveau",tutorialBrainSubtitle:"Que vous ayez un TDAH ou des difficults  vous concentrer",tutorialBrainDesc:"ZenFlow utilise des techniques scientifiques pour grer l'attention, le temps et l'nergie. Pas besoin de diagnostic  si vous avez du mal  vous concentrer, cette app est pour vous.",tutorialFeaturesTitle:"Ce que vous pouvez faire",tutorialFeaturesSubtitle:"Outils simples, grand impact",tutorialFeaturesDesc:"Suivez vos progrs et gagnez en lan:",tutorialFeature1:"Suivre l'humeur et l'nergie quotidiennes",tutorialFeature2:"Construire des habitudes tape par tape",tutorialFeature2b:" Personnalisez icnes, couleurs et objectifs!",tutorialFeature3:"Sessions de concentration avec sons ambiants",tutorialFeature4:"Journal de gratitude",tutorialMoodTitle:"Comprenez-vous",tutorialMoodSubtitle:"Suivez les humeurs pour trouver des patterns",tutorialMoodDesc:"Des check-ins quotidiens rapides vous aident  remarquer ce qui affecte votre nergie et votre concentration. Avec le temps, vous vous comprendrez mieux.",tutorialFocusTitle:"Mode concentration profonde",tutorialFocusSubtitle:"Bloquez les distractions, accomplissez des choses",tutorialFocusDesc:"Utilisez la technique Pomodoro avec des sons ambiants apaisants. Parfait pour le travail, les tudes ou les projets cratifs.",tutorialDayClockTitle:"Votre journe en un coup d'il",tutorialDayClockSubtitle:"Compteur d'nergie visuel pour cerveaux TDAH",tutorialDayClockDesc:"Voyez votre journe comme un cercle avec des zones matin, aprs-midi et soir. Regardez votre nergie grandir avec chaque activit!",tutorialDayClockFeature1:" Le compteur d'nergie se remplit avec les progrs",tutorialDayClockFeature2:" La mascotte ragit  vos russites",tutorialDayClockFeature3:" Suivez toutes les activits en un seul endroit",tutorialDayClockFeature4:" Atteignez 100% pour la Journe Parfaite!",tutorialMoodThemeTitle:"L'app s'adapte  vous",tutorialMoodThemeSubtitle:"Le design change avec votre humeur",tutorialMoodThemeDesc:"Quand vous vous sentez bien, l'app clbre avec des couleurs vibrantes. Quand vous tes triste, elle devient calme et rconfortante.",tutorialMoodThemeFeature1:" Super humeur: Violet vibrant et dor",tutorialMoodThemeFeature2:" Bonne humeur: Verts chaleureux",tutorialMoodThemeFeature3:" Mauvaise humeur: Bleus apaisants",tutorialMoodThemeFeature4:" Moments difficiles: Design doux et minimal",tutorialReadyTitle:"Prt  commencer?",tutorialReadySubtitle:"Votre voyage commence maintenant",tutorialReadyDesc:"Commencez petit  notez simplement comment vous vous sentez aujourd'hui. Chaque pas compte!",tutorialStart:"C'est parti!",weeklyReport:"Rapport hebdomadaire",weeklyStory:"Histoire de la semaine",incredibleWeek:"Semaine incroyable!",pathToMastery:"Vous tes sur la voie de la matrise!",greatWork:"Excellent travail!",keepMomentum:"Gardez le rythme!",goodProgress:"Bon progrs!",everyStepCounts:"Chaque pas compte!",newWeekOpportunities:"Nouvelle semaine - Nouvelles opportunits!",startSmall:"Commencez petit, avancez!",bestDay:"Meilleur jour",continueBtn:"Continuer",storyAverageMoodScore:"score d'humeur moyen",storyCompletionRate:"taux de compltion",storyTopHabit:"Habitude principale",storyCompletions:"compltes",storyPerfectDays:"jours parfaits cette semaine",storyAvgSession:"session moy.",storyLongestSession:"plus longue",storyMostFocusedOn:"Plus concentr sur:",storyTrackYourJourney:"Suivez votre parcours avec",storyTapLeft:" Appuyez  gauche",storyTapCenter:"Appuyez au centre pour pause",storyTapRight:"Appuyez  droite ",generating:"Gnration...",dayStreak:"jours de suite",keepItUp:"Continue comme a!",myCompanion:"Mon Compagnon",missedYou:"tu lui as manqu!",welcomeBack:"Bienvenue dans ton jardin",warmth:"Chaleur",energy:"nergie",wisdom:"Sagesse",companionStreak:"Jours conscutifs!",chooseCompanion:"Choisir un Compagnon",levelUpHint:"Complte des activits pour gagner des XP et monter de niveau!",pet:"Caresser",feed:"Nourrir",talk:"Parler",happiness:"Bonheur",satiety:"Satit",companionMissesYou:"Hey! Tu me manques! ",companionWantsToPlay:"Tu veux passer du temps? C'est cool ici! ",companionWaiting:"Je t'attends! J'ai un truc cool ",companionProud:"T'ES INCROYABLE! Trop fier! ",companionCheersYou:"Allez allez! Tu peux le faire! ",companionQuickMood:"Psst! a va? Appuie ici! ",myWorld:"Mon monde",plants:"Plantes",creatures:"Cratures",level:"Niveau",startStreak:"Commence ta srie aujourd'hui!",legendaryStreak:"Srie lgendaire!",amazingStreak:"Incroyable!",goodStart:"Excellent dbut!",todayActivities:"Aujourd'hui",companionPet:"Caresser",companionFeed:"Nourrir",companionTalk:"Parler",companionHappiness:"Bonheur",companionHunger:"Satit",companionHungryCanFeed:" J'ai faim... Tu me nourris?",companionHungryNoTreats:" J'ai faim... Fais des activits pour gagner des friandises!",companionStreakLegend:" {streak} jours! Tu es une lgende!",companionStreakGood:" {streak} jours! Continue comme a!",companionAskMood:" Comment tu te sens aujourd'hui?",companionAskHabits:" C'est l'heure des habitudes!",companionAskFocus:" Prt  te concentrer?",companionAskGratitude:" De quoi es-tu reconnaissant?",companionAllDone:" Journe parfaite! Tu es incroyable!",companionHappy:" Je t'aime!",companionMorning:" Bonjour!",companionAfternoon:" Comment va ta journe?",companionEvening:" Bonsoir!",companionNight:" Zzz...",companionLevelUp:" Niveau suprieur! Maintenant niveau {level}!",companionNeedsFood:"Ton compagnon a faim!",petReaction1:" *ronron*",petReaction2:" C'est agrable!",petReaction3:" Merci!",petReaction4:" Je t'aime!",feedReaction1:" Miam!",feedReaction2:" Dlicieux!",feedReaction3:" Merci!",feedReaction4:" nergie!",feedNotEnough:" Il faut {needed} friandises, tu en as {have}",free:"Gratuit",fullness:"Satit",earnTreatsHint:"Fais des activits pour gagner des friandises pour ton compagnon!",myTree:"Mon Arbre",touch:"Toucher",water:"Arroser",waterLevel:"Niveau d'eau",growth:"Croissance",stage:"Stade",treeThirstyCanWater:" L'arbre a besoin d'eau...",treeThirstyNoTreats:" Assoiff... Fais des activits pour gagner des friandises!",treeStreakLegend:" {streak} jours! L'arbre brille!",treeStreakGood:" {streak} jours! Pousse fort!",treeMaxStage:" Un magnifique grand arbre!",treeStage4:" Un bel arbre mature!",treeStage3:" Grandit en un solide arbuste!",treeStage2:" Une jeune pousse qui tend vers la lumire!",treeStage1:" Une petite graine pleine de potentiel!",treeHappy:" L'arbre s'panouit!",treeSeason:"{emoji} Belle {season}!",treeStageUp:" volu en {stage}!",treeMissedYou:"Ton arbre t'a manqu!",treeNeedsWater:"L'arbre a besoin d'eau!",waterDecayHint:"Le niveau d'eau baisse de -2% par heure",seasonTreeHint:"L'arbre change avec les saisons!",xpToNextStage:"{xp} XP jusqu' {stage}",touchReaction1:" *bruissement de feuilles*",touchReaction2:" Les feuilles dansent!",touchReaction3:" Je me sens vivant!",touchReaction4:" Je deviens plus fort!",waterReaction1:" *absorbe l'eau*",waterReaction2:" Rafrachissant!",waterReaction3:" Merci!",waterReaction4:" Je grandis!",waterNotEnough:" Il faut {needed} friandises, tu en as {have}",restDayTitle:"Jour de repos",restDayMessage:"Repose-toi, ta srie est en scurit",restDayButton:"Jour de repos",restDayCancel:"Je veux quand mme enregistrer",daysSaved:"jours prservs",expand:"Dvelopper",collapse:"Rduire",moodRecordedShort:"Humeur enregistre",habitsCompletedShort:"Habitudes compltes",focusCompletedShort:"Focus termin",gratitudeAddedShort:"Gratitude ajoute",allComplete:"Tout est fait!",allCompleteMessage:"Vous avez termin toutes les activits d'aujourd'hui",allCompleteSupportive:" demain!",allCompleteLegend:"Journe lgendaire!",allCompleteAmazing:"Incroyable!",allCompleteGreat:"Excellent travail!",allCompleteNice:"Bon travail!",daysStreak:"jours conscutifs",restDaySupportive:"On continue ensemble demain ",restDayCooldown:"Le jour de repos a t utilis rcemment",restDayAvailableIn:"Disponible dans",taskMomentum:"Tches",taskMomentumDesc:"Priorisation adapte au TDAH",tasksInARow:"tches de suite",taskNamePlaceholder:"Nom de la tche...",durationMinutes:"Dure (minutes)",interestLevel:"Intrt (1-10)",markAsUrgent:"Marquer comme urgent",urgent:"Urgent",addTask:"Ajouter",topRecommendedTasks:"Top 3 tches recommandes",quickWins:"Victoires rapides (moins de 2 min)",allTasks:"Toutes les tches",noTasksYet:"Pas encore de tches",addFirstTaskMessage:"Ajoute ta premire tche pour commencer!",addFirstTask:"Ajouter une tche",adhdTaskTips:"Conseils TDAH",taskTip1:"Commence par les victoires rapides (2-5 min)",taskTip2:"Gagne en lan avec des compltions conscutives",taskTip3:"Les tches intressantes donnent plus de dopamine",taskTip4:"Urgent + court = combo parfait",tasks:"Tches",quests:"Qutes",challenges:"Dfis",openTasks:"Ouvrir les tches",openQuests:"Ouvrir les qutes",openChallenges:"Ouvrir les dfis",randomQuests:"Qutes alatoires",questsPanelSubtitle:"Complte des qutes pour des XP bonus et des badges exclusifs",adhdEngagementSystem:"Systme d'engagement TDAH",adhdEngagementDesc:"Les qutes offrent varit et rcompenses inattendues - parfait pour les cerveaux TDAH en qute de nouveaut!",dailyQuest:"Qute quotidienne",weeklyQuest:"Qute hebdomadaire",bonusQuest:"Qute bonus",newQuest:"Nouvelle qute",limitedTime:"Temps limit",generate:"Gnrer",noQuestAvailable:"Aucune qute disponible",noBonusQuestAvailable:"Aucune qute bonus disponible",bonusQuestsHint:"Les qutes bonus apparaissent alatoirement ou peuvent tre gnres manuellement",questProgress:"Progrs:",questExpired:"Expir",questType:"Qute",questTips:"Conseils pour les qutes",questTipDaily:"Les qutes quotidiennes se rinitialisent toutes les 24 heures",questTipWeekly:"Les qutes hebdomadaires offrent 3x XP",questTipBonus:"Les qutes bonus sont rares avec 5x XP",questTipExpire:"Complte les qutes avant leur expiration!",companionHungry:"J'ai faim... Tu me nourris?",back:"Retour",start:"Commencer",stop:"Arrter",allHabitsComplete:"Toutes les habitudes termines!",amazingWork:"Excellent travail aujourd'hui!",pageNotFound:"Page non trouve",goHome:"Accueil",insightsTitle:"Aperus Personnels",insightsNotEnoughData:"Continue  suivre ton humeur, tes habitudes et ta concentration pendant une semaine pour dbloquer des aperus personnaliss sur tes habitudes.",insightsNoPatterns:"Aucun schma fort dtect pour le moment. Continue  suivre de manire cohrente pour dcouvrir ce qui fonctionne le mieux pour toi!",insightsHelpTitle:" propos des Aperus",insightsHelp1:"Les aperus sont gnrs  partir de tes donnes personnelles  l'aide d'analyses statistiques.",insightsHelp2:"Toute l'analyse se fait localement sur ton appareil - tes donnes ne partent jamais.",insightsHelp3:"Les schmas avec une confiance plus leve sont affichs en premier.",insightsDismiss:"Ignorer",insightsShowMore:"Afficher plus",insightsShowLess:"Afficher moins",insightsDismissedCount:"aperus ignors",insightsMoodEntries:"entres d'humeur",insightsHabitCount:"habitude",insightsFocusSessions:"sessions de concentration",weeklyInsights:"Insights Hebdomadaires",weeklyInsightsNotEnoughData:"Suivez vos progrs cette semaine pour dbloquer des insights et recommandations personnaliss.",comparedToLastWeek:"Par rapport  la semaine dernire",recommendations:"Recommandations",avgMood:"Humeur moy.",week:"Semaine",recLowMoodTitle:"Humeur  surveiller",recLowMoodDesc:"Votre humeur cette semaine a t plus basse que d'habitude. Essayez des activits qui vous remontent gnralement le moral.",recLowMoodAction:"Essayez un exercice de respiration de 5 minutes",recHabitDeclineTitle:"Habitudes en baisse",recHabitDeclineDesc:"L'accomplissement de vos habitudes a diminu par rapport  la semaine dernire. Commencez petit pour reprendre l'lan.",recHabitDeclineAction:"Concentrez-vous sur une seule habitude aujourd'hui",recLowFocusTitle:"Augmentez votre temps de concentration",recLowFocusDesc:"Vous avez eu peu de sessions de concentration cette semaine. Mme les courtes sessions aident  crer l'habitude.",recLowFocusAction:"Essayez une session de concentration de 10 minutes",recGreatProgressTitle:"Vous tes en pleine forme !",recGreatProgressDesc:"Votre progression s'amliore par rapport  la semaine dernire. Continuez comme a !",recBestDayTitle:"C'tait votre meilleur jour",recBestDayDesc:"Essayez d'identifier ce qui a rendu cette journe spciale et reproduisez ces conditions.",recGratitudeTitle:"Pratiquez la gratitude",recGratitudeDesc:"crire les choses pour lesquelles vous tes reconnaissant peut amliorer significativement votre humeur au fil du temps.",recGratitudeAction:"Ajoutez une entre de gratitude aujourd'hui",recPerfectWeekTitle:"Constance incroyable !",recPerfectWeekDesc:"Vous avez accompli la plupart de vos habitudes cette semaine. Vous construisez des routines solides !",recTopHabitTitle:"Continuez cette habitude",recTopHabitDesc:"C'est l'une de vos habitudes les plus constantes. Elle contribue probablement  votre bien-tre.",smartReminders:"Rappels Intelligents",smartRemindersNotEnoughData:"Continuez  utiliser l'app pour dbloquer des suggestions personnalises bases sur vos habitudes.",smartRemindersOptimized:"Vos horaires de rappel sont bien optimiss ! Continuez ainsi.",smartRemindersDescription:"Suggestions personnalises bases sur vos habitudes d'utilisation",suggestions:"suggestions",highConfidence:"Haute confiance",mediumConfidence:"Moyenne",lowConfidence:"Suggestion",apply:"Appliquer",habitRemindersOptimal:"Horaires optimaux des habitudes",patternBased:"Modle",syncOffline:"Hors ligne",syncSyncing:"Synchronisation",syncLastSync:"Synchronis",syncReady:"Prt  synchroniser",syncBackup:"sauvegarde",syncReminders:"rappels",syncChallenges:"dfis",syncTasks:"tches",syncInnerWorld:"progrs",syncBadges:"badges",onboardingTryNow:"Essayer maintenant",onboardingGotIt:"Compris!",onboardingNext:"Suivant",onboardingGetStarted:"Commenons!",onboardingWelcomeTitle:"Bienvenue sur ZenFlow! ",onboardingWelcomeDescription:"Nous sommes ravis de t'aider  crer de meilleures habitudes et  comprendre ce qui fonctionne pour TON cerveau.",onboardingDay1Title:"Commenons simplement",onboardingDay1Description:"Aujourd'hui, nous nous concentrerons sur deux choses seulement : suivre ton humeur et crer ta premire habitude. Rien d'crasant.",onboardingGradualTitle:"Plus de fonctionnalits se dbloquent progressivement",onboardingGradualDescription:"Au cours des 4 prochains jours, tu dcouvriras de nouvelles fonctionnalits au fur et  mesure de ta progression. Pas de surcharge d'informations!",onboardingDayProgress:"Jour {day} sur {maxDay}",onboardingFeaturesUnlocked:"fonctionnalits",onboardingNextUnlock:"Prochain dblocage",onboardingfocusTimerUnlockTitle:" Minuteur de Focus Dbloqu!",onboardingfocusTimerUnlockSubtitle:"Excellent progrs!",onboardingfocusTimerDescription:"Utilise le minuteur Pomodoro pour une concentration profonde. Rgle 25 minutes, concentre-toi sur une tche, puis fais une pause. Parfait pour les cerveaux ADHD!",onboardingxpUnlockTitle:" Systme XP Dbloqu!",onboardingxpUnlockSubtitle:"C'est l'heure de la gamification!",onboardingxpDescription:"Gagne de l'exprience en compltant des habitudes, des sessions de focus et le suivi de l'humeur. Monte de niveau et dbloque de nouveaux accomplissements!",onboardingquestsUnlockTitle:" Qutes Dbloques!",onboardingquestsUnlockSubtitle:"Nouveaux dfis!",onboardingquestsDescription:"Les qutes quotidiennes et hebdomadaires ajoutent de la varit  ta routine. Complte-les pour des rcompenses bonus!",onboardingcompanionUnlockTitle:" Compagnon Dbloqu!",onboardingcompanionUnlockSubtitle:"Rencontre ton assistant!",onboardingcompanionDescription:"Ton compagnon virtuel grandit avec toi, clbre les victoires et te soutient dans les moments difficiles. Choisis parmi 5 types!",onboardingtasksUnlockTitle:" Tches Dbloques!",onboardingtasksUnlockSubtitle:"Accs complet!",onboardingtasksDescription:"Task Momentum aide  prioriser les tches spcifiquement pour ADHD. Le systme recommande quoi faire ensuite en fonction de l'urgence et de ton nergie.",onboardingchallengesUnlockTitle:" Dfis Dbloqus!",onboardingchallengesUnlockSubtitle:"Accs complet!",onboardingchallengesDescription:"Participe  des dfis  long terme pour dvelopper des comptences. Suis les progrs et gagne des badges exclusifs!",reengageTitle:"Bon retour!",reengageSubtitle:"Tu as t absent {days} jours",reengageStreakBroken:"Statut de srie",reengageStreakProtected:"Srie protge!",reengageStreakBrokenMsg:"Ta srie a t rinitialise, mais tu peux recommencer aujourd'hui! Srie prcdente: {streak} jours.",reengageStreakProtectedMsg:"Ta srie de {streak} jours est sre! Continue!",reengageBestHabits:"Tes meilleures habitudes",reengageSuccessRate:"succs",reengageQuickMood:"Comment te sens-tu?",reengageMoodLogged:"Humeur enregistre!",reengageContinue:"Continuer!",trendsTitle:"Tes Tendances",trendsAvgMood:"Humeur Moy.",trendsHabitRate:"Taux Habitudes",trendsFocusTime:"Focus",trendsMoodChart:"Humeur Au Fil Du Temps",trendsHabitChart:"Achvement Habitudes",trendsFocusChart:"Temps de Focus",trendsTotalFocus:"Total",trendsInsightHint:"Tu veux des insights personnaliss?",trendsInsightHintDesc:"Consulte le panneau Insights sur l'onglet principal pour dcouvrir des motifs dans tes donnes.",healthConnect:"Health Connect",healthConnectDescription:"Synchroniser avec Google Health Connect",healthConnectLoading:"Vrification de Health Connect...",healthConnectNotAvailable:"Non disponible sur cet appareil",healthConnectUpdateRequired:"Veuillez mettre  jour l'app Health Connect",mindfulness:"Pleine conscience",sleep:"Sommeil",steps:"Pas",stepsLabel:"pas",grantPermissions:"Accorder les permissions",todayHealth:"Sant aujourd'hui",syncFocusSessions:"Synchroniser les sessions focus",syncFocusSessionsHint:"Enregistrer les sessions focus comme pleine conscience dans Health Connect",openHealthConnect:"Ouvrir Health Connect",refresh:"Actualiser",permissions:"Permissions",questMorningMomentum:"lan Matinal",questMorningMomentumDesc:"Complte 3 habitudes avant 12h00",questHabitMaster:"Matre des Habitudes",questHabitMasterDesc:"Complte 5 habitudes aujourd'hui",questSpeedDemon:"Dmon de Vitesse",questSpeedDemonDesc:"Complte 3 habitudes en 30 minutes",questFocusFlow:"Flux de Concentration",questFocusFlowDesc:"30 minutes de concentration sans pause",questDeepWork:"Travail Profond",questDeepWorkDesc:"60 minutes de travail concentr",questHyperfocusHero:"Hros d'Hyperconcentration",questHyperfocusHeroDesc:"90 minutes en Mode Hyperconcentration",questStreakKeeper:"Gardien de Srie",questStreakKeeperDesc:"Maintiens ta srie pendant 7 jours",questConsistencyKing:"Roi de la Constance",questConsistencyKingDesc:"Maintiens ta srie pendant 14 jours",questGratitudeSprint:"Sprint de Gratitude",questGratitudeSprintDesc:"cris 5 gratitudes en 5 minutes",questThankfulHeart:"Cur Reconnaissant",questThankfulHeartDesc:"cris 10 gratitudes aujourd'hui",questLightningRound:"Tour clair",questLightningRoundDesc:"Complte 5 tches rapides en 15 minutes",questWeeklyWarrior:"Guerrier Hebdomadaire",questWeeklyWarriorDesc:"Complte des habitudes 7 jours d'affile",feedbackTitle:"Envoyer un commentaire",feedbackSubtitle:"Aidez-nous  amliorer l'application",feedbackCategoryBug:"Signaler un bug",feedbackCategoryFeature:"Suggrer une fonctionnalit",feedbackCategoryOther:"Autre",feedbackMessagePlaceholder:"Dcrivez votre problme ou suggestion...",feedbackEmailPlaceholder:"Email (optionnel)",feedbackSubmit:"Envoyer",feedbackSuccess:"Merci pour votre retour !",feedbackError:"chec de l'envoi. Veuillez ressayer.",feedbackSending:"Envoi en cours...",sendFeedback:"Nous contacter",rateAppTitle:"Vous aimez ZenFlow ?",rateAppSubtitle:"Notez-nous sur Play Store",rateAppButton:"Noter",rateAppLater:"Plus tard",updateAvailable:"Mise  jour disponible",updateDescription:"Une nouvelle version est prte  installer avec des amliorations et corrections.",updateDescriptionCritical:"Une mise  jour critique est requise pour continuer  utiliser l'application.",updateNow:"Mettre  jour",updateAvailableFor:"Disponible depuis {days} jours",quickActions:"Actions rapides",quickActionsDescription:"Afficher une notification avec des actions rapides sur l'cran de verrouillage",quickActionsEnabled:"Actions rapides actives",quickActionsDisabled:"Actions rapides dsactives",quickActionLogMood:"Enregistrer humeur",quickActionStartFocus:"Dmarrer focus",quickActionViewHabits:"Voir habitudes",notificationSound:"Son de notification",notificationSoundDescription:"Choisissez le son pour les rappels",soundDefault:"Par dfaut",soundDefaultDesc:"Son de notification systme",soundGentle:"Doux",soundGentleDesc:"Vibration uniquement",soundChime:"Carillon",soundChimeDesc:"Tonalit de notification courte",soundSilent:"Silencieux",soundSilentDesc:"Pas de son ni de vibration",testNotification:"Notification de test",testNotificationHint:"Envoie une notification de test dans 5 secondes pour vrifier le fonctionnement.",insightConfidence:"Confiance",insightDataPoints:"Points de donnes",insightAvgMoodWith:"Humeur moyenne avec habitude",insightAvgMoodWithout:"Humeur moyenne sans habitude",insightSampleDays:"Jours chantillonns",insightBestActivity:"Meilleure activit",insightPeakTime:"Heure de pointe",insightAvgDuration:"Dure moyenne",insightSessions:"Sessions",insightTagOccurrences:"Occurrences de tag",insightMoodWithTag:"Humeur avec tag",insightMoodWithoutTag:"Humeur sans tag",insightDisclaimer:"Cet aperu est bas sur vos donnes. Les tendances peuvent changer.",times:"fois",noMoodDataYet:"Pas encore de donnes d'humeur",noEmotionDataYet:"Pas encore de donnes d'motion",xp:"XP"}},languageNames={ru:"",en:"English",uk:"",es:"Espaol",de:"Deutsch",fr:"Franais"},languageFlags={ru:"",en:"",uk:"",es:"",de:"",fr:""},LanguageContext=reactExports.createContext(void 0),SUPPORTED_LANGUAGES=["en","ru","uk","es","de","fr"];function detectBrowserLanguage(){try{const e=navigator.language||navigator.userLanguage;if(!e||typeof e!="string")return"en";const r=e.split("-")[0]?.toLowerCase()||"en";return SUPPORTED_LANGUAGES.includes(r)?r:"en"}catch{return"en"}}function LanguageProvider({children:e}){const r=detectBrowserLanguage(),[i,n]=useLocalStorage("zenflow-language",r),a=reactExports.useRef(!1);reactExports.useEffect(()=>{if(a.current)return;if(a.current=!0,!localStorage.getItem("zenflow-language-selected")){const c=detectBrowserLanguage();c!==i&&n(c)}},[i,n]);const o=translations[i];return jsxRuntimeExports.jsx(LanguageContext.Provider,{value:{language:i,setLanguage:n,t:o},children:e})}function useLanguage(){const e=reactExports.useContext(LanguageContext);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e}const emotionThemes={joy:{emotion:"joy",primaryHue:45,accentHue:35,saturation:80,brightness:1.15,gradientFrom:"rgba(251, 191, 36, 0.15)",gradientVia:"rgba(253, 224, 71, 0.1)",gradientTo:"rgba(250, 204, 21, 0.1)",animationSpeed:1.4,particleIntensity:1,shadowIntensity:.8,borderRadius:1.2},trust:{emotion:"trust",primaryHue:150,accentHue:160,saturation:60,brightness:1.05,gradientFrom:"rgba(74, 222, 128, 0.12)",gradientVia:"rgba(52, 211, 153, 0.08)",gradientTo:"rgba(34, 197, 94, 0.1)",animationSpeed:1.1,particleIntensity:.7,shadowIntensity:.6,borderRadius:1.1},fear:{emotion:"fear",primaryHue:175,accentHue:190,saturation:40,brightness:.95,gradientFrom:"rgba(94, 234, 212, 0.1)",gradientVia:"rgba(45, 212, 191, 0.08)",gradientTo:"rgba(20, 184, 166, 0.1)",animationSpeed:.7,particleIntensity:.2,shadowIntensity:.3,borderRadius:1.4,supportMessage:"support_fear"},surprise:{emotion:"surprise",primaryHue:210,accentHue:200,saturation:70,brightness:1.1,gradientFrom:"rgba(96, 165, 250, 0.12)",gradientVia:"rgba(147, 197, 253, 0.1)",gradientTo:"rgba(59, 130, 246, 0.1)",animationSpeed:1.3,particleIntensity:.9,shadowIntensity:.7,borderRadius:1.15},sadness:{emotion:"sadness",primaryHue:230,accentHue:250,saturation:35,brightness:.9,gradientFrom:"rgba(129, 140, 248, 0.1)",gradientVia:"rgba(165, 180, 252, 0.08)",gradientTo:"rgba(99, 102, 241, 0.1)",animationSpeed:.6,particleIntensity:.1,shadowIntensity:.25,borderRadius:1.5,supportMessage:"support_sadness"},disgust:{emotion:"disgust",primaryHue:280,accentHue:290,saturation:45,brightness:.95,gradientFrom:"rgba(192, 132, 252, 0.1)",gradientVia:"rgba(168, 85, 247, 0.08)",gradientTo:"rgba(139, 92, 246, 0.1)",animationSpeed:.8,particleIntensity:.3,shadowIntensity:.4,borderRadius:1.2,supportMessage:"support_disgust"},anger:{emotion:"anger",primaryHue:200,accentHue:210,saturation:50,brightness:.95,gradientFrom:"rgba(125, 211, 252, 0.1)",gradientVia:"rgba(96, 165, 250, 0.08)",gradientTo:"rgba(56, 189, 248, 0.1)",animationSpeed:.5,particleIntensity:0,shadowIntensity:.2,borderRadius:1.6,supportMessage:"support_anger"},anticipation:{emotion:"anticipation",primaryHue:25,accentHue:35,saturation:70,brightness:1.08,gradientFrom:"rgba(251, 146, 60, 0.12)",gradientVia:"rgba(253, 186, 116, 0.1)",gradientTo:"rgba(249, 115, 22, 0.1)",animationSpeed:1.2,particleIntensity:.8,shadowIntensity:.65,borderRadius:1.1},neutral:{emotion:"neutral",primaryHue:250,accentHue:200,saturation:50,brightness:1,gradientFrom:"rgba(139, 92, 246, 0.1)",gradientVia:"rgba(168, 85, 247, 0.05)",gradientTo:"rgba(192, 132, 252, 0.08)",animationSpeed:1,particleIntensity:.5,shadowIntensity:.5,borderRadius:1}},emotionSupportMessages={support_fear:{ru:" -  .    .",en:"Fear is normal. You're safe here.",uk:" -  .    .",es:"El miedo es normal. Ests a salvo aqu.",de:"Angst ist normal. Du bist hier sicher.",fr:"La peur est normale. Tu es en scurit ici."},support_sadness:{ru:" .    .",en:"Sadness will pass. Let yourself feel it.",uk:" .    .",es:"La tristeza pasar. Permtete sentirla.",de:"Traurigkeit wird vergehen. Erlaube dir, sie zu fhlen.",fr:"La tristesse passera. Permets-toi de la ressentir."},support_anger:{ru:" .   .",en:"Deep breath. Your feelings matter.",uk:" .   .",es:"Respira profundo. Tus sentimientos importan.",de:"Tief durchatmen. Deine Gefhle sind wichtig.",fr:"Respire profondment. Tes sentiments comptent."},support_disgust:{ru:"    .",en:"Unpleasant emotions are also part of life.",uk:"    .",es:"Las emociones desagradables tambin son parte de la vida.",de:"Unangenehme Gefhle gehren auch zum Leben.",fr:"Les motions dsagrables font aussi partie de la vie."}},EmotionThemeContext=reactExports.createContext(null);function EmotionThemeProvider({children:e}){const[r,i]=reactExports.useState("neutral"),[n,a]=reactExports.useState(emotionThemes.neutral),[o,l]=reactExports.useState(!1),c=y=>{const x=getToday$1(),S=y.filter(N=>N.date===x);if(S.length===0){r!=="neutral"&&p("neutral");return}const T=S.sort((N,k)=>k.timestamp-N.timestamp)[0].emotion?.primary||"neutral";T!==r&&p(T)},d=y=>{y!==r&&p(y)},p=y=>{l(!0),setTimeout(()=>{i(y),a(emotionThemes[y])},150),setTimeout(()=>{l(!1)},600)},g=y=>{if(!n.supportMessage)return null;const x=emotionSupportMessages[n.supportMessage];return x?.[y]||x?.en||null};return reactExports.useEffect(()=>{const y=document.documentElement;y.style.setProperty("--emotion-primary-hue",String(n.primaryHue)),y.style.setProperty("--emotion-accent-hue",String(n.accentHue)),y.style.setProperty("--emotion-saturation",`${n.saturation}%`),y.style.setProperty("--emotion-brightness",String(n.brightness)),y.style.setProperty("--emotion-gradient-from",n.gradientFrom),y.style.setProperty("--emotion-gradient-via",n.gradientVia),y.style.setProperty("--emotion-gradient-to",n.gradientTo),y.style.setProperty("--emotion-animation-speed",String(n.animationSpeed)),y.style.setProperty("--emotion-particle-intensity",String(n.particleIntensity)),y.style.setProperty("--emotion-shadow-intensity",String(n.shadowIntensity)),y.style.setProperty("--emotion-border-radius",String(n.borderRadius)),y.style.setProperty("--mood-primary-hue",String(n.primaryHue)),y.style.setProperty("--mood-accent-hue",String(n.accentHue)),y.style.setProperty("--mood-saturation",`${n.saturation}%`),y.style.setProperty("--mood-brightness",String(n.brightness)),y.style.setProperty("--mood-gradient-from",n.gradientFrom),y.style.setProperty("--mood-gradient-via",n.gradientVia),y.style.setProperty("--mood-gradient-to",n.gradientTo),y.style.setProperty("--mood-animation-speed",String(n.animationSpeed)),y.style.setProperty("--mood-particle-intensity",String(n.particleIntensity)),y.style.setProperty("--mood-shadow-intensity",String(n.shadowIntensity)),y.style.setProperty("--mood-border-radius",String(n.borderRadius));const x=["emotion-joy","emotion-trust","emotion-fear","emotion-surprise","emotion-sadness","emotion-disgust","emotion-anger","emotion-anticipation","emotion-neutral","mood-great","mood-good","mood-okay","mood-bad","mood-terrible","mood-neutral"];document.body.classList.remove(...x),document.body.classList.add(`emotion-${r}`)},[n,r]),jsxRuntimeExports.jsx(EmotionThemeContext.Provider,{value:{currentTheme:n,currentEmotion:r,setEmotionFromEntries:c,setEmotionDirectly:d,getSupportMessage:g,isTransitioning:o},children:e})}function useEmotionTheme(){const e=reactExports.useContext(EmotionThemeContext);if(!e)throw new Error("useEmotionTheme must be used within an EmotionThemeProvider");return e}function getXpConfig(e){switch(e){case"mood":return{icon:Sparkles,color:"text-purple-400",glow:"purple"};case"habit":return{icon:Star,color:"text-green-400",glow:"green"};case"focus":return{icon:Zap,color:"text-blue-400",glow:"blue"};case"gratitude":return{icon:Heart,color:"text-pink-400",glow:"pink"};case"breathing":return{icon:Wind,color:"text-cyan-400",glow:"cyan"};case"mindful":return{icon:Wind,color:"text-teal-400",glow:"teal"};case"streak":return{icon:Flame,color:"text-orange-400",glow:"orange"};case"bonus":return{icon:Sparkles,color:"text-amber-400",glow:"amber"};default:return{icon:Sparkles,color:"text-purple-400",glow:"purple"}}}function XpPopupItem({event:e,onComplete:r}){const[i,n]=reactExports.useState("enter"),a=getXpConfig(e.type),o=a.icon;return reactExports.useEffect(()=>{const l=setTimeout(()=>n("float"),100),c=setTimeout(()=>n("exit"),1200),d=setTimeout(r,1800);return()=>{clearTimeout(l),clearTimeout(c),clearTimeout(d)}},[r]),jsxRuntimeExports.jsxs("div",{className:cn("fixed pointer-events-none z-[10000] flex flex-col items-center gap-1","transition-all duration-500 ease-out",i==="enter"&&"opacity-0 scale-50",i==="float"&&"opacity-100 scale-100",i==="exit"&&"opacity-0 scale-75"),style:{left:e.x,top:e.y,transform:`translate(-50%, -50%) translateY(${i==="float"?"-40px":i==="exit"?"-80px":"0"})`},children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-1.5 px-3 py-1.5 rounded-full","bg-black/80 backdrop-blur-sm border border-white/20","shadow-lg"),style:{boxShadow:"0 0 20px var(--tw-shadow-color), 0 0 40px var(--tw-shadow-color)","--tw-shadow-color":`var(--${a.glow}-500)`},children:[jsxRuntimeExports.jsx(o,{className:cn("w-4 h-4",a.color)}),jsxRuntimeExports.jsxs("span",{className:cn("font-bold text-sm",a.color),children:["+",e.amount," XP"]})]}),e.message&&jsxRuntimeExports.jsx("span",{className:"text-xs text-white/70 bg-black/60 px-2 py-0.5 rounded-full backdrop-blur-sm",children:e.message})]})}const listeners$1=new Set;function triggerXpPopup(e,r,i,n){const a={x:window.innerWidth/2,y:window.innerHeight/2-100},o={id:`${Date.now()}-${Math.random()}`,amount:e,type:r,x:a.x,y:a.y,message:n};listeners$1.forEach(l=>l(o))}function XpPopupProvider({children:e}){const[r,i]=reactExports.useState([]);reactExports.useEffect(()=>{const a=o=>{i(l=>[...l,o])};return listeners$1.add(a),()=>{listeners$1.delete(a)}},[]);const n=reactExports.useCallback(a=>{i(o=>o.filter(l=>l.id!==a))},[]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e,typeof document<"u"&&reactDomExports.createPortal(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:r.map(a=>jsxRuntimeExports.jsx(XpPopupItem,{event:a,onComplete:()=>n(a.id)},a.id))}),document.body)]})}const listeners=new Set;function FlyingEmojiItem({emoji:e,onComplete:r}){const[i,n]=reactExports.useState("start");return reactExports.useEffect(()=>{requestAnimationFrame(()=>n("fly"));const a=setTimeout(()=>n("land"),600),o=setTimeout(r,900);return()=>{clearTimeout(a),clearTimeout(o)}},[r]),e.endX-e.startX,e.endY-e.startY,jsxRuntimeExports.jsx("div",{className:cn("fixed pointer-events-none z-[10002] text-4xl","transition-all duration-600 ease-out",i==="start"&&"scale-100 opacity-100",i==="fly"&&"scale-75 opacity-90",i==="land"&&"scale-50 opacity-0"),style:{left:i==="start"?e.startX:e.endX,top:i==="start"?e.startY:e.endY,transform:`translate(-50%, -50%) ${i==="fly"?"rotate(360deg)":"rotate(0deg)"}`,transition:i==="start"?"none":"all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)",filter:i==="fly"?"drop-shadow(0 0 20px currentColor)":"none"},children:jsxRuntimeExports.jsxs("span",{className:"relative",children:[e.emoji,i==="fly"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:[...Array(5)].map((a,o)=>jsxRuntimeExports.jsx("span",{className:"absolute inset-0 animate-ping opacity-30",style:{animationDelay:`${o*.1}s`,animationDuration:"0.5s"},children:e.emoji},o))})]})})}function FlyingEmojiProvider({children:e}){const[r,i]=reactExports.useState([]);reactExports.useEffect(()=>{const a=o=>{i(l=>[...l,o])};return listeners.add(a),()=>{listeners.delete(a)}},[]);const n=reactExports.useCallback(a=>{i(o=>o.filter(l=>l.id!==a))},[]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e,typeof document<"u"&&reactDomExports.createPortal(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:r.map(a=>jsxRuntimeExports.jsx(FlyingEmojiItem,{emoji:a,onComplete:()=>n(a.id)},a.id))}),document.body)]})}const APP_VERSION="1.4.2",DATA_SCHEMA_VERSION=2,APP_METADATA_KEY="zenflow-app-metadata",getAppMetadata=()=>{const e=localStorage.getItem(APP_METADATA_KEY);return e?safeJsonParse(e,null):null},saveAppMetadata=e=>{try{localStorage.setItem(APP_METADATA_KEY,JSON.stringify(e))}catch(r){logger.error("[AppVersion] Failed to save metadata:",r)}},wasAppUpdated=()=>{const e=getAppMetadata();return e?e.appVersion!==APP_VERSION:!1},initializeAppMetadata=()=>{const e=getAppMetadata(),r=new Date().toISOString();if(!e){const i={appVersion:APP_VERSION,dataSchemaVersion:DATA_SCHEMA_VERSION,lastUpdateDate:r,installDate:r,updateCount:0};return saveAppMetadata(i),i}if(e.appVersion!==APP_VERSION){const i={...e,appVersion:APP_VERSION,dataSchemaVersion:DATA_SCHEMA_VERSION,lastUpdateDate:r,updateCount:e.updateCount+1};return saveAppMetadata(i),i}return e};/*! Capacitor: https://capacitorjs.com/ - MIT License */var ExceptionCode;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(ExceptionCode||(ExceptionCode={}));class CapacitorException extends Error{constructor(r,i,n){super(r),this.message=r,this.code=i,this.data=n}}const getPlatformId=e=>{var r,i;return e?.androidBridge?"android":!((i=(r=e?.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},createCapacitor=e=>{const r=e.CapacitorCustomPlatform||null,i=e.Capacitor||{},n=i.Plugins=i.Plugins||{},a=()=>r!==null?r.name:getPlatformId(e),o=()=>a()!=="web",l=y=>{const x=p.get(y);return!!(x?.platforms.has(a())||c(y))},c=y=>{var x;return(x=i.PluginHeaders)===null||x===void 0?void 0:x.find(S=>S.name===y)},d=y=>e.console.error(y),p=new Map,g=(y,x={})=>{const S=p.get(y);if(S)return console.warn(`Capacitor plugin "${y}" already registered. Cannot register plugins twice.`),S.proxy;const b=a(),T=c(y);let N;const k=async()=>(!N&&b in x?N=typeof x[b]=="function"?N=await x[b]():N=x[b]:r!==null&&!N&&"web"in x&&(N=typeof x.web=="function"?N=await x.web():N=x.web),N),C=(B,Z)=>{var re,U;if(T){const q=T?.methods.find(Y=>Z===Y.name);if(q)return q.rtype==="promise"?Y=>i.nativePromise(y,Z.toString(),Y):(Y,fe)=>i.nativeCallback(y,Z.toString(),Y,fe);if(B)return(re=B[Z])===null||re===void 0?void 0:re.bind(B)}else{if(B)return(U=B[Z])===null||U===void 0?void 0:U.bind(B);throw new CapacitorException(`"${y}" plugin is not implemented on ${b}`,ExceptionCode.Unimplemented)}},A=B=>{let Z;const re=(...U)=>{const q=k().then(Y=>{const fe=C(Y,B);if(fe){const Q=fe(...U);return Z=Q?.remove,Q}else throw new CapacitorException(`"${y}.${B}()" is not implemented on ${b}`,ExceptionCode.Unimplemented)});return B==="addListener"&&(q.remove=async()=>Z()),q};return re.toString=()=>`${B.toString()}() { [capacitor code] }`,Object.defineProperty(re,"name",{value:B,writable:!1,configurable:!1}),re},R=A("addListener"),I=A("removeListener"),F=(B,Z)=>{const re=R({eventName:B},Z),U=async()=>{const Y=await re;I({eventName:B,callbackId:Y},Z)},q=new Promise(Y=>re.then(()=>Y({remove:U})));return q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await U()},q},z=new Proxy({},{get(B,Z){switch(Z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return T?F:R;case"removeListener":return I;default:return A(Z)}}});return n[y]=z,p.set(y,{name:y,proxy:z,platforms:new Set([...Object.keys(x),...T?[b]:[]])}),z};return i.convertFileSrc||(i.convertFileSrc=y=>y),i.getPlatform=a,i.handleError=d,i.isNativePlatform=o,i.isPluginAvailable=l,i.registerPlugin=g,i.Exception=CapacitorException,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},initCapacitorGlobal=e=>e.Capacitor=createCapacitor(e),Capacitor=initCapacitorGlobal(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),registerPlugin=Capacitor.registerPlugin;class WebPlugin{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,i){let n=!1;this.listeners[r]||(this.listeners[r]=[],n=!0),this.listeners[r].push(i);const o=this.windowListeners[r];o&&!o.registered&&this.addWindowListener(o),n&&this.sendRetainedArgumentsForEvent(r);const l=async()=>this.removeListener(r,i);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,i,n){const a=this.listeners[r];if(!a){if(n){let o=this.retainedEventArguments[r];o||(o=[]),o.push(i),this.retainedEventArguments[r]=o}return}a.forEach(o=>o(i))}hasListeners(r){var i;return!!(!((i=this.listeners[r])===null||i===void 0)&&i.length)}registerWindowListener(r,i){this.windowListeners[i]={registered:!1,windowEventName:r,pluginEventName:i,handler:n=>{this.notifyListeners(i,n)}}}unimplemented(r="not implemented"){return new Capacitor.Exception(r,ExceptionCode.Unimplemented)}unavailable(r="not available"){return new Capacitor.Exception(r,ExceptionCode.Unavailable)}async removeListener(r,i){const n=this.listeners[r];if(!n)return;const a=n.indexOf(i);this.listeners[r].splice(a,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const i=this.retainedEventArguments[r];i&&(delete this.retainedEventArguments[r],i.forEach(n=>{this.notifyListeners(r,n)}))}}const encode=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),decode=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class CapacitorCookiesPluginWeb extends WebPlugin{async getCookies(){const r=document.cookie,i={};return r.split(";").forEach(n=>{if(n.length<=0)return;let[a,o]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=decode(a).trim(),o=decode(o).trim(),i[a]=o}),i}async setCookie(r){try{const i=encode(r.key),n=encode(r.value),a=`; expires=${(r.expires||"").replace("expires=","")}`,o=(r.path||"/").replace("path=",""),l=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${i}=${n||""}${a}; path=${o}; ${l};`}catch(i){return Promise.reject(i)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const i of r)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}registerPlugin("CapacitorCookies",{web:()=>new CapacitorCookiesPluginWeb});const readBlobAsBase64=async e=>new Promise((r,i)=>{const n=new FileReader;n.onload=()=>{const a=n.result;r(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>i(a),n.readAsDataURL(e)}),normalizeHttpHeaders=(e={})=>{const r=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,o,l)=>(a[o]=e[r[l]],a),{})},buildUrlParams=(e,r=!0)=>e?Object.entries(e).reduce((n,a)=>{const[o,l]=a;let c,d;return Array.isArray(l)?(d="",l.forEach(p=>{c=r?encodeURIComponent(p):p,d+=`${o}=${c}&`}),d.slice(0,-1)):(c=r?encodeURIComponent(l):l,d=`${o}=${c}`),`${n}&${d}`},"").substr(1):null,buildRequestInit=(e,r={})=>{const i=Object.assign({method:e.method||"GET",headers:e.headers},r),a=normalizeHttpHeaders(e.headers)["content-type"]||"";if(typeof e.data=="string")i.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[l,c]of Object.entries(e.data||{}))o.set(l,c);i.body=o.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((c,d)=>{o.append(d,c)});else for(const c of Object.keys(e.data))o.append(c,e.data[c]);i.body=o;const l=new Headers(i.headers);l.delete("content-type"),i.headers=l}else(a.includes("application/json")||typeof e.data=="object")&&(i.body=JSON.stringify(e.data));return i};class CapacitorHttpPluginWeb extends WebPlugin{async request(r){const i=buildRequestInit(r,r.webFetchExtra),n=buildUrlParams(r.params,r.shouldEncodeUrlParams),a=n?`${r.url}?${n}`:r.url,o=await fetch(a,i),l=o.headers.get("content-type")||"";let{responseType:c="text"}=o.ok?r:{};l.includes("application/json")&&(c="json");let d,p;switch(c){case"arraybuffer":case"blob":p=await o.blob(),d=await readBlobAsBase64(p);break;case"json":d=await o.json();break;case"document":case"text":default:d=await o.text()}const g={};return o.headers.forEach((y,x)=>{g[x]=y}),{data:d,headers:g,status:o.status,url:o.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}registerPlugin("CapacitorHttp",{web:()=>new CapacitorHttpPluginWeb});var SystemBarsStyle;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(SystemBarsStyle||(SystemBarsStyle={}));var SystemBarType;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(SystemBarType||(SystemBarType={}));class SystemBarsPluginWeb extends WebPlugin{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}registerPlugin("SystemBars",{web:()=>new SystemBarsPluginWeb});const isNative=Capacitor.isNativePlatform(),webFallback={log:e=>{},recordError:(e,r)=>{logger.error("[Crash] Error recorded:",e.message),r&&logger.error("[Crash] Context:",r);try{const i="zenflow-crash-log",n=safeLocalStorageGet(i,[]),a={message:e.message,stack:e.stack,context:r,time:new Date().toISOString()},o=[...n,a].slice(-20);localStorage.setItem(i,JSON.stringify(o))}catch{}},setUserId:e=>{},setEnabled:e=>{},setCustomKey:(e,r)=>{}},nativeCrashlytics={log:e=>{console.log("[ZenFlow]",e)},recordError:(e,r)=>{if(console.error("[ZenFlow Error]",e.message,e.stack),r){const i={...r},n=["password","token","secret","key","auth","credential","email","phone"];for(const a of Object.keys(i))n.some(o=>a.toLowerCase().includes(o))&&(i[a]="[REDACTED]");console.error("[ZenFlow Error Context]",JSON.stringify(i))}},setUserId:e=>{e&&console.log("[ZenFlow User]",e)},setEnabled:e=>{console.log("[ZenFlow Crashlytics]",e?"enabled":"disabled")},setCustomKey:(e,r)=>{console.log(`[ZenFlow ${e}]`,r)}},crashReporting=isNative?nativeCrashlytics:webFallback,LOG_KEY="zenflow-error-log",logError=e=>{try{const r=getAppMetadata(),i={...e,appVersion:APP_VERSION,dataSchemaVersion:r?.dataSchemaVersion||"unknown",time:new Date().toISOString()},a=[...safeLocalStorageGet(LOG_KEY,[]),i].slice(-10);localStorage.setItem(LOG_KEY,JSON.stringify(a))}catch{}},exportDebugReport=e=>{const r=getAppMetadata(),i={version:APP_VERSION,dataSchemaVersion:r?.dataSchemaVersion||"unknown",updateCount:r?.updateCount||0,lastUpdateDate:r?.lastUpdateDate||"unknown",timestamp:new Date().toISOString(),location:window.location.href,userAgent:navigator.userAgent,error:e?{message:e.message,stack:e.stack,name:e.name}:null,storageInfo:{localStorageAvailable:typeof localStorage<"u",indexedDBAvailable:typeof indexedDB<"u"},recentErrors:safeLocalStorageGet(LOG_KEY,[])},n=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),a=URL.createObjectURL(n),o=document.createElement("a");o.href=a,o.download=`zenflow-debug-report-${Date.now()}.json`,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(a)};class ErrorBoundaryBase extends React.Component{state={hasError:!1,error:null};static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r,i){this.setState({error:r}),logError({message:r.message,stack:r.stack,componentStack:i.componentStack,time:new Date().toISOString()}),crashReporting.recordError(r,{componentStack:i.componentStack||"unknown",location:window.location.href})}render(){return this.state.hasError?jsxRuntimeExports.jsx("div",{className:"min-h-screen zen-gradient-hero flex items-center justify-center px-4 py-10",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-card rounded-3xl p-6 zen-shadow-card space-y-4 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-foreground",children:this.props.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:this.props.body}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>this.props.onExport(this.state.error),className:"w-full py-3 bg-secondary text-secondary-foreground rounded-xl font-semibold hover:bg-muted transition-colors",children:this.props.exportLabel}),jsxRuntimeExports.jsx("button",{onClick:this.props.onReload,className:"w-full py-3 zen-gradient text-primary-foreground rounded-xl font-semibold hover:opacity-90 transition-opacity",children:this.props.reloadLabel})]})]})}):this.props.children}}const ErrorBoundary=({children:e})=>{const{t:r}=useLanguage();return jsxRuntimeExports.jsx(ErrorBoundaryBase,{title:r.errorBoundaryTitle,body:r.errorBoundaryBody,exportLabel:r.errorBoundaryExport,reloadLabel:r.errorBoundaryReload,onExport:i=>exportDebugReport(i),onReload:()=>window.location.reload(),children:e})},scriptRel="modulepreload",assetsURL=function(e){return"/people-first-app/"+e},seen={},__vitePreload=function(r,i,n){let a=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");a=Promise.allSettled(i.map(d=>{if(d=assetsURL(d),d in seen)return;seen[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":scriptRel,p||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((x,S)=>{y.addEventListener("load",x),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})},refreshListeners=new Set,triggerDataRefresh=()=>{refreshListeners.forEach(e=>e())},INDEXEDDB_TIMEOUT_MS=5e3,withTimeout=(e,r,i)=>Promise.race([e,new Promise(n=>{setTimeout(()=>{n(i)},r)})]);let globalInitLock=!1;const initQueue=[];let lockTimeout=null;const acquireInitLock=async()=>new Promise(e=>{globalInitLock?initQueue.push(()=>e()):(globalInitLock=!0,lockTimeout=setTimeout(()=>{releaseInitLock()},1e4),e())}),releaseInitLock=()=>{lockTimeout&&(clearTimeout(lockTimeout),lockTimeout=null);const e=initQueue.shift();e?e():globalInitLock=!1};function useIndexedDB({table:e,localStorageKey:r,initialValue:i,idField:n="id"}){const[a,o]=reactExports.useState(i),[l,c]=reactExports.useState(!0),[d,p]=reactExports.useState(0),g=reactExports.useRef(!1),y=reactExports.useRef(i),x=reactExports.useCallback(async(b=!1)=>{const T=y.current;b&&await acquireInitLock();try{if(n==="key"){const N=await withTimeout(e.get(r),INDEXEDDB_TIMEOUT_MS,void 0);if(N?.value!==void 0){const k=typeof N.value!="object"||N.value===null,C=Array.isArray(N.value);o(k||C?N.value:{...T,...N.value})}else if(b)try{const k=localStorage.getItem(r);if(k)try{const C=JSON.parse(k),A=typeof C!="object"||C===null,R=Array.isArray(C);if(A||R)o(C),e.put({key:r,value:C}).catch(()=>{});else{const I={...T,...C};o(I),e.put({key:r,value:I}).catch(()=>{})}}catch(C){logger.warn("Failed to parse localStorage data for migration:",C)}}catch(k){logger.warn("localStorage not available:",k)}}else{const N=await withTimeout(e.toArray(),INDEXEDDB_TIMEOUT_MS,[]);if(N.length>0)o(N);else if(b)try{const k=localStorage.getItem(r);if(k)try{const C=JSON.parse(k);Array.isArray(C)&&C.length>0&&(o(C),e.bulkPut(C).catch(()=>{}))}catch(C){logger.warn("Failed to parse localStorage array data for migration:",C)}}catch(k){logger.warn("localStorage not available:",k)}}}catch(N){logger.error("Error loading from IndexedDB:",N);try{const k=localStorage.getItem(r);if(k)try{const C=JSON.parse(k),A=typeof C!="object"||C===null,R=Array.isArray(C);o(A||R?C:{...T,...C})}catch(C){logger.warn("Failed to parse localStorage fallback data:",C)}}catch{}}finally{b&&(c(!1),releaseInitLock())}},[e,r,n]);reactExports.useEffect(()=>{g.current||(g.current=!0,x(!0))},[x]),reactExports.useEffect(()=>{const b=()=>{p(T=>T+1)};return refreshListeners.add(b),()=>{refreshListeners.delete(b)}},[]),reactExports.useEffect(()=>{d>0&&x(!1)},[d,x]);const S=reactExports.useCallback(b=>{o(T=>{const N=typeof b=="function"?b(T):b;return(async()=>{try{n==="key"?await e.put({key:r,value:N}):Array.isArray(N)&&(await e.clear(),N.length>0&&await e.bulkPut(N));try{localStorage.setItem(r,JSON.stringify(N))}catch(k){logger.warn("localStorage backup failed:",k)}}catch(k){logger.error("Error saving to IndexedDB:",k);try{localStorage.setItem(r,JSON.stringify(N))}catch{}}})(),N})},[e,r,n]);return[a,S,l]}class ZenFlowDB extends Dexie{moods;habits;focusSessions;gratitudeEntries;settings;constructor(){super("ZenFlowDB"),this.version(1).stores({moods:"id, timestamp",habits:"id, createdAt",focusSessions:"id, startTime",gratitudeEntries:"id, timestamp",settings:"key"}),this.version(2).stores({moods:"id, timestamp, date",habits:"id, createdAt, type",focusSessions:"id, startTime, date",gratitudeEntries:"id, timestamp, date",settings:"key"})}}const db=new ZenFlowDB;db.moods;db.habits;db.focusSessions;db.gratitudeEntries;db.settings;const checkDatabaseHealth=async()=>{if(typeof indexedDB>"u")return!0;try{const e=new Promise(i=>{setTimeout(()=>{logger.warn("[DB] Database health check timed out - continuing anyway"),i(!0)},5e3)}),r=(async()=>{try{return await db.open(),await db.moods.count(),!0}catch(i){logger.warn("[DB] Database open failed, attempting recovery:",i);try{return await db.delete(),await db.open(),!0}catch(n){return logger.error("[DB] Database recovery failed:",n),!0}}})();return await Promise.race([r,e])}catch(e){return logger.error("[DB] Database health check failed:",e),!0}},migration_1_to_2={version:2,name:"Add schema version tracking and validate data structure",migrate:async()=>{const e=await db.settings.toArray();for(const r of e)r.value&&typeof r.value=="object"&&await db.settings.put(r)}},migrations=[migration_1_to_2],runMigrations=async(e,r)=>{const i=migrations.filter(n=>n.version>e&&n.version<=r);if(i.length!==0){i.sort((n,a)=>n.version-a.version);for(const n of i)try{logger.log(`[Migration] Starting: ${n.name} (v${n.version})`),await n.migrate(),logger.log(`[Migration] Completed: ${n.name} (v${n.version})`)}catch(a){throw logger.error(`[Migration] Failed: ${n.name} (v${n.version})`,a),new Error(`Migration failed: ${n.name}`)}}},validateDataIntegrity=async()=>{try{return await db.moods.count(),await db.habits.count(),await db.focusSessions.count(),await db.gratitudeEntries.count(),await db.settings.count(),logger.log("[Migration] Data integrity check passed"),!0}catch(e){return logger.error("[Migration] Data integrity check failed:",e),!1}},initializeApp=async()=>{try{if(logger.log("[AppInit] Starting app initialization..."),!await checkDatabaseHealth())return logger.error("[AppInit] Database is not healthy"),{success:!1,wasUpdated:!1,needsReload:!1,error:"Database initialization failed. Please reinstall the app."};const r=getAppMetadata(),i=initializeAppMetadata(),n=wasAppUpdated();if(n&&r){logger.log(`[AppInit] App updated from ${r.appVersion} to ${i.appVersion}`);const a=r.dataSchemaVersion||1,o=DATA_SCHEMA_VERSION;if(a<o){logger.log(`[AppInit] Running migrations from data schema v${a} to v${o}`);try{await runMigrations(a,o)}catch(c){return logger.error("[AppInit] Migration failed:",c),{success:!1,wasUpdated:!0,needsReload:!1,error:"Data migration failed. Please contact support."}}if(!await validateDataIntegrity())return logger.error("[AppInit] Data integrity check failed after migration"),{success:!1,wasUpdated:!0,needsReload:!1,error:"Data validation failed after migration."}}}return logger.log("[AppInit] App initialization completed successfully"),{success:!0,wasUpdated:n,needsReload:!1}}catch(e){return logger.error("[AppInit] Unexpected error during initialization:",e),{success:!1,wasUpdated:!1,needsReload:!1,error:"Unexpected error during initialization."}}},POSITIVE_EMOTIONS=["joy","trust","anticipation","surprise"],NEGATIVE_EMOTIONS=["sadness","anger","fear","disgust"];function EmotionParticles(){const{currentEmotion:e}=useEmotionTheme();if(e==="neutral"||NEGATIVE_EMOTIONS.includes(e))return null;const r=e==="joy"?8:e==="trust"?6:4;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Array.from({length:r}).map((i,n)=>jsxRuntimeExports.jsx("div",{className:"mood-particle",style:{left:`${10+n*12}%`,top:`${20+n*8%60}%`,animationDelay:`${n*.8}s`,animationDuration:`${5+n*.5}s`,width:e==="joy"?"10px":"6px",height:e==="joy"?"10px":"6px"}},n))})}function SupportBanner(){const{currentEmotion:e,getSupportMessage:r}=useEmotionTheme(),{language:i}=useLanguage(),[n,a]=reactExports.useState(!1),[o,l]=reactExports.useState(!1);reactExports.useEffect(()=>{if(NEGATIVE_EMOTIONS.includes(e)&&!o){const g=setTimeout(()=>a(!0),1e3);return()=>clearTimeout(g)}else a(!1)},[e,o]),reactExports.useEffect(()=>{(POSITIVE_EMOTIONS.includes(e)||e==="neutral")&&l(!1)},[e]);const c=r(i);if(!n||!c)return null;const d={sadness:{bg:"bg-indigo-100 dark:bg-indigo-900/30",icon:"text-indigo-500"},anger:{bg:"bg-blue-100 dark:bg-blue-900/30",icon:"text-blue-500"},fear:{bg:"bg-teal-100 dark:bg-teal-900/30",icon:"text-teal-500"},disgust:{bg:"bg-purple-100 dark:bg-purple-900/30",icon:"text-purple-500"}},p=d[e]||d.sadness;return jsxRuntimeExports.jsx("div",{className:"fixed left-4 right-4 z-50 animate-fade-in",style:{bottom:"calc(6rem + env(safe-area-inset-bottom, 0px))"},children:jsxRuntimeExports.jsxs("div",{className:"mood-support-banner rounded-2xl p-4 flex items-start gap-3 max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:cn("p-2 rounded-full",p.bg),children:jsxRuntimeExports.jsx(Heart,{className:cn("w-5 h-5",p.icon)})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-foreground/90 leading-relaxed",children:c})}),jsxRuntimeExports.jsx("button",{onClick:()=>l(!0),className:"text-muted-foreground hover:text-foreground transition-colors p-1","aria-label":"Dismiss",children:jsxRuntimeExports.jsx("span",{className:"text-lg",children:""})})]})})}function BreathingSuggestion(){const{currentEmotion:e}=useEmotionTheme(),[r,i]=reactExports.useState(!1),n=e==="sadness"||e==="anger";if(reactExports.useEffect(()=>{if(n){const o=setTimeout(()=>i(!0),3e3);return()=>clearTimeout(o)}else i(!1)},[n]),!r)return null;const a=e==="anger"?"bg-blue-200/20 dark:bg-blue-800/10":"bg-indigo-200/20 dark:bg-indigo-800/10";return jsxRuntimeExports.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none z-0",children:jsxRuntimeExports.jsx("div",{className:cn("breathing-suggestion w-32 h-32 rounded-full",a)})})}function CelebrationSparkles(){const{currentEmotion:e}=useEmotionTheme();return e!=="joy"?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:Array.from({length:5}).map((r,i)=>jsxRuntimeExports.jsx(Sparkles,{className:"absolute text-amber-400/30 animate-pulse",style:{left:`${15+i*18}%`,top:`${10+i*15%40}%`,width:"24px",height:"24px",animationDelay:`${i*.3}s`,animationDuration:"2s"}},i))})}function MoodBackgroundOverlay(){const{isTransitioning:e}=useEmotionTheme();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:cn("mood-background-overlay",e&&"mood-transitioning")}),jsxRuntimeExports.jsx("div",{className:cn("mood-transition-overlay",e&&"active")}),jsxRuntimeExports.jsx(EmotionParticles,{}),jsxRuntimeExports.jsx(CelebrationSparkles,{}),jsxRuntimeExports.jsx(BreathingSuggestion,{}),jsxRuntimeExports.jsx(SupportBanner,{})]})}var util;(function(e){e.assertEqual=a=>{};function r(a){}e.assertIs=r;function i(a){throw new Error}e.assertNever=i,e.arrayToEnum=a=>{const o={};for(const l of a)o[l]=l;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),l={};for(const c of o)l[c]=a[c];return e.objectValues(l)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&o.push(l);return o},e.find=(a,o)=>{for(const l of a)if(o(l))return l},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(util||(util={}));var objectUtil;(function(e){e.mergeShapes=(r,i)=>({...r,...i})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:e===null?ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&e instanceof Map?ZodParsedType.map:typeof Set<"u"&&e instanceof Set?ZodParsedType.set:typeof Date<"u"&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=r}format(r){const i=r||function(o){return o.message},n={_errors:[]},a=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(i(l));else{let c=n,d=0;for(;d<l.path.length;){const p=l.path[d];d===l.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(i(l))):c[p]=c[p]||{_errors:[]},c=c[p],d++}}};return a(this),n}static assert(r){if(!(r instanceof ZodError))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=i=>i.message){const i={},n=[];for(const a of this.issues)if(a.path.length>0){const o=a.path[0];i[o]=i[o]||[],i[o].push(r(a))}else n.push(r(a));return{formErrors:n,fieldErrors:i}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,r)=>{let i;switch(e.code){case ZodIssueCode.invalid_type:e.received===ZodParsedType.undefined?i="Required":i=`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:i=`Unrecognized key(s) in object: ${util.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:i="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${util.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:i=`Invalid enum value. Expected ${util.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:i="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:i="Invalid function return type";break;case ZodIssueCode.invalid_date:i="Invalid date";break;case ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(i=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?i=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?i=`Invalid input: must end with "${e.validation.endsWith}"`:util.assertNever(e.validation):e.validation!=="regex"?i=`Invalid ${e.validation}`:i="Invalid";break;case ZodIssueCode.too_small:e.type==="array"?i=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?i=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?i=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?i=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?i=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:i="Invalid input";break;case ZodIssueCode.too_big:e.type==="array"?i=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?i=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?i=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?i=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?i=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:i="Invalid input";break;case ZodIssueCode.custom:i="Invalid input";break;case ZodIssueCode.invalid_intersection_types:i="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:i="Number must be finite";break;default:i=r.defaultError,util.assertNever(e)}return{message:i}};let overrideErrorMap=errorMap;function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:r,path:i,errorMaps:n,issueData:a}=e,o=[...i,...a.path||[]],l={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let c="";const d=n.filter(p=>!!p).slice().reverse();for(const p of d)c=p(l,{data:r,defaultError:c}).message;return{...a,path:o,message:c}};function addIssueToContext(e,r){const i=getErrorMap(),n=makeIssue({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,i,i===errorMap?void 0:errorMap].filter(a=>!!a)});e.common.issues.push(n)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,i){const n=[];for(const a of i){if(a.status==="aborted")return INVALID;a.status==="dirty"&&r.dirty(),n.push(a.value)}return{status:r.value,value:n}}static async mergeObjectAsync(r,i){const n=[];for(const a of i){const o=await a.key,l=await a.value;n.push({key:o,value:l})}return ParseStatus.mergeObjectSync(r,n)}static mergeObjectSync(r,i){const n={};for(const a of i){const{key:o,value:l}=a;if(o.status==="aborted"||l.status==="aborted")return INVALID;o.status==="dirty"&&r.dirty(),l.status==="dirty"&&r.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[o.value]=l.value)}return{status:r.value,value:n}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>e.status==="aborted",isDirty=e=>e.status==="dirty",isValid=e=>e.status==="valid",isAsync=e=>typeof Promise<"u"&&e instanceof Promise;var errorUtil;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(r,i,n,a){this._cachedPath=[],this.parent=r,this.data=i,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,r)=>{if(isValid(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const i=new ZodError(e.common.issues);return this._error=i,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:r,invalid_type_error:i,required_error:n,description:a}=e;if(r&&(i||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:a}:{errorMap:(l,c)=>{const{message:d}=e;return l.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??n??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:d??i??c.defaultError}},description:a}}class ZodType{get description(){return this._def.description}_getType(r){return getParsedType(r.data)}_getOrReturnCtx(r,i){return i||{common:r.parent.common,data:r.data,parsedType:getParsedType(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new ParseStatus,ctx:{common:r.parent.common,data:r.data,parsedType:getParsedType(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const i=this._parse(r);if(isAsync(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(r){const i=this._parse(r);return Promise.resolve(i)}parse(r,i){const n=this.safeParse(r,i);if(n.success)return n.data;throw n.error}safeParse(r,i){const n={common:{issues:[],async:i?.async??!1,contextualErrorMap:i?.errorMap},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:getParsedType(r)},a=this._parseSync({data:r,path:n.path,parent:n});return handleResult(n,a)}"~validate"(r){const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:getParsedType(r)};if(!this["~standard"].async)try{const n=this._parseSync({data:r,path:[],parent:i});return isValid(n)?{value:n.value}:{issues:i.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:i}).then(n=>isValid(n)?{value:n.value}:{issues:i.common.issues})}async parseAsync(r,i){const n=await this.safeParseAsync(r,i);if(n.success)return n.data;throw n.error}async safeParseAsync(r,i){const n={common:{issues:[],contextualErrorMap:i?.errorMap,async:!0},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:getParsedType(r)},a=this._parse({data:r,path:n.path,parent:n}),o=await(isAsync(a)?a:Promise.resolve(a));return handleResult(n,o)}refine(r,i){const n=a=>typeof i=="string"||typeof i>"u"?{message:i}:typeof i=="function"?i(a):i;return this._refinement((a,o)=>{const l=r(a),c=()=>o.addIssue({code:ZodIssueCode.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(r,i){return this._refinement((n,a)=>r(n)?!0:(a.addIssue(typeof i=="function"?i(n,a):i),!1))}_refinement(r){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(r){return ZodUnion.create([this,r],this._def)}and(r){return ZodIntersection.create(this,r,this._def)}transform(r){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const i=typeof r=="function"?r:()=>r;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:i,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(r){const i=typeof r=="function"?r:()=>r;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:i,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(r){const i=this.constructor;return new i({...this._def,description:r})}pipe(r){return ZodPipeline.create(this,r)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);const i=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${i}`}function timeRegex(e){return new RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let r=`${dateRegexSource}T${timeRegexSource(e)}`;const i=[];return i.push(e.local?"Z?":"Z"),e.offset&&i.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${i.join("|")})`,new RegExp(`^${r}$`)}function isValidIP(e,r){return!!((r==="v4"||!r)&&ipv4Regex.test(e)||(r==="v6"||!r)&&ipv6Regex.test(e))}function isValidJWT(e,r){if(!jwtRegex.test(e))return!1;try{const[i]=e.split(".");if(!i)return!1;const n=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||r&&a.alg!==r)}catch{return!1}}function isValidCidr(e,r){return!!((r==="v4"||!r)&&ipv4CidrRegex.test(e)||(r==="v6"||!r)&&ipv6CidrRegex.test(e))}class ZodString extends ZodType{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==ZodParsedType.string){const o=this._getOrReturnCtx(r);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:o.parsedType}),INVALID}const n=new ParseStatus;let a;for(const o of this._def.checks)if(o.kind==="min")r.data.length<o.value&&(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")r.data.length>o.value&&(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const l=r.data.length>o.value,c=r.data.length<o.value;(l||c)&&(a=this._getOrReturnCtx(r,a),l?addIssueToContext(a,{code:ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&addIssueToContext(a,{code:ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")emailRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"email",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"emoji",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")uuidRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"uuid",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")nanoidRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")cuidRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"cuid",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")cuid2Regex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")ulidRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"ulid",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(r.data)}catch{a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"url",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"regex",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?r.data=r.data.trim():o.kind==="includes"?r.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?r.data=r.data.toLowerCase():o.kind==="toUpperCase"?r.data=r.data.toUpperCase():o.kind==="startsWith"?r.data.startsWith(o.value)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?r.data.endsWith(o.value)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?datetimeRegex(o).test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?dateRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?timeRegex(o).test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?durationRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"duration",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?isValidIP(r.data,o.version)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"ip",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?isValidJWT(r.data,o.alg)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"jwt",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?isValidCidr(r.data,o.version)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"cidr",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?base64Regex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"base64",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?base64urlRegex.test(r.data)||(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{validation:"base64url",code:ZodIssueCode.invalid_string,message:o.message}),n.dirty()):util.assertNever(o);return{status:n.value,value:r.data}}_regex(r,i,n){return this.refinement(a=>r.test(a),{validation:i,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(n)})}_addCheck(r){return new ZodString({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...errorUtil.errToObj(r)})}url(r){return this._addCheck({kind:"url",...errorUtil.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...errorUtil.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...errorUtil.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...errorUtil.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...errorUtil.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...errorUtil.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...errorUtil.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...errorUtil.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...errorUtil.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...errorUtil.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:r?.offset??!1,local:r?.local??!1,...errorUtil.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...errorUtil.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...errorUtil.errToObj(r)})}regex(r,i){return this._addCheck({kind:"regex",regex:r,...errorUtil.errToObj(i)})}includes(r,i){return this._addCheck({kind:"includes",value:r,position:i?.position,...errorUtil.errToObj(i?.message)})}startsWith(r,i){return this._addCheck({kind:"startsWith",value:r,...errorUtil.errToObj(i)})}endsWith(r,i){return this._addCheck({kind:"endsWith",value:r,...errorUtil.errToObj(i)})}min(r,i){return this._addCheck({kind:"min",value:r,...errorUtil.errToObj(i)})}max(r,i){return this._addCheck({kind:"max",value:r,...errorUtil.errToObj(i)})}length(r,i){return this._addCheck({kind:"length",value:r,...errorUtil.errToObj(i)})}nonempty(r){return this.min(1,errorUtil.errToObj(r))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const i of this._def.checks)i.kind==="min"&&(r===null||i.value>r)&&(r=i.value);return r}get maxLength(){let r=null;for(const i of this._def.checks)i.kind==="max"&&(r===null||i.value<r)&&(r=i.value);return r}}ZodString.create=e=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:e?.coerce??!1,...processCreateParams(e)});function floatSafeRemainder(e,r){const i=(e.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,a=i>n?i:n,o=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(r.toFixed(a).replace(".",""));return o%l/10**a}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==ZodParsedType.number){const o=this._getOrReturnCtx(r);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:o.parsedType}),INVALID}let n;const a=new ParseStatus;for(const o of this._def.checks)o.kind==="int"?util.isInteger(r.data)||(n=this._getOrReturnCtx(r,n),addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?r.data<o.value:r.data<=o.value)&&(n=this._getOrReturnCtx(r,n),addIssueToContext(n,{code:ZodIssueCode.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?r.data>o.value:r.data>=o.value)&&(n=this._getOrReturnCtx(r,n),addIssueToContext(n,{code:ZodIssueCode.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?floatSafeRemainder(r.data,o.value)!==0&&(n=this._getOrReturnCtx(r,n),addIssueToContext(n,{code:ZodIssueCode.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(r.data)||(n=this._getOrReturnCtx(r,n),addIssueToContext(n,{code:ZodIssueCode.not_finite,message:o.message}),a.dirty()):util.assertNever(o);return{status:a.value,value:r.data}}gte(r,i){return this.setLimit("min",r,!0,errorUtil.toString(i))}gt(r,i){return this.setLimit("min",r,!1,errorUtil.toString(i))}lte(r,i){return this.setLimit("max",r,!0,errorUtil.toString(i))}lt(r,i){return this.setLimit("max",r,!1,errorUtil.toString(i))}setLimit(r,i,n,a){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:r,value:i,inclusive:n,message:errorUtil.toString(a)}]})}_addCheck(r){return new ZodNumber({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:errorUtil.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(r)})}multipleOf(r,i){return this._addCheck({kind:"multipleOf",value:r,message:errorUtil.toString(i)})}finite(r){return this._addCheck({kind:"finite",message:errorUtil.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(r)})}get minValue(){let r=null;for(const i of this._def.checks)i.kind==="min"&&(r===null||i.value>r)&&(r=i.value);return r}get maxValue(){let r=null;for(const i of this._def.checks)i.kind==="max"&&(r===null||i.value<r)&&(r=i.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&util.isInteger(r.value))}get isFinite(){let r=null,i=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(i===null||n.value>i)&&(i=n.value):n.kind==="max"&&(r===null||n.value<r)&&(r=n.value)}return Number.isFinite(i)&&Number.isFinite(r)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:e?.coerce||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==ZodParsedType.bigint)return this._getInvalidInput(r);let n;const a=new ParseStatus;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?r.data<o.value:r.data<=o.value)&&(n=this._getOrReturnCtx(r,n),addIssueToContext(n,{code:ZodIssueCode.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?r.data>o.value:r.data>=o.value)&&(n=this._getOrReturnCtx(r,n),addIssueToContext(n,{code:ZodIssueCode.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?r.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(r,n),addIssueToContext(n,{code:ZodIssueCode.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):util.assertNever(o);return{status:a.value,value:r.data}}_getInvalidInput(r){const i=this._getOrReturnCtx(r);return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:i.parsedType}),INVALID}gte(r,i){return this.setLimit("min",r,!0,errorUtil.toString(i))}gt(r,i){return this.setLimit("min",r,!1,errorUtil.toString(i))}lte(r,i){return this.setLimit("max",r,!0,errorUtil.toString(i))}lt(r,i){return this.setLimit("max",r,!1,errorUtil.toString(i))}setLimit(r,i,n,a){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:r,value:i,inclusive:n,message:errorUtil.toString(a)}]})}_addCheck(r){return new ZodBigInt({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(r)})}multipleOf(r,i){return this._addCheck({kind:"multipleOf",value:r,message:errorUtil.toString(i)})}get minValue(){let r=null;for(const i of this._def.checks)i.kind==="min"&&(r===null||i.value>r)&&(r=i.value);return r}get maxValue(){let r=null;for(const i of this._def.checks)i.kind==="max"&&(r===null||i.value<r)&&(r=i.value);return r}}ZodBigInt.create=e=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:e?.coerce??!1,...processCreateParams(e)});class ZodBoolean extends ZodType{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==ZodParsedType.boolean){const n=this._getOrReturnCtx(r);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:n.parsedType}),INVALID}return OK(r.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:e?.coerce||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==ZodParsedType.date){const o=this._getOrReturnCtx(r);return addIssueToContext(o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:o.parsedType}),INVALID}if(Number.isNaN(r.data.getTime())){const o=this._getOrReturnCtx(r);return addIssueToContext(o,{code:ZodIssueCode.invalid_date}),INVALID}const n=new ParseStatus;let a;for(const o of this._def.checks)o.kind==="min"?r.data.getTime()<o.value&&(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?r.data.getTime()>o.value&&(a=this._getOrReturnCtx(r,a),addIssueToContext(a,{code:ZodIssueCode.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):util.assertNever(o);return{status:n.value,value:new Date(r.data.getTime())}}_addCheck(r){return new ZodDate({...this._def,checks:[...this._def.checks,r]})}min(r,i){return this._addCheck({kind:"min",value:r.getTime(),message:errorUtil.toString(i)})}max(r,i){return this._addCheck({kind:"max",value:r.getTime(),message:errorUtil.toString(i)})}get minDate(){let r=null;for(const i of this._def.checks)i.kind==="min"&&(r===null||i.value>r)&&(r=i.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const i of this._def.checks)i.kind==="max"&&(r===null||i.value<r)&&(r=i.value);return r!=null?new Date(r):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:e?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(r){if(this._getType(r)!==ZodParsedType.symbol){const n=this._getOrReturnCtx(r);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:n.parsedType}),INVALID}return OK(r.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(r){if(this._getType(r)!==ZodParsedType.undefined){const n=this._getOrReturnCtx(r);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:n.parsedType}),INVALID}return OK(r.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(r){if(this._getType(r)!==ZodParsedType.null){const n=this._getOrReturnCtx(r);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:n.parsedType}),INVALID}return OK(r.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(r){return OK(r.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(r){return OK(r.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(r){const i=this._getOrReturnCtx(r);return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:i.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(r){if(this._getType(r)!==ZodParsedType.undefined){const n=this._getOrReturnCtx(r);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:n.parsedType}),INVALID}return OK(r.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(r){const{ctx:i,status:n}=this._processInputParams(r),a=this._def;if(i.parsedType!==ZodParsedType.array)return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:i.parsedType}),INVALID;if(a.exactLength!==null){const l=i.data.length>a.exactLength.value,c=i.data.length<a.exactLength.value;(l||c)&&(addIssueToContext(i,{code:l?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:c?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&i.data.length<a.minLength.value&&(addIssueToContext(i,{code:ZodIssueCode.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&i.data.length>a.maxLength.value&&(addIssueToContext(i,{code:ZodIssueCode.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),i.common.async)return Promise.all([...i.data].map((l,c)=>a.type._parseAsync(new ParseInputLazyPath(i,l,i.path,c)))).then(l=>ParseStatus.mergeArray(n,l));const o=[...i.data].map((l,c)=>a.type._parseSync(new ParseInputLazyPath(i,l,i.path,c)));return ParseStatus.mergeArray(n,o)}get element(){return this._def.type}min(r,i){return new ZodArray({...this._def,minLength:{value:r,message:errorUtil.toString(i)}})}max(r,i){return new ZodArray({...this._def,maxLength:{value:r,message:errorUtil.toString(i)}})}length(r,i){return new ZodArray({...this._def,exactLength:{value:r,message:errorUtil.toString(i)}})}nonempty(r){return this.min(1,r)}}ZodArray.create=(e,r)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(r)});function deepPartialify(e){if(e instanceof ZodObject){const r={};for(const i in e.shape){const n=e.shape[i];r[i]=ZodOptional.create(deepPartialify(n))}return new ZodObject({...e._def,shape:()=>r})}else return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(r=>deepPartialify(r))):e}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),i=util.objectKeys(r);return this._cached={shape:r,keys:i},this._cached}_parse(r){if(this._getType(r)!==ZodParsedType.object){const p=this._getOrReturnCtx(r);return addIssueToContext(p,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:p.parsedType}),INVALID}const{status:n,ctx:a}=this._processInputParams(r),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const p in a.data)l.includes(p)||c.push(p);const d=[];for(const p of l){const g=o[p],y=a.data[p];d.push({key:{status:"valid",value:p},value:g._parse(new ParseInputLazyPath(a,y,a.path,p)),alwaysSet:p in a.data})}if(this._def.catchall instanceof ZodNever){const p=this._def.unknownKeys;if(p==="passthrough")for(const g of c)d.push({key:{status:"valid",value:g},value:{status:"valid",value:a.data[g]}});else if(p==="strict")c.length>0&&(addIssueToContext(a,{code:ZodIssueCode.unrecognized_keys,keys:c}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const g of c){const y=a.data[g];d.push({key:{status:"valid",value:g},value:p._parse(new ParseInputLazyPath(a,y,a.path,g)),alwaysSet:g in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const p=[];for(const g of d){const y=await g.key,x=await g.value;p.push({key:y,value:x,alwaysSet:g.alwaysSet})}return p}).then(p=>ParseStatus.mergeObjectSync(n,p)):ParseStatus.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(r){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(i,n)=>{const a=this._def.errorMap?.(i,n).message??n.defaultError;return i.code==="unrecognized_keys"?{message:errorUtil.errToObj(r).message??a}:{message:a}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(r){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new ZodObject({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(r,i){return this.augment({[r]:i})}catchall(r){return new ZodObject({...this._def,catchall:r})}pick(r){const i={};for(const n of util.objectKeys(r))r[n]&&this.shape[n]&&(i[n]=this.shape[n]);return new ZodObject({...this._def,shape:()=>i})}omit(r){const i={};for(const n of util.objectKeys(this.shape))r[n]||(i[n]=this.shape[n]);return new ZodObject({...this._def,shape:()=>i})}deepPartial(){return deepPartialify(this)}partial(r){const i={};for(const n of util.objectKeys(this.shape)){const a=this.shape[n];r&&!r[n]?i[n]=a:i[n]=a.optional()}return new ZodObject({...this._def,shape:()=>i})}required(r){const i={};for(const n of util.objectKeys(this.shape))if(r&&!r[n])i[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof ZodOptional;)o=o._def.innerType;i[n]=o}return new ZodObject({...this._def,shape:()=>i})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(e,r)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(r)});ZodObject.strictCreate=(e,r)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(r)});ZodObject.lazycreate=(e,r)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(r)});class ZodUnion extends ZodType{_parse(r){const{ctx:i}=this._processInputParams(r),n=this._def.options;function a(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return i.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new ZodError(c.ctx.common.issues));return addIssueToContext(i,{code:ZodIssueCode.invalid_union,unionErrors:l}),INVALID}if(i.common.async)return Promise.all(n.map(async o=>{const l={...i,common:{...i.common,issues:[]},parent:null};return{result:await o._parseAsync({data:i.data,path:i.path,parent:l}),ctx:l}})).then(a);{let o;const l=[];for(const d of n){const p={...i,common:{...i.common,issues:[]},parent:null},g=d._parseSync({data:i.data,path:i.path,parent:p});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:p}),p.common.issues.length&&l.push(p.common.issues)}if(o)return i.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(d=>new ZodError(d));return addIssueToContext(i,{code:ZodIssueCode.invalid_union,unionErrors:c}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,r)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(r)});function mergeValues(e,r){const i=getParsedType(e),n=getParsedType(r);if(e===r)return{valid:!0,data:e};if(i===ZodParsedType.object&&n===ZodParsedType.object){const a=util.objectKeys(r),o=util.objectKeys(e).filter(c=>a.indexOf(c)!==-1),l={...e,...r};for(const c of o){const d=mergeValues(e[c],r[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(i===ZodParsedType.array&&n===ZodParsedType.array){if(e.length!==r.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const l=e[o],c=r[o],d=mergeValues(l,c);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return i===ZodParsedType.date&&n===ZodParsedType.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(r){const{status:i,ctx:n}=this._processInputParams(r),a=(o,l)=>{if(isAborted(o)||isAborted(l))return INVALID;const c=mergeValues(o.value,l.value);return c.valid?((isDirty(o)||isDirty(l))&&i.dirty(),{status:i.value,value:c.data}):(addIssueToContext(n,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,l])=>a(o,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ZodIntersection.create=(e,r,i)=>new ZodIntersection({left:e,right:r,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(i)});class ZodTuple extends ZodType{_parse(r){const{status:i,ctx:n}=this._processInputParams(r);if(n.parsedType!==ZodParsedType.array)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:n.parsedType}),INVALID;if(n.data.length<this._def.items.length)return addIssueToContext(n,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&n.data.length>this._def.items.length&&(addIssueToContext(n,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());const o=[...n.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new ParseInputLazyPath(n,l,n.path,c)):null}).filter(l=>!!l);return n.common.async?Promise.all(o).then(l=>ParseStatus.mergeArray(i,l)):ParseStatus.mergeArray(i,o)}get items(){return this._def.items}rest(r){return new ZodTuple({...this._def,rest:r})}}ZodTuple.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(r)})};class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:i,ctx:n}=this._processInputParams(r);if(n.parsedType!==ZodParsedType.map)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:n.parsedType}),INVALID;const a=this._def.keyType,o=this._def.valueType,l=[...n.data.entries()].map(([c,d],p)=>({key:a._parse(new ParseInputLazyPath(n,c,n.path,[p,"key"])),value:o._parse(new ParseInputLazyPath(n,d,n.path,[p,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const p=await d.key,g=await d.value;if(p.status==="aborted"||g.status==="aborted")return INVALID;(p.status==="dirty"||g.status==="dirty")&&i.dirty(),c.set(p.value,g.value)}return{status:i.value,value:c}})}else{const c=new Map;for(const d of l){const p=d.key,g=d.value;if(p.status==="aborted"||g.status==="aborted")return INVALID;(p.status==="dirty"||g.status==="dirty")&&i.dirty(),c.set(p.value,g.value)}return{status:i.value,value:c}}}}ZodMap.create=(e,r,i)=>new ZodMap({valueType:r,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(i)});class ZodSet extends ZodType{_parse(r){const{status:i,ctx:n}=this._processInputParams(r);if(n.parsedType!==ZodParsedType.set)return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:n.parsedType}),INVALID;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(addIssueToContext(n,{code:ZodIssueCode.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),i.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(addIssueToContext(n,{code:ZodIssueCode.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),i.dirty());const o=this._def.valueType;function l(d){const p=new Set;for(const g of d){if(g.status==="aborted")return INVALID;g.status==="dirty"&&i.dirty(),p.add(g.value)}return{status:i.value,value:p}}const c=[...n.data.values()].map((d,p)=>o._parse(new ParseInputLazyPath(n,d,n.path,p)));return n.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(r,i){return new ZodSet({...this._def,minSize:{value:r,message:errorUtil.toString(i)}})}max(r,i){return new ZodSet({...this._def,maxSize:{value:r,message:errorUtil.toString(i)}})}size(r,i){return this.min(r,i).max(r,i)}nonempty(r){return this.min(1,r)}}ZodSet.create=(e,r)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(r)});class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(r){const{ctx:i}=this._processInputParams(r);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}ZodLazy.create=(e,r)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(r)});class ZodLiteral extends ZodType{_parse(r){if(r.data!==this._def.value){const i=this._getOrReturnCtx(r);return addIssueToContext(i,{received:i.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:r.data}}get value(){return this._def.value}}ZodLiteral.create=(e,r)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(r)});function createZodEnum(e,r){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(r)})}class ZodEnum extends ZodType{_parse(r){if(typeof r.data!="string"){const i=this._getOrReturnCtx(r),n=this._def.values;return addIssueToContext(i,{expected:util.joinValues(n),received:i.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const i=this._getOrReturnCtx(r),n=this._def.values;return addIssueToContext(i,{received:i.data,code:ZodIssueCode.invalid_enum_value,options:n}),INVALID}return OK(r.data)}get options(){return this._def.values}get enum(){const r={};for(const i of this._def.values)r[i]=i;return r}get Values(){const r={};for(const i of this._def.values)r[i]=i;return r}get Enum(){const r={};for(const i of this._def.values)r[i]=i;return r}extract(r,i=this._def){return ZodEnum.create(r,{...this._def,...i})}exclude(r,i=this._def){return ZodEnum.create(this.options.filter(n=>!r.includes(n)),{...this._def,...i})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(r){const i=util.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(r);if(n.parsedType!==ZodParsedType.string&&n.parsedType!==ZodParsedType.number){const a=util.objectValues(i);return addIssueToContext(n,{expected:util.joinValues(a),received:n.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(util.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const a=util.objectValues(i);return addIssueToContext(n,{received:n.data,code:ZodIssueCode.invalid_enum_value,options:a}),INVALID}return OK(r.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(e,r)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(r)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(r){const{ctx:i}=this._processInputParams(r);if(i.parsedType!==ZodParsedType.promise&&i.common.async===!1)return addIssueToContext(i,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:i.parsedType}),INVALID;const n=i.parsedType===ZodParsedType.promise?i.data:Promise.resolve(i.data);return OK(n.then(a=>this._def.type.parseAsync(a,{path:i.path,errorMap:i.common.contextualErrorMap})))}}ZodPromise.create=(e,r)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(r)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:i,ctx:n}=this._processInputParams(r),a=this._def.effect||null,o={addIssue:l=>{addIssueToContext(n,l),l.fatal?i.abort():i.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const l=a.transform(n.data,o);if(n.common.async)return Promise.resolve(l).then(async c=>{if(i.value==="aborted")return INVALID;const d=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return d.status==="aborted"?INVALID:d.status==="dirty"||i.value==="dirty"?DIRTY(d.value):d});{if(i.value==="aborted")return INVALID;const c=this._def.schema._parseSync({data:l,path:n.path,parent:n});return c.status==="aborted"?INVALID:c.status==="dirty"||i.value==="dirty"?DIRTY(c.value):c}}if(a.type==="refinement"){const l=c=>{const d=a.refinement(c,o);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?INVALID:(c.status==="dirty"&&i.dirty(),l(c.value),{status:i.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?INVALID:(c.status==="dirty"&&i.dirty(),l(c.value).then(()=>({status:i.value,value:c.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!isValid(l))return INVALID;const c=a.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>isValid(l)?Promise.resolve(a.transform(l.value,o)).then(c=>({status:i.value,value:c})):INVALID);util.assertNever(a)}}ZodEffects.create=(e,r,i)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:r,...processCreateParams(i)});ZodEffects.createWithPreprocess=(e,r,i)=>new ZodEffects({schema:r,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(i)});class ZodOptional extends ZodType{_parse(r){return this._getType(r)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,r)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(r)});class ZodNullable extends ZodType{_parse(r){return this._getType(r)===ZodParsedType.null?OK(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,r)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(r)});class ZodDefault extends ZodType{_parse(r){const{ctx:i}=this._processInputParams(r);let n=i.data;return i.parsedType===ZodParsedType.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,r)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...processCreateParams(r)});class ZodCatch extends ZodType{_parse(r){const{ctx:i}=this._processInputParams(r),n={...i,common:{...i.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return isAsync(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ZodError(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ZodError(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,r)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...processCreateParams(r)});class ZodNaN extends ZodType{_parse(r){if(this._getType(r)!==ZodParsedType.nan){const n=this._getOrReturnCtx(r);return addIssueToContext(n,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:n.parsedType}),INVALID}return{status:"valid",value:r.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});class ZodBranded extends ZodType{_parse(r){const{ctx:i}=this._processInputParams(r),n=i.data;return this._def.type._parse({data:n,path:i.path,parent:i})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(r){const{status:i,ctx:n}=this._processInputParams(r);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?INVALID:o.status==="dirty"?(i.dirty(),DIRTY(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?INVALID:a.status==="dirty"?(i.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(r,i){return new ZodPipeline({in:r,out:i,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(r){const i=this._def.innerType._parse(r),n=a=>(isValid(a)&&(a.value=Object.freeze(a.value)),a);return isAsync(i)?i.then(a=>n(a)):n(i)}unwrap(){return this._def.innerType}}ZodReadonly.create=(e,r)=>new ZodReadonly({innerType:e,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(r)});ZodObject.lazycreate;var ZodFirstPartyTypeKind;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const stringType=ZodString.create,numberType=ZodNumber.create,unknownType=ZodUnknown.create;ZodNever.create;const arrayType=ZodArray.create,objectType=ZodObject.create;ZodObject.strictCreate;ZodUnion.create;ZodIntersection.create;ZodTuple.create;const literalType=ZodLiteral.create,enumType=ZodEnum.create;ZodPromise.create;ZodOptional.create;ZodNullable.create;/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(r){return r});seal||(seal=function(r){return r});apply||(apply=function(r,i){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return r.apply(i,a)});construct||(construct=function(r){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return new r(...n)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(e){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return apply(e,r,n)}}function unconstruct(e){return function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return construct(e,i)}}function addToSet(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(e,null);let n=r.length;for(;n--;){let a=r[n];if(typeof a=="string"){const o=i(a);o!==a&&(isFrozen(r)||(r[n]=o),a=o)}e[a]=!0}return e}function cleanArray(e){for(let r=0;r<e.length;r++)objectHasOwnProperty(e,r)||(e[r]=null);return e}function clone(e){const r=create(null);for(const[i,n]of entries(e))objectHasOwnProperty(e,i)&&(Array.isArray(n)?r[i]=cleanArray(n):n&&typeof n=="object"&&n.constructor===Object?r[i]=clone(n):r[i]=n);return r}function lookupGetter(e,r){for(;e!==null;){const n=getOwnPropertyDescriptor(e,r);if(n){if(n.get)return unapply(n.get);if(typeof n.value=="function")return unapply(n.value)}e=getPrototypeOf(e)}function i(){return null}return i}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},getGlobal=function(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function(r,i){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";i&&i.hasAttribute(a)&&(n=i.getAttribute(a));const o="dompurify"+(n?"#"+n:"");try{return r.createPolicy(o,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},_createHooksMap=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const r=Be=>createDOMPurify(Be);if(r.version="3.3.1",r.removed=[],!e||!e.document||e.document.nodeType!==NODE_TYPE.document||!e.Element)return r.isSupported=!1,r;let{document:i}=e;const n=i,a=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:l,Node:c,Element:d,NodeFilter:p,NamedNodeMap:g=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:y,DOMParser:x,trustedTypes:S}=e,b=d.prototype,T=lookupGetter(b,"cloneNode"),N=lookupGetter(b,"remove"),k=lookupGetter(b,"nextSibling"),C=lookupGetter(b,"childNodes"),A=lookupGetter(b,"parentNode");if(typeof l=="function"){const Be=i.createElement("template");Be.content&&Be.content.ownerDocument&&(i=Be.content.ownerDocument)}let R,I="";const{implementation:F,createNodeIterator:z,createDocumentFragment:B,getElementsByTagName:Z}=i,{importNode:re}=n;let U=_createHooksMap();r.isSupported=typeof entries=="function"&&typeof A=="function"&&F&&F.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:q,ERB_EXPR:Y,TMPLIT_EXPR:fe,DATA_ATTR:Q,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:_,CUSTOM_ELEMENT:O}=EXPRESSIONS;let{IS_ALLOWED_URI:V}=EXPRESSIONS,W=null;const K=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let Ee=null;const Se=addToSet({},[...html,...svg,...mathMl,...xml]);let Ce=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),De=null,Fe=null;const qe=Object.seal(create(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Je=!0,et=!0,Ke=!1,ct=!0,Ve=!1,Me=!0,at=!1,st=!1,ot=!1,lt=!1,Ae=!1,Ne=!1,He=!0,Qe=!1;const Ue="user-content-";let it=!0,Pe=!1,ze={},Ye=null;const Tt=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let At=null;const Nt=addToSet({},["audio","video","img","source","image","track"]);let ts=null;const as=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zt="http://www.w3.org/1998/Math/MathML",It="http://www.w3.org/2000/svg",Mt="http://www.w3.org/1999/xhtml";let Et=Mt,ls=!1,ss=null;const cs=addToSet({},[Zt,It,Mt],stringToString);let Qt=addToSet({},["mi","mo","mn","ms","mtext"]),Jt=addToSet({},["annotation-xml"]);const rs=addToSet({},["title","style","font","a","script"]);let Ct=null;const us=["application/xhtml+xml","text/html"],Ge="text/html";let We=null,rt=null;const Lt=i.createElement("form"),ft=function($){return $ instanceof RegExp||$ instanceof Function},gt=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(rt&&rt===$)){if((!$||typeof $!="object")&&($={}),$=clone($),Ct=us.indexOf($.PARSER_MEDIA_TYPE)===-1?Ge:$.PARSER_MEDIA_TYPE,We=Ct==="application/xhtml+xml"?stringToString:stringToLowerCase,W=objectHasOwnProperty($,"ALLOWED_TAGS")?addToSet({},$.ALLOWED_TAGS,We):K,Ee=objectHasOwnProperty($,"ALLOWED_ATTR")?addToSet({},$.ALLOWED_ATTR,We):Se,ss=objectHasOwnProperty($,"ALLOWED_NAMESPACES")?addToSet({},$.ALLOWED_NAMESPACES,stringToString):cs,ts=objectHasOwnProperty($,"ADD_URI_SAFE_ATTR")?addToSet(clone(as),$.ADD_URI_SAFE_ATTR,We):as,At=objectHasOwnProperty($,"ADD_DATA_URI_TAGS")?addToSet(clone(Nt),$.ADD_DATA_URI_TAGS,We):Nt,Ye=objectHasOwnProperty($,"FORBID_CONTENTS")?addToSet({},$.FORBID_CONTENTS,We):Tt,De=objectHasOwnProperty($,"FORBID_TAGS")?addToSet({},$.FORBID_TAGS,We):clone({}),Fe=objectHasOwnProperty($,"FORBID_ATTR")?addToSet({},$.FORBID_ATTR,We):clone({}),ze=objectHasOwnProperty($,"USE_PROFILES")?$.USE_PROFILES:!1,Je=$.ALLOW_ARIA_ATTR!==!1,et=$.ALLOW_DATA_ATTR!==!1,Ke=$.ALLOW_UNKNOWN_PROTOCOLS||!1,ct=$.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ve=$.SAFE_FOR_TEMPLATES||!1,Me=$.SAFE_FOR_XML!==!1,at=$.WHOLE_DOCUMENT||!1,lt=$.RETURN_DOM||!1,Ae=$.RETURN_DOM_FRAGMENT||!1,Ne=$.RETURN_TRUSTED_TYPE||!1,ot=$.FORCE_BODY||!1,He=$.SANITIZE_DOM!==!1,Qe=$.SANITIZE_NAMED_PROPS||!1,it=$.KEEP_CONTENT!==!1,Pe=$.IN_PLACE||!1,V=$.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,Et=$.NAMESPACE||Mt,Qt=$.MATHML_TEXT_INTEGRATION_POINTS||Qt,Jt=$.HTML_INTEGRATION_POINTS||Jt,Ce=$.CUSTOM_ELEMENT_HANDLING||{},$.CUSTOM_ELEMENT_HANDLING&&ft($.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=$.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$.CUSTOM_ELEMENT_HANDLING&&ft($.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=$.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$.CUSTOM_ELEMENT_HANDLING&&typeof $.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ce.allowCustomizedBuiltInElements=$.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ve&&(et=!1),Ae&&(lt=!0),ze&&(W=addToSet({},text),Ee=[],ze.html===!0&&(addToSet(W,html$1),addToSet(Ee,html)),ze.svg===!0&&(addToSet(W,svg$1),addToSet(Ee,svg),addToSet(Ee,xml)),ze.svgFilters===!0&&(addToSet(W,svgFilters),addToSet(Ee,svg),addToSet(Ee,xml)),ze.mathMl===!0&&(addToSet(W,mathMl$1),addToSet(Ee,mathMl),addToSet(Ee,xml))),$.ADD_TAGS&&(typeof $.ADD_TAGS=="function"?qe.tagCheck=$.ADD_TAGS:(W===K&&(W=clone(W)),addToSet(W,$.ADD_TAGS,We))),$.ADD_ATTR&&(typeof $.ADD_ATTR=="function"?qe.attributeCheck=$.ADD_ATTR:(Ee===Se&&(Ee=clone(Ee)),addToSet(Ee,$.ADD_ATTR,We))),$.ADD_URI_SAFE_ATTR&&addToSet(ts,$.ADD_URI_SAFE_ATTR,We),$.FORBID_CONTENTS&&(Ye===Tt&&(Ye=clone(Ye)),addToSet(Ye,$.FORBID_CONTENTS,We)),$.ADD_FORBID_CONTENTS&&(Ye===Tt&&(Ye=clone(Ye)),addToSet(Ye,$.ADD_FORBID_CONTENTS,We)),it&&(W["#text"]=!0),at&&addToSet(W,["html","head","body"]),W.table&&(addToSet(W,["tbody"]),delete De.tbody),$.TRUSTED_TYPES_POLICY){if(typeof $.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=$.TRUSTED_TYPES_POLICY,I=R.createHTML("")}else R===void 0&&(R=_createTrustedTypesPolicy(S,a)),R!==null&&typeof I=="string"&&(I=R.createHTML(""));freeze&&freeze($),rt=$}},Bt=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),Rt=addToSet({},[...mathMl$1,...mathMlDisallowed]),Dt=function($){let je=A($);(!je||!je.tagName)&&(je={namespaceURI:Et,tagName:"template"});const Le=stringToLowerCase($.tagName),dt=stringToLowerCase(je.tagName);return ss[$.namespaceURI]?$.namespaceURI===It?je.namespaceURI===Mt?Le==="svg":je.namespaceURI===Zt?Le==="svg"&&(dt==="annotation-xml"||Qt[dt]):!!Bt[Le]:$.namespaceURI===Zt?je.namespaceURI===Mt?Le==="math":je.namespaceURI===It?Le==="math"&&Jt[dt]:!!Rt[Le]:$.namespaceURI===Mt?je.namespaceURI===It&&!Jt[dt]||je.namespaceURI===Zt&&!Qt[dt]?!1:!Rt[Le]&&(rs[Le]||!Bt[Le]):!!(Ct==="application/xhtml+xml"&&ss[$.namespaceURI]):!1},zt=function($){arrayPush(r.removed,{element:$});try{A($).removeChild($)}catch{N($)}},Gt=function($,je){try{arrayPush(r.removed,{attribute:je.getAttributeNode($),from:je})}catch{arrayPush(r.removed,{attribute:null,from:je})}if(je.removeAttribute($),$==="is")if(lt||Ae)try{zt(je)}catch{}else try{je.setAttribute($,"")}catch{}},is=function($){let je=null,Le=null;if(ot)$="<remove></remove>"+$;else{const pt=stringMatch($,/^[\r\n\t ]+/);Le=pt&&pt[0]}Ct==="application/xhtml+xml"&&Et===Mt&&($='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$+"</body></html>");const dt=R?R.createHTML($):$;if(Et===Mt)try{je=new x().parseFromString(dt,Ct)}catch{}if(!je||!je.documentElement){je=F.createDocument(Et,"template",null);try{je.documentElement.innerHTML=ls?I:dt}catch{}}const St=je.body||je.documentElement;return $&&Le&&St.insertBefore(i.createTextNode(Le),St.childNodes[0]||null),Et===Mt?Z.call(je,at?"html":"body")[0]:at?je.documentElement:St},ds=function($){return z.call($.ownerDocument||$,$,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},ns=function($){return $ instanceof y&&(typeof $.nodeName!="string"||typeof $.textContent!="string"||typeof $.removeChild!="function"||!($.attributes instanceof g)||typeof $.removeAttribute!="function"||typeof $.setAttribute!="function"||typeof $.namespaceURI!="string"||typeof $.insertBefore!="function"||typeof $.hasChildNodes!="function")},Kt=function($){return typeof c=="function"&&$ instanceof c};function Vt(Be,$,je){arrayForEach(Be,Le=>{Le.call(r,$,je,rt)})}const ps=function($){let je=null;if(Vt(U.beforeSanitizeElements,$,null),ns($))return zt($),!0;const Le=We($.nodeName);if(Vt(U.uponSanitizeElement,$,{tagName:Le,allowedTags:W}),Me&&$.hasChildNodes()&&!Kt($.firstElementChild)&&regExpTest(/<[/\w!]/g,$.innerHTML)&&regExpTest(/<[/\w!]/g,$.textContent)||$.nodeType===NODE_TYPE.progressingInstruction||Me&&$.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,$.data))return zt($),!0;if(!(qe.tagCheck instanceof Function&&qe.tagCheck(Le))&&(!W[Le]||De[Le])){if(!De[Le]&&ms(Le)&&(Ce.tagNameCheck instanceof RegExp&&regExpTest(Ce.tagNameCheck,Le)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(Le)))return!1;if(it&&!Ye[Le]){const dt=A($)||$.parentNode,St=C($)||$.childNodes;if(St&&dt){const pt=St.length;for(let ut=pt-1;ut>=0;--ut){const qt=T(St[ut],!0);qt.__removalCount=($.__removalCount||0)+1,dt.insertBefore(qt,k($))}}}return zt($),!0}return $ instanceof d&&!Dt($)||(Le==="noscript"||Le==="noembed"||Le==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,$.innerHTML)?(zt($),!0):(Ve&&$.nodeType===NODE_TYPE.text&&(je=$.textContent,arrayForEach([q,Y,fe],dt=>{je=stringReplace(je,dt," ")}),$.textContent!==je&&(arrayPush(r.removed,{element:$.cloneNode()}),$.textContent=je)),Vt(U.afterSanitizeElements,$,null),!1)},hs=function($,je,Le){if(He&&(je==="id"||je==="name")&&(Le in i||Le in Lt))return!1;if(!(et&&!Fe[je]&&regExpTest(Q,je))){if(!(Je&&regExpTest(H,je))){if(!(qe.attributeCheck instanceof Function&&qe.attributeCheck(je,$))){if(!Ee[je]||Fe[je]){if(!(ms($)&&(Ce.tagNameCheck instanceof RegExp&&regExpTest(Ce.tagNameCheck,$)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck($))&&(Ce.attributeNameCheck instanceof RegExp&&regExpTest(Ce.attributeNameCheck,je)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(je,$))||je==="is"&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&regExpTest(Ce.tagNameCheck,Le)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(Le))))return!1}else if(!ts[je]){if(!regExpTest(V,stringReplace(Le,_,""))){if(!((je==="src"||je==="xlink:href"||je==="href")&&$!=="script"&&stringIndexOf(Le,"data:")===0&&At[$])){if(!(Ke&&!regExpTest(G,stringReplace(Le,_,"")))){if(Le)return!1}}}}}}}return!0},ms=function($){return $!=="annotation-xml"&&stringMatch($,O)},fs=function($){Vt(U.beforeSanitizeAttributes,$,null);const{attributes:je}=$;if(!je||ns($))return;const Le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ee,forceKeepAttr:void 0};let dt=je.length;for(;dt--;){const St=je[dt],{name:pt,namespaceURI:ut,value:qt}=St,os=We(pt),gs=qt;let kt=pt==="value"?gs:stringTrim(gs);if(Le.attrName=os,Le.attrValue=kt,Le.keepAttr=!0,Le.forceKeepAttr=void 0,Vt(U.uponSanitizeAttribute,$,Le),kt=Le.attrValue,Qe&&(os==="id"||os==="name")&&(Gt(pt,$),kt=Ue+kt),Me&&regExpTest(/((--!?|])>)|<\/(style|title|textarea)/i,kt)){Gt(pt,$);continue}if(os==="attributename"&&stringMatch(kt,"href")){Gt(pt,$);continue}if(Le.forceKeepAttr)continue;if(!Le.keepAttr){Gt(pt,$);continue}if(!ct&&regExpTest(/\/>/i,kt)){Gt(pt,$);continue}Ve&&arrayForEach([q,Y,fe],Es=>{kt=stringReplace(kt,Es," ")});const vs=We($.nodeName);if(!hs(vs,os,kt)){Gt(pt,$);continue}if(R&&typeof S=="object"&&typeof S.getAttributeType=="function"&&!ut)switch(S.getAttributeType(vs,os)){case"TrustedHTML":{kt=R.createHTML(kt);break}case"TrustedScriptURL":{kt=R.createScriptURL(kt);break}}if(kt!==gs)try{ut?$.setAttributeNS(ut,pt,kt):$.setAttribute(pt,kt),ns($)?zt($):arrayPop(r.removed)}catch{Gt(pt,$)}}Vt(U.afterSanitizeAttributes,$,null)},bs=function Be($){let je=null;const Le=ds($);for(Vt(U.beforeSanitizeShadowDOM,$,null);je=Le.nextNode();)Vt(U.uponSanitizeShadowNode,je,null),ps(je),fs(je),je.content instanceof o&&Be(je.content);Vt(U.afterSanitizeShadowDOM,$,null)};return r.sanitize=function(Be){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je=null,Le=null,dt=null,St=null;if(ls=!Be,ls&&(Be="<!-->"),typeof Be!="string"&&!Kt(Be))if(typeof Be.toString=="function"){if(Be=Be.toString(),typeof Be!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!r.isSupported)return Be;if(st||gt($),r.removed=[],typeof Be=="string"&&(Pe=!1),Pe){if(Be.nodeName){const qt=We(Be.nodeName);if(!W[qt]||De[qt])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Be instanceof c)je=is("<!---->"),Le=je.ownerDocument.importNode(Be,!0),Le.nodeType===NODE_TYPE.element&&Le.nodeName==="BODY"||Le.nodeName==="HTML"?je=Le:je.appendChild(Le);else{if(!lt&&!Ve&&!at&&Be.indexOf("<")===-1)return R&&Ne?R.createHTML(Be):Be;if(je=is(Be),!je)return lt?null:Ne?I:""}je&&ot&&zt(je.firstChild);const pt=ds(Pe?Be:je);for(;dt=pt.nextNode();)ps(dt),fs(dt),dt.content instanceof o&&bs(dt.content);if(Pe)return Be;if(lt){if(Ae)for(St=B.call(je.ownerDocument);je.firstChild;)St.appendChild(je.firstChild);else St=je;return(Ee.shadowroot||Ee.shadowrootmode)&&(St=re.call(n,St,!0)),St}let ut=at?je.outerHTML:je.innerHTML;return at&&W["!doctype"]&&je.ownerDocument&&je.ownerDocument.doctype&&je.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,je.ownerDocument.doctype.name)&&(ut="<!DOCTYPE "+je.ownerDocument.doctype.name+`>
`+ut),Ve&&arrayForEach([q,Y,fe],qt=>{ut=stringReplace(ut,qt," ")}),R&&Ne?R.createHTML(ut):ut},r.setConfig=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gt(Be),st=!0},r.clearConfig=function(){rt=null,st=!1},r.isValidAttribute=function(Be,$,je){rt||gt({});const Le=We(Be),dt=We($);return hs(Le,dt,je)},r.addHook=function(Be,$){typeof $=="function"&&arrayPush(U[Be],$)},r.removeHook=function(Be,$){if($!==void 0){const je=arrayLastIndexOf(U[Be],$);return je===-1?void 0:arraySplice(U[Be],je,1)[0]}return arrayPop(U[Be])},r.removeHooks=function(Be){U[Be]=[]},r.removeAllHooks=function(){U=_createHooksMap()},r}var purify=createDOMPurify();const purify_es=Object.freeze(Object.defineProperty({__proto__:null,default:purify},Symbol.toStringTag,{value:"Module"})),generateSecureRandom=(e=9)=>{const r="abcdefghijklmnopqrstuvwxyz0123456789",i=crypto.getRandomValues(new Uint8Array(e));return Array.from(i,n=>r[n%r.length]).join("")},generateSecureId=e=>`${e}_${Date.now()}_${generateSecureRandom()}`,DANGEROUS_PATTERNS=[/javascript:/gi,/data:/gi,/vbscript:/gi,/on\w+\s*=/gi,/<script/gi,/eval\s*\(/gi,/expression\s*\(/gi,/url\s*\(/gi],containsDangerousPatterns=e=>DANGEROUS_PATTERNS.some(r=>r.test(e)),SAFE_CHARS_REGEX=/^[^<>{}\\]*$/,userNameSchema=stringType().min(1,"Name cannot be empty").max(100,"Name too long").regex(SAFE_CHARS_REGEX,"Invalid characters in name").refine(e=>!containsDangerousPatterns(e),"Invalid content detected"),moodNoteSchema=stringType().max(1e3,"Note too long").regex(SAFE_CHARS_REGEX,"Invalid characters in note").refine(e=>!containsDangerousPatterns(e),"Invalid content detected"),gratitudeTextSchema=stringType().min(1,"Gratitude text cannot be empty").max(500,"Gratitude text too long").regex(SAFE_CHARS_REGEX,"Invalid characters").refine(e=>!containsDangerousPatterns(e),"Invalid content detected");stringType().min(1,"Habit name cannot be empty").max(100,"Habit name too long").regex(SAFE_CHARS_REGEX,"Invalid characters in habit name").refine(e=>!containsDangerousPatterns(e),"Invalid content detected");const taskNameSchema=stringType().min(1,"Task name cannot be empty").max(200,"Task name too long").regex(SAFE_CHARS_REGEX,"Invalid characters in task name").refine(e=>!containsDangerousPatterns(e),"Invalid content detected"),emailSchema=stringType().email("Invalid email format").max(254,"Email too long").optional().or(literalType("")),sanitizeString=e=>{let r=purify.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]});for(const i of DANGEROUS_PATTERNS)r=r.replace(i,"");return r.replace(/[<>{}\\]/g,"").trim().slice(0,1e3)},sanitizeUserName=e=>sanitizeString(e).slice(0,100),safeParseInt=(e,r,i,n)=>{const a=typeof e=="number"?e:parseInt(e,10);if(isNaN(a))return r;let o=a;return i!==void 0&&(o=Math.max(i,o)),n!==void 0&&(o=Math.min(n,o)),o},safeParseFloat=(e,r,i,n)=>{const a=typeof e=="number"?e:parseFloat(e);if(isNaN(a))return r;let o=a;return o=Math.max(i,o),o=Math.min(n,o),o},safeAverage=e=>!e||e.length===0?0:e.reduce((r,i)=>r+i,0)/e.length,sanitizeObject=e=>{if(e===null||typeof e!="object")return e;const r={...e},i=["__proto__","constructor","prototype"];for(const n of i)delete r[n];for(const[n,a]of Object.entries(r))a!==null&&typeof a=="object"&&!Array.isArray(a)?r[n]=sanitizeObject(a):Array.isArray(a)&&(r[n]=a.map(o=>o!==null&&typeof o=="object"?sanitizeObject(o):o));return r},moodEntrySchema=objectType({id:stringType().min(1).max(100),mood:enumType(["great","good","okay","bad","terrible"]),date:stringType().regex(/^\d{4}-\d{2}-\d{2}$/),timestamp:numberType().int().positive(),note:stringType().max(1e3).optional()}),habitSchema=objectType({id:stringType().min(1).max(100),name:stringType().min(1).max(200),icon:stringType().max(10),color:stringType().max(50),completedDates:arrayType(stringType()).max(1e4),createdAt:numberType().int().positive()}),focusSessionSchema=objectType({id:stringType().min(1).max(100),duration:numberType().int().min(0).max(86400),date:stringType().regex(/^\d{4}-\d{2}-\d{2}$/),completedAt:numberType().int().positive()}),gratitudeEntrySchema=objectType({id:stringType().min(1).max(100),text:stringType().min(1).max(1e3),date:stringType().regex(/^\d{4}-\d{2}-\d{2}$/),timestamp:numberType().int().positive()}),settingSchema=objectType({key:stringType().min(1).max(100).regex(/^[a-zA-Z0-9_-]+$/),value:unknownType()}),safeValidate=(e,r)=>{const i=e.safeParse(r);return i.success?i.data:null};objectType({version:stringType(),exportDate:stringType(),data:objectType({moods:arrayType(unknownType()).max(1e5),habits:arrayType(unknownType()).max(1e5),habitCompletions:arrayType(unknownType()).max(1e5),gratitudeEntries:arrayType(unknownType()).max(1e5),settings:arrayType(unknownType()).max(1e5)})});function getExtendedDates(){const e=[],r=new Date;for(let i=-30;i<=30;i++){const n=new Date(r);n.setDate(r.getDate()+i),e.push(formatDate$1(n))}return e}function formatDayShort(e,r){const i=new Date(e),n=e===getToday$1(),a={ru:["","","","","","",""],en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],uk:["","","","","","",""],es:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],de:["So","Mo","Di","Mi","Do","Fr","Sa"],fr:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},o=a[r]||a.en;return{day:i.getDate().toString(),weekday:o[i.getDay()],isToday:n}}const EVENT_PRESETS=[{id:"work",emoji:"",color:"#3b82f6",labelKey:"scheduleWork"},{id:"meal",emoji:"",color:"#22c55e",labelKey:"scheduleMeal"},{id:"rest",emoji:"",color:"#8b5cf6",labelKey:"scheduleRest"},{id:"exercise",emoji:"",color:"#f97316",labelKey:"scheduleExercise"},{id:"study",emoji:"",color:"#06b6d4",labelKey:"scheduleStudy"},{id:"meeting",emoji:"",color:"#ec4899",labelKey:"scheduleMeeting"}],HOURS_PER_DAY=24,HOURS=Array.from({length:HOURS_PER_DAY},(e,r)=>r),HOUR_WIDTH_PX=60,DAY_WIDTH_PX=HOURS_PER_DAY*HOUR_WIDTH_PX;function ScheduleTimeline({events:e,onAddEvent:r,onDeleteEvent:i}){const{t:n,language:a}=useLanguage(),[o,l]=reactExports.useState(new Date),[c,d]=reactExports.useState(!1),[p,g]=reactExports.useState(null),[y,x]=reactExports.useState(getToday$1()),S=reactExports.useRef(null),b=reactExports.useRef(null),T=reactExports.useRef(!1),N=Array.isArray(e)?e:[],k=reactExports.useMemo(()=>getExtendedDates(),[]),C=reactExports.useCallback(V=>k.indexOf(V),[k]),A=reactExports.useMemo(()=>N.filter(V=>V.date===y),[N,y]),R=reactExports.useCallback(V=>N.some(W=>W.date===V),[N]),I=y===getToday$1();reactExports.useEffect(()=>{const V=setInterval(()=>l(new Date),6e4);return()=>clearInterval(V)},[]);const F=reactExports.useCallback(V=>{if(!b.current)return;const W=C(V);if(W===-1)return;const K=56,Ee=b.current.clientWidth,Se=W*K-Ee/2+K/2;b.current.scrollTo({left:Math.max(0,Se),behavior:"smooth"})},[C]),z=reactExports.useCallback((V,W=!1)=>{if(!S.current)return;const K=C(V);if(K===-1)return;T.current=!0;let Ee=K*DAY_WIDTH_PX;if(W&&V===getToday$1()){const Se=new Date().getHours();Ee+=Se*HOUR_WIDTH_PX}Ee-=S.current.clientWidth/2,S.current.scrollTo({left:Math.max(0,Ee),behavior:"smooth"}),setTimeout(()=>{T.current=!1},500)},[C]);reactExports.useEffect(()=>{const V=getToday$1();x(V),z(V,!0),F(V)},[z,F]);const B=reactExports.useCallback(()=>{if(!S.current||T.current)return;const W=S.current.scrollLeft+S.current.clientWidth/2,K=Math.floor(W/DAY_WIDTH_PX),Ee=Math.max(0,Math.min(K,k.length-1)),Se=k[Ee];Se&&Se!==y&&(x(Se),F(Se))},[k,y,F]),Z=reactExports.useCallback(V=>{x(V),z(V,V===getToday$1())},[z]),re=reactExports.useCallback(()=>{const V=getToday$1();x(V),z(V,!0),F(V)},[z,F]),U=o.getHours(),q=o.getMinutes(),Y=(V,W=0)=>`${V.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`,fe=Y(U,q),Q=V=>{const W=V.startHour*60+V.startMinute,K=V.endHour*60+V.endMinute,Ee=HOURS_PER_DAY*60,Se=W/Ee*100,Ce=(K-W)/Ee*100;return{left:`${Se}%`,width:`${Math.max(Ce,2)}%`,backgroundColor:V.color}},H=V=>{const W=U*60+q,K=V.startHour*60+V.startMinute,Ee=V.endHour*60+V.endMinute;return W>=K&&W<Ee},G=I?A.find(H):null,_=reactExports.useMemo(()=>(U*60+q)/(HOURS_PER_DAY*60)*100,[U,q]),O=reactExports.useMemo(()=>{const V=new Map;return e.forEach(W=>{const K=V.get(W.date)||[];K.push(W),V.set(W.date,K)}),V},[e]);return reactExports.useMemo(()=>C(getToday$1()),[C]),jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-3xl p-4 zen-shadow-card animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:n.scheduleTitle||"Your Schedule"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-primary",children:fe}),G&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground px-2 py-0.5 bg-primary/10 rounded-full",children:[G.emoji," ",G.title]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[y!==getToday$1()&&jsxRuntimeExports.jsx("button",{onClick:re,className:"p-2 bg-secondary/50 hover:bg-secondary rounded-xl transition-colors","aria-label":n.today||"Today",children:jsxRuntimeExports.jsx(House,{className:"w-5 h-5 text-muted-foreground"})}),r&&jsxRuntimeExports.jsx("button",{onClick:()=>d(!0),"aria-label":n.scheduleAddEvent||"Add event",className:"p-2 bg-primary/10 hover:bg-primary/20 rounded-xl transition-colors",children:jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 text-primary"})})]})]}),jsxRuntimeExports.jsx("div",{ref:b,className:"flex gap-1.5 mb-3 overflow-x-auto pb-1 -mx-1 px-1 scrollbar-hide",children:k.map(V=>{const{day:W,weekday:K,isToday:Ee}=formatDayShort(V,a),Se=V===y,Ce=R(V);return jsxRuntimeExports.jsxs("button",{onClick:()=>Z(V),className:cn("flex-shrink-0 flex flex-col items-center py-2 px-3 rounded-xl transition-all min-w-[52px]",Se?"bg-primary text-primary-foreground":Ee?"bg-primary/20 text-primary":"bg-secondary/50 hover:bg-secondary text-foreground"),children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] uppercase opacity-70",children:K}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold",children:W}),Ce&&!Se&&jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-0.5"}),Ce&&Se&&jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-foreground mt-0.5"}),!Ce&&jsxRuntimeExports.jsx("div",{className:"h-1.5 mt-0.5"})]},V)})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{ref:S,onScroll:B,className:"overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-primary/20",children:jsxRuntimeExports.jsx("div",{className:"relative h-24",style:{width:`${k.length*DAY_WIDTH_PX}px`},children:k.map((V,W)=>{const K=W*DAY_WIDTH_PX,Ee=O.get(V)||[],Se=V===getToday$1(),Ce=V===y;return jsxRuntimeExports.jsxs("div",{className:"absolute top-0 bottom-0",style:{left:`${K}px`,width:`${DAY_WIDTH_PX}px`},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 top-0 flex",children:HOURS.map(De=>jsxRuntimeExports.jsx("div",{className:"text-center",style:{width:`${HOUR_WIDTH_PX}px`},children:jsxRuntimeExports.jsx("span",{className:cn("text-xs",Se&&De===U?"text-primary font-bold":De===0?"text-muted-foreground/70 font-medium":"text-muted-foreground"),children:De===0?formatDayShort(V,a).day:Y(De)})},De))}),jsxRuntimeExports.jsxs("div",{className:cn("absolute left-0 right-0 top-6 h-12 rounded-xl overflow-hidden",Ce?"bg-secondary/70":"bg-secondary/40"),children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex",children:HOURS.map(De=>jsxRuntimeExports.jsx("div",{className:cn("border-r",De===0?"border-primary/30 border-r-2":De%6===0?"border-border/50":"border-border/20"),style:{width:`${HOUR_WIDTH_PX}px`}},De))}),Ee.map(De=>{const Fe=De.source==="habit";return jsxRuntimeExports.jsxs("button",{onClick:()=>g(De),style:Q(De),className:cn("absolute top-1 bottom-1 rounded-lg flex items-center justify-center gap-1 text-white text-xs font-medium transition-all",Fe?"opacity-90 border-2 border-dashed border-white/40":"hover:scale-[1.02] hover:z-10",Se&&H(De)&&"ring-2 ring-white ring-offset-2 ring-offset-card animate-pulse"),children:[Fe&&jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -left-1 text-[10px] bg-white/30 rounded-full w-4 h-4 flex items-center justify-center backdrop-blur-sm",children:""}),jsxRuntimeExports.jsx("span",{children:De.emoji}),jsxRuntimeExports.jsx("span",{className:"truncate px-1",children:De.title})]},De.id)}),Se&&jsxRuntimeExports.jsxs("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-20",style:{left:`${_}%`},children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-red-500 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-red-500 rounded-full animate-pulse"})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute left-0 right-0 bottom-0 flex text-[10px] text-muted-foreground",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 text-center",children:n.night||"Night"}),jsxRuntimeExports.jsx("div",{className:"flex-1 text-center",children:n.morning||"Morning"}),jsxRuntimeExports.jsx("div",{className:"flex-1 text-center",children:n.afternoon||"Afternoon"}),jsxRuntimeExports.jsx("div",{className:"flex-1 text-center",children:n.evening||"Evening"})]})]},V)})})}),jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-8 bg-gradient-to-r from-card to-transparent pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-8 bg-gradient-to-l from-card to-transparent pointer-events-none"})]}),A.length===0&&jsxRuntimeExports.jsx("div",{className:"mt-3 text-center py-3 bg-secondary/30 rounded-xl",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:I?n.scheduleEmpty||"No events planned. Tap + to add your schedule!":n.scheduleEmptyDay||"No events for this day"})}),c&&r&&jsxRuntimeExports.jsx(AddEventModal,{selectedDate:y,allDates:k,onClose:()=>d(!1),onAdd:V=>{r(V),d(!1)}}),p&&jsxRuntimeExports.jsx(EventDetailsModal,{event:p,onClose:()=>g(null),onDelete:i?()=>{i(p.id),g(null)}:void 0})]})}function AddEventModal({selectedDate:e,allDates:r,onClose:i,onAdd:n}){const{t:a,language:o}=useLanguage(),[l,c]=reactExports.useState(EVENT_PRESETS[0]),[d,p]=reactExports.useState(e),[g,y]=reactExports.useState(9),[x,S]=reactExports.useState(0),[b,T]=reactExports.useState(10),[N,k]=reactExports.useState(0),[C,A]=reactExports.useState(""),[R,I]=reactExports.useState(""),F=B=>{const Z=new Date(B),re=getToday$1(),U=(()=>{const Y=new Date;return Y.setDate(Y.getDate()+1),formatDate$1(Y)})();if(B===re)return a.today||"Today";if(B===U)return a.tomorrow||"Tomorrow";const q=o==="ru"?"ru-RU":o==="uk"?"uk-UA":o==="es"?"es-ES":o==="de"?"de-DE":o==="fr"?"fr-FR":"en-US";return Z.toLocaleDateString(q,{weekday:"short",day:"numeric",month:"short"})},z=()=>{const B=C||a[l.labelKey]||l.id;n({title:B,startHour:g,startMinute:x,endHour:b,endMinute:N,color:l.color,emoji:l.emoji,date:d,note:R.trim()||void 0})};return jsxRuntimeExports.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"add-event-title",className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center p-4",style:{zIndex:"var(--z-overlay)",marginBottom:"var(--nav-height)"},children:jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-3xl p-5 w-full max-w-sm animate-slide-up max-h-[90vh] overflow-y-auto",style:{paddingBottom:"calc(var(--nav-height) + var(--safe-bottom))"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{id:"add-event-title",className:"text-lg font-semibold",children:a.scheduleAddEvent||"Add Event"}),jsxRuntimeExports.jsx("button",{onClick:i,"aria-label":a.close||"Close",className:"p-2 hover:bg-muted rounded-xl",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:a.scheduleDate||"Date"}),jsxRuntimeExports.jsx("select",{value:d,onChange:B=>p(B.target.value),className:"w-full p-3 bg-secondary/50 rounded-xl text-sm",children:r.map(B=>jsxRuntimeExports.jsx("option",{value:B,children:F(B)},B))})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",role:"group","aria-label":a.scheduleEventType||"Event type",children:EVENT_PRESETS.map(B=>{const Z=a[B.labelKey]||B.id;return jsxRuntimeExports.jsxs("button",{onClick:()=>c(B),"aria-pressed":l.id===B.id,"aria-label":Z,className:cn("p-3 rounded-xl flex flex-col items-center gap-1 transition-all",l.id===B.id?"ring-2 ring-primary bg-primary/10":"bg-secondary/50 hover:bg-secondary"),children:[jsxRuntimeExports.jsx("span",{className:"text-xl","aria-hidden":"true",children:B.emoji}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:Z})]},B.id)})}),jsxRuntimeExports.jsx("input",{type:"text",value:C,onChange:B=>A(B.target.value),placeholder:a.scheduleCustomTitle||"Custom title (optional)",className:"w-full p-3 bg-secondary/50 rounded-xl text-sm mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:a.scheduleStart||"Start"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("select",{value:g,onChange:B=>y(safeParseInt(B.target.value,9,0,23)),className:"flex-1 p-2 bg-secondary/50 rounded-lg text-sm",children:HOURS.map(B=>jsxRuntimeExports.jsx("option",{value:B,children:B.toString().padStart(2,"0")},B))}),jsxRuntimeExports.jsx("select",{value:x,onChange:B=>S(safeParseInt(B.target.value,0,0,59)),className:"flex-1 p-2 bg-secondary/50 rounded-lg text-sm",children:[0,15,30,45].map(B=>jsxRuntimeExports.jsx("option",{value:B,children:B.toString().padStart(2,"0")},B))})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:a.scheduleEnd||"End"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("select",{value:b,onChange:B=>T(safeParseInt(B.target.value,10,0,23)),className:"flex-1 p-2 bg-secondary/50 rounded-lg text-sm",children:HOURS.map(B=>jsxRuntimeExports.jsx("option",{value:B,children:B.toString().padStart(2,"0")},B))}),jsxRuntimeExports.jsx("select",{value:N,onChange:B=>k(safeParseInt(B.target.value,0,0,59)),className:"flex-1 p-2 bg-secondary/50 rounded-lg text-sm",children:[0,15,30,45].map(B=>jsxRuntimeExports.jsx("option",{value:B,children:B.toString().padStart(2,"0")},B))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:a.scheduleNote||"Note (optional)"}),jsxRuntimeExports.jsx("textarea",{value:R,onChange:B=>I(B.target.value),placeholder:a.scheduleNotePlaceholder||"Add details or reminders...",className:"w-full p-3 bg-secondary/50 rounded-xl text-sm resize-none",rows:2})]}),jsxRuntimeExports.jsxs("button",{onClick:z,className:"w-full py-3 zen-gradient text-primary-foreground rounded-xl font-semibold flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Check,{className:"w-5 h-5"}),a.scheduleAdd||"Add to Schedule"]})]})})}function EventDetailsModal({event:e,onClose:r,onDelete:i}){const{t:n}=useLanguage(),a=e.source==="habit",o=(l,c)=>`${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`;return jsxRuntimeExports.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"event-details-title",className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",onClick:r,children:jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-3xl p-5 w-full max-w-xs animate-scale-in",onClick:l=>l.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-3 flex items-center justify-center text-3xl relative",style:{backgroundColor:e.color},children:[jsxRuntimeExports.jsx("span",{"aria-hidden":"true",children:e.emoji}),a&&jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 text-sm bg-primary rounded-full w-6 h-6 flex items-center justify-center","aria-hidden":"true",children:""})]}),jsxRuntimeExports.jsx("h3",{id:"event-details-title",className:"text-lg font-semibold",children:e.title}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[o(e.startHour,e.startMinute)," - ",o(e.endHour,e.endMinute)]}),a&&jsxRuntimeExports.jsxs("div",{className:"mt-2 px-3 py-1.5 bg-primary/10 rounded-full inline-flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{className:"text-xs text-primary font-medium",children:n.habitReminder||"Habit Reminder"})]})]}),e.note&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-secondary/50 rounded-xl",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:e.note})}),a&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-amber-500/10 rounded-xl border border-amber-500/20",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:n.habitEventExplanation||"This event is from your habit. Edit the habit to change it."})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:r,className:"flex-1 py-3 bg-secondary rounded-xl font-medium",children:n.close||"Close"}),i&&!a&&jsxRuntimeExports.jsx("button",{onClick:i,className:"flex-1 py-3 bg-red-500/20 text-red-500 rounded-xl font-medium",children:n.delete||"Delete"})]})]})})}const defaultReminderSettings={enabled:!1,moodTimeMorning:"09:00",moodTimeAfternoon:"14:00",moodTimeEvening:"20:00",habitTime:"21:00",focusTime:"10:00",days:[1,2,3,4,5],quietHours:{start:"22:00",end:"08:00"},habitIds:[]},habitTemplates=[{id:"water",names:{en:"Drink water",ru:" ",uk:" ",es:"Beber agua",de:"Wasser trinken",fr:"Boire de l'eau"},icon:"",color:"bg-primary",type:"multiple",dailyTarget:8},{id:"exercise",names:{en:"Exercise",ru:"",uk:"",es:"Ejercicio",de:"Sport",fr:"Exercice"},icon:"",color:"bg-accent",type:"daily"},{id:"read",names:{en:"Read",ru:"",uk:"",es:"Leer",de:"Lesen",fr:"Lire"},icon:"",color:"bg-mood-good",type:"daily"},{id:"meditate",names:{en:"Meditate",ru:"",uk:"",es:"Meditar",de:"Meditieren",fr:"Mditer"},icon:"",color:"bg-mood-okay",type:"daily"},{id:"vitamins",names:{en:"Take vitamins",ru:"",uk:"",es:"Vitaminas",de:"Vitamine",fr:"Vitamines"},icon:"",color:"bg-mood-great",type:"scheduled",defaultTime:"09:00"},{id:"healthy-food",names:{en:"Eat healthy",ru:" ",uk:" ",es:"Comer sano",de:"Gesund essen",fr:"Manger sainement"},icon:"",color:"bg-primary",type:"scheduled",defaultTime:"12:00"},{id:"sleep",names:{en:"Sleep 8 hours",ru:" 8 ",uk:" 8 ",es:"Dormir 8 horas",de:"8 Stunden schlafen",fr:"Dormir 8 heures"},icon:"",color:"bg-accent",type:"daily"},{id:"journal",names:{en:"Journal",ru:"",uk:"",es:"Diario",de:"Tagebuch",fr:"Journal"},icon:"",color:"bg-mood-good",type:"daily"},{id:"quit-smoking",names:{en:"Quit smoking",ru:" ",uk:" ",es:"Dejar de fumar",de:"Mit Rauchen aufhren",fr:"Arrter de fumer"},icon:"",color:"bg-mood-great",type:"continuous"},{id:"quit-drinking",names:{en:"Quit drinking",ru:" ",uk:" ",es:"Dejar de beber",de:"Aufhren zu trinken",fr:"Arrter de boire"},icon:"",color:"bg-mood-okay",type:"continuous"},{id:"learn-english",names:{en:"Learn English",ru:" ",uk:" ",es:"Aprender ingls",de:"Englisch lernen",fr:"Apprendre l'anglais"},icon:"",color:"bg-accent",type:"daily"}];function getHabitTemplateName(e,r){const i=habitTemplates.find(n=>n.id===e);return i?.names[r]||i?.names.en||e}function findTemplateIdByName(e){const r=e.toLowerCase();for(const i of habitTemplates)for(const n of Object.values(i.names))if(n.toLowerCase()===r)return i.id}function normalizeHabit(e){return{...e,type:e.type||"daily",frequency:e.frequency||"daily",progressByDate:e.progressByDate||{},completedDates:e.completedDates||[],reminders:e.reminders||[]}}function getHabitCompletedDates(e){const r=normalizeHabit(e);return r.type==="reduce"?Object.entries(r.progressByDate||{}).filter(([i,n])=>n===0).map(([i])=>i):r.completedDates}function isHabitCompletedOnDate(e,r){const i=normalizeHabit(e);return i.type==="reduce"?i.progressByDate?.[r]===0:i.completedDates.includes(r)}function getHabitCompletionTotal(e){return getHabitCompletedDates(e).length}const SUPABASE_URL="https://bwgfslmxmueyglpumkbf.supabase.co",SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3Z2ZzbG14bXVleWdscHVta2JmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgwMDU4MzEsImV4cCI6MjA4MzU4MTgzMX0.3e8j2EkgFTfkxwcPt-OkxCY_QE6ZfCKzkIlm2KyKCVo",supabase=createClient(SUPABASE_URL,SUPABASE_ANON_KEY),getCurrentUser=async()=>{if(!supabase)return null;const{data:{user:e}}=await supabase.auth.getUser();return e},getCurrentUserId=async()=>(await getCurrentUser())?.id??null,CLOUD_SYNC_ENABLED_KEY="zenflow_cloud_sync_enabled",isCloudSyncEnabled=()=>{try{return localStorage.getItem(CLOUD_SYNC_ENABLED_KEY)==="true"}catch(e){return logger.error("[CloudSync] Error reading cloud sync setting:",e),!1}},setCloudSyncEnabled=e=>{try{localStorage.setItem(CLOUD_SYNC_ENABLED_KEY,String(e)),logger.log(`[CloudSync] Cloud sync ${e?"enabled":"disabled"} by user`)}catch(r){logger.error("[CloudSync] Error saving cloud sync setting:",r)}},migrateExistingUser=()=>{try{localStorage.getItem(CLOUD_SYNC_ENABLED_KEY)===null&&(setCloudSyncEnabled(!0),logger.log("[CloudSync] Migrated existing user: cloud sync enabled"))}catch(e){logger.error("[CloudSync] Error during migration:",e)}};class SyncOrchestrator{queue=[];isProcessing=!1;processingPromise=null;listeners=new Set;state={status:"idle",queueLength:0,isOnline:navigator.onLine};RETRY_DELAY_BASE=1e3;RETRY_DELAY_MAX=3e4;onlineHandler=()=>this.handleOnlineStatusChange(!0);offlineHandler=()=>this.handleOnlineStatusChange(!1);constructor(){window.addEventListener("online",this.onlineHandler),window.addEventListener("offline",this.offlineHandler)}destroy(){window.removeEventListener("online",this.onlineHandler),window.removeEventListener("offline",this.offlineHandler),this.listeners.clear()}async sync(r,i,n={}){if(!isCloudSyncEnabled())return;const a={id:`${r}-${Date.now()}-${generateSecureRandom()}`,type:r,priority:n.priority??5,executor:i,retries:0,maxRetries:n.maxRetries??3,createdAt:Date.now()};this.queue.push(a),this.queue.sort((o,l)=>l.priority-o.priority),this.updateState({queueLength:this.queue.length}),logger.sync(`Queued ${r} sync (priority: ${a.priority})`),this.startProcessing()}async startProcessing(){if(this.processingPromise){await this.processingPromise,this.queue.length>0&&!this.isProcessing&&this.startProcessing();return}this.processingPromise=this.processQueue();try{await this.processingPromise}finally{this.processingPromise=null}}async processQueue(){if(!(this.isProcessing||this.queue.length===0)){if(!this.state.isOnline){this.updateState({status:"error",lastError:"Device is offline"});return}for(this.isProcessing=!0,this.updateState({status:"syncing"});this.queue.length>0;){const r=this.queue[0];try{logger.sync(`Starting ${r.type} sync`),r.startedAt=Date.now(),this.updateState({currentOperation:r.type,status:"syncing"}),await r.executor(),r.completedAt=Date.now();const i=r.completedAt-r.startedAt;logger.sync(`Completed ${r.type} sync in ${i}ms`),this.queue.shift(),this.updateState({status:"success",lastSyncTime:Date.now(),lastSyncType:r.type,queueLength:this.queue.length,currentOperation:void 0,lastError:void 0})}catch(i){if(logger.error(`Sync error for ${r.type}:`,i),r.error=i,r.retries++,r.retries<r.maxRetries){const n=this.calculateRetryDelay(r.retries);logger.sync(`Retrying ${r.type} in ${n}ms (attempt ${r.retries+1}/${r.maxRetries})`),this.queue.shift(),await this.sleep(n),this.queue.push(r),this.queue.sort((a,o)=>o.priority-a.priority)}else logger.error(`Max retries exceeded for ${r.type}`),this.queue.shift(),this.updateState({status:"error",lastError:i.message,queueLength:this.queue.length,currentOperation:void 0})}}this.isProcessing=!1,this.queue.length===0&&this.updateState({status:"idle",currentOperation:void 0})}}calculateRetryDelay(r){return Math.min(this.RETRY_DELAY_BASE*Math.pow(2,r),this.RETRY_DELAY_MAX)+Math.random()*1e3}sleep(r){return new Promise(i=>setTimeout(i,r))}handleOnlineStatusChange(r){this.updateState({isOnline:r}),r&&this.queue.length>0&&!this.isProcessing&&this.startProcessing()}updateState(r){this.state={...this.state,...r},this.notifyListeners()}subscribe(r){return this.listeners.add(r),r(this.state),()=>{this.listeners.delete(r)}}notifyListeners(){this.listeners.forEach(r=>r(this.state))}getState(){return{...this.state}}clearQueue(){this.queue=[],this.updateState({queueLength:0,status:"idle",currentOperation:void 0})}getQueueInfo(){return this.queue.map(r=>({type:r.type,priority:r.priority,retries:r.retries}))}}const syncOrchestrator=new SyncOrchestrator;function useSyncOrchestrator(){const[e,r]=reactExports.useState(syncOrchestrator.getState());return reactExports.useEffect(()=>syncOrchestrator.subscribe(r),[]),{state:e,sync:syncOrchestrator.sync.bind(syncOrchestrator),clearQueue:syncOrchestrator.clearQueue.bind(syncOrchestrator),getQueueInfo:syncOrchestrator.getQueueInfo.bind(syncOrchestrator)}}const syncReminderSettings=async(e,r)=>{supabase&&await syncOrchestrator.sync("reminders",async()=>{const{data:{user:i}}=await supabase.auth.getUser();if(!i)return;const n=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",a={user_id:i.id,enabled:e.enabled,mood_time_morning:e.moodTimeMorning,mood_time_afternoon:e.moodTimeAfternoon,mood_time_evening:e.moodTimeEvening,habit_time:e.habitTime,focus_time:e.focusTime,days:e.days,quiet_start:e.quietHours.start,quiet_end:e.quietHours.end,habit_ids:e.habitIds,timezone:n,language:r,updated_at:new Date().toISOString()},{error:o}=await supabase.from("user_reminder_settings").upsert(a,{onConflict:"user_id"});if(o)throw logger.error("[ReminderSync] Failed to push settings:",o),new Error(o.message)},{priority:7,maxRetries:3})},BACKUP_SCHEMA_VERSION=2,getOrCreateDeviceId=async()=>{const e=await db.settings.get("zenflow-device-id");if(e?.value)return String(e.value);const r=`device_${generateId$1()}`;return await db.settings.put({key:"zenflow-device-id",value:r}),r},exportBackup=async()=>{const[e,r,i,n,a]=await Promise.all([db.moods.toArray(),db.habits.toArray(),db.focusSessions.toArray(),db.gratitudeEntries.toArray(),db.settings.toArray()]);return{schemaVersion:BACKUP_SCHEMA_VERSION,createdAt:new Date().toISOString(),deviceId:await getOrCreateDeviceId(),data:{moods:e,habits:r,focusSessions:i,gratitudeEntries:n,settings:a}}},normalizeBackup=e=>{if(!e||typeof e!="object")throw new Error("Invalid backup payload.");if(e.schemaVersion!==1&&e.schemaVersion!==BACKUP_SCHEMA_VERSION)throw new Error("Unsupported backup version.");if(!("data"in e)||!e.data)throw new Error("Backup payload missing data.");return e.schemaVersion===1?{schemaVersion:BACKUP_SCHEMA_VERSION,createdAt:e.exportedAt||new Date().toISOString(),deviceId:"legacy",data:e.data}:{schemaVersion:BACKUP_SCHEMA_VERSION,createdAt:e.createdAt||e.exportedAt||new Date().toISOString(),deviceId:e.deviceId||"unknown",data:e.data}},importBackup=async(e,r)=>{const i=normalizeBackup(e),{moods:n,habits:a,focusSessions:o,gratitudeEntries:l,settings:c}=i.data,d=(_,O,V=1e5)=>{const W=_||[];if(W.length>V)throw new Error(`Backup file too large (max ${V} items per collection)`);const K=[];let Ee=0;for(const Se of W){const Ce=sanitizeObject(Se),De=safeValidate(O,Ce);De?K.push(De):Ee++}return{valid:K,skipped:Ee}},p=d(n,moodEntrySchema),g=d(a,habitSchema),y=d(o,focusSessionSchema),x=d(l,gratitudeEntrySchema),S=d(c,settingSchema);if(r==="replace")return await db.transaction("rw",db.moods,db.habits,db.focusSessions,db.gratitudeEntries,db.settings,async()=>{await db.moods.clear(),await db.habits.clear(),await db.focusSessions.clear(),await db.gratitudeEntries.clear(),await db.settings.clear(),p.valid.length&&await db.moods.bulkAdd(p.valid),g.valid.length&&await db.habits.bulkAdd(g.valid),y.valid.length&&await db.focusSessions.bulkAdd(y.valid),x.valid.length&&await db.gratitudeEntries.bulkAdd(x.valid),S.valid.length&&await db.settings.bulkAdd(S.valid)}),{mode:r,moods:{added:p.valid.length,updated:0,skipped:p.skipped},habits:{added:g.valid.length,updated:0,skipped:g.skipped},focusSessions:{added:y.valid.length,updated:0,skipped:y.skipped},gratitudeEntries:{added:x.valid.length,updated:0,skipped:x.skipped},settings:{added:S.valid.length,updated:0,skipped:S.skipped}};const[b,T,N,k,C]=await Promise.all([db.moods.toCollection().primaryKeys(),db.habits.toCollection().primaryKeys(),db.focusSessions.toCollection().primaryKeys(),db.gratitudeEntries.toCollection().primaryKeys(),db.settings.toCollection().primaryKeys()]),A=new Set(b),R=new Set(T),I=new Set(N),F=new Set(k),z=new Set(C),B=p.valid.filter(_=>!A.has(_.id)).length,Z=g.valid.filter(_=>!R.has(_.id)).length,re=y.valid.filter(_=>!I.has(_.id)).length,U=x.valid.filter(_=>!F.has(_.id)).length,q=S.valid.filter(_=>!z.has(_.key)).length,Y=p.valid.length-B,fe=g.valid.length-Z,Q=y.valid.length-re,H=x.valid.length-U,G=S.valid.length-q;return await db.transaction("rw",db.moods,db.habits,db.focusSessions,db.gratitudeEntries,db.settings,async()=>{p.valid.length&&await db.moods.bulkPut(p.valid),g.valid.length&&await db.habits.bulkPut(g.valid),y.valid.length&&await db.focusSessions.bulkPut(y.valid),x.valid.length&&await db.gratitudeEntries.bulkPut(x.valid),S.valid.length&&await db.settings.bulkPut(S.valid)}),{mode:r,moods:{added:B,updated:Y,skipped:p.skipped},habits:{added:Z,updated:fe,skipped:g.skipped},focusSessions:{added:re,updated:Q,skipped:y.skipped},gratitudeEntries:{added:U,updated:H,skipped:x.skipped},settings:{added:q,updated:G,skipped:S.skipped}}},BACKUP_TABLE="user_backups",SYNC_INTERVAL=5*60*1e3,SYNC_DEBOUNCE=30*1e3;let syncInterval=null,syncTimeout=null,lastSyncTime=0,autoSyncStarted=!1,syncLock=!1,syncLockOwner=null,syncLockTimeout=null;const SYNC_LOCK_TIMEOUT=6e4,generateOperationId=()=>`${Date.now()}-${generateSecureRandom()}`;let visibilityChangeHandler=null,beforeUnloadHandler=null;const syncWithCloud=async(e="merge")=>{if(syncLock)return{status:"skipped"};if(!supabase)throw new Error("Supabase not configured.");const r=generateOperationId();syncLock=!0,syncLockOwner=r,syncLockTimeout=setTimeout(()=>{syncLock&&syncLockOwner===r&&(syncLock=!1,syncLockOwner=null)},SYNC_LOCK_TIMEOUT);try{const{data:i}=await supabase.auth.getUser(),n=i?.user;if(!n)throw new Error("Not authenticated.");const a=await exportBackup(),{data:o,error:l}=await supabase.from(BACKUP_TABLE).select("payload, updated_at").eq("user_id",n.id).maybeSingle();if(l)throw l;let c="pushed";if(o?.payload){const g=o.payload,y=g.data||{},x=a.data||{},S=(x.moods?.length||0)+(x.habits?.length||0)+(x.focusSessions?.length||0)+(x.gratitudeEntries?.length||0),b=(y.moods?.length||0)+(y.habits?.length||0)+(y.focusSessions?.length||0)+(y.gratitudeEntries?.length||0);logger.sync(`Local items: ${S}, Remote items: ${b}`),b>0&&(logger.sync("Merging remote data into local..."),await importBackup(g,e),c=S===0?"pulled":"merged",triggerDataRefresh(),logger.sync("Data refreshed after cloud merge"))}else logger.sync("No remote data found, will push local data");const d=await exportBackup(),{error:p}=await supabase.from(BACKUP_TABLE).upsert({user_id:n.id,payload:d,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(p)throw p;return lastSyncTime=Date.now(),{status:c}}finally{syncLockTimeout&&(clearTimeout(syncLockTimeout),syncLockTimeout=null),syncLockOwner===r&&(syncLock=!1,syncLockOwner=null)}},silentSync=async()=>{await syncOrchestrator.sync("backup",async()=>{try{await syncWithCloud("merge"),logger.sync("Auto-sync completed")}catch(e){throw e}},{priority:5,maxRetries:3})},startAutoSync=()=>{supabase&&(autoSyncStarted||(syncInterval&&clearInterval(syncInterval),syncInterval=setInterval(silentSync,SYNC_INTERVAL),visibilityChangeHandler=()=>{document.visibilityState==="visible"&&Date.now()-lastSyncTime>6e4&&silentSync().catch(e=>{})},beforeUnloadHandler=()=>{navigator.sendBeacon&&supabase&&silentSync().catch(e=>{})},document.addEventListener("visibilitychange",visibilityChangeHandler),window.addEventListener("beforeunload",beforeUnloadHandler),autoSyncStarted=!0))},stopAutoSync=()=>{syncInterval&&(clearInterval(syncInterval),syncInterval=null),syncTimeout&&(clearTimeout(syncTimeout),syncTimeout=null),visibilityChangeHandler&&(document.removeEventListener("visibilitychange",visibilityChangeHandler),visibilityChangeHandler=null),beforeUnloadHandler&&(window.removeEventListener("beforeunload",beforeUnloadHandler),beforeUnloadHandler=null),autoSyncStarted=!1},triggerSync=()=>{supabase&&(syncTimeout&&clearTimeout(syncTimeout),syncTimeout=setTimeout(silentSync,SYNC_DEBOUNCE))};function formatDate(e){const r=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${r}-${i}-${n}`}function shouldReminderShowOnDate(e,r){if(!e.enabled)return!1;if(!e.days||e.days.length===0)return!0;const i=new Date(r);if(isNaN(i.getTime()))return!1;const n=i.getDay();return e.days.includes(n)}function habitColorToHex(e){if(!e||typeof e!="string")return"#8b5cf6";const r={"bg-primary":"#8b5cf6","bg-accent":"#06b6d4","bg-green-500":"#22c55e","bg-blue-500":"#3b82f6","bg-purple-500":"#a855f7","bg-pink-500":"#ec4899","bg-orange-500":"#f97316","bg-red-500":"#ef4444","bg-yellow-500":"#eab308","bg-teal-500":"#14b8a6","bg-indigo-500":"#6366f1","bg-cyan-500":"#06b6d4"};for(const[i,n]of Object.entries(r))if(e.includes(i.replace("bg-","")))return n;return"#8b5cf6"}function habitToScheduleEvents(e,r){const i=[];if(!e.reminders||e.reminders.length===0)return i;for(const n of r)e.reminders.forEach((a,o)=>{if(!shouldReminderShowOnDate(a,n)||!a.time||typeof a.time!="string")return;const l=a.time.split(":");if(l.length<2)return;const c=safeParseInt(l[0],9,0,23),d=safeParseInt(l[1],0,0,59);let p=c,g=d+30;g>=60&&(p+=1,g-=60),p>=24&&(p=23,g=59),i.push({id:`habit-${e.id}-${n}-${o}`,title:e.name,startHour:c,startMinute:d,endHour:p,endMinute:g,color:habitColorToHex(e.color),emoji:e.icon,date:n,source:"habit",habitId:e.id,isEditable:!1})});return i}function generateHabitScheduleEvents(e,r=7){const i=[],n=new Date;for(let o=0;o<=r;o++){const l=new Date(n);l.setDate(n.getDate()+o),i.push(formatDate(l))}const a=[];for(const o of e){const l=habitToScheduleEvents(o,i);a.push(...l)}return a}function mergeScheduleEvents(e,r){return[...e.map(n=>({...n,source:n.source||"manual",isEditable:n.isEditable!==!1})),...r]}const HealthConnect=registerPlugin("HealthConnect",{web:()=>__vitePreload(()=>import("./HealthConnectWeb-DYBPdPRM.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>new e.HealthConnectWeb)});function useHealthConnect(){const e=Capacitor.getPlatform()==="android",[r,i]=reactExports.useState({isAvailable:!1,isLoading:!0,permissions:null,unavailableReason:null}),n=reactExports.useCallback(async()=>{if(!e)return{available:!1,reason:"not_supported"};try{const y=await HealthConnect.isAvailable();return logger.log("[HealthConnect] Availability:",y),y}catch(y){return logger.error("[HealthConnect] Error checking availability:",y),{available:!1,reason:"not_supported"}}},[e]),a=reactExports.useCallback(async()=>{if(!e)return{mindfulness:!1,sleep:!1,steps:!1,allGranted:!1};try{const y=await HealthConnect.checkPermissions();return logger.log("[HealthConnect] Permissions:",y),y}catch(y){return logger.error("[HealthConnect] Error checking permissions:",y),{mindfulness:!1,sleep:!1,steps:!1,allGranted:!1}}},[e]),o=reactExports.useCallback(async()=>{if(!e)return{mindfulness:!1,sleep:!1,steps:!1,allGranted:!1};try{i(x=>({...x,isLoading:!0}));const y=await HealthConnect.requestPermissions();return i(x=>({...x,permissions:y,isLoading:!1})),logger.log("[HealthConnect] Permissions after request:",y),y}catch(y){return logger.error("[HealthConnect] Error requesting permissions:",y),i(x=>({...x,isLoading:!1})),{mindfulness:!1,sleep:!1,steps:!1,allGranted:!1}}},[e]),l=reactExports.useCallback(async(y,x,S,b)=>{if(!e||!r.isAvailable||!r.permissions?.mindfulness)return!1;try{const T=await HealthConnect.writeMindfulnessSession({sessionId:y,startTime:x,durationMinutes:S,title:b||"Focus Session",notes:`ZenFlow focus session - ${S} minutes`});return logger.log("[HealthConnect] Focus session synced:",T),T.success}catch(T){return logger.error("[HealthConnect] Error syncing focus session:",T),!1}},[e,r.isAvailable,r.permissions?.mindfulness]),c=reactExports.useCallback(async(y=7)=>{if(!e||!r.isAvailable)return[];if(!r.permissions?.sleep)return[];try{const x=Date.now(),S=x-y*24*60*60*1e3,b=await HealthConnect.readSleepSessions({startTime:S,endTime:x});return logger.log("[HealthConnect] Sleep sessions:",b.count),b.sessions}catch(x){return logger.error("[HealthConnect] Error reading sleep data:",x),[]}},[e,r.isAvailable,r.permissions?.sleep]),d=reactExports.useCallback(async(y=1)=>{if(!e||!r.isAvailable)return{total:0,records:[]};if(!r.permissions?.steps)return{total:0,records:[]};try{const x=Date.now(),S=x-y*24*60*60*1e3,b=await HealthConnect.readSteps({startTime:S,endTime:x});return logger.log("[HealthConnect] Steps:",b.totalSteps),{total:b.totalSteps,records:b.records}}catch(x){return logger.error("[HealthConnect] Error reading steps data:",x),{total:0,records:[]}}},[e,r.isAvailable,r.permissions?.steps]),p=reactExports.useCallback(async()=>{if(e)try{await HealthConnect.openHealthConnect()}catch(y){logger.error("[HealthConnect] Error opening Health Connect:",y)}},[e]),g=reactExports.useCallback(async()=>{i(x=>({...x,isLoading:!0}));const y=await n();if(y.available){const x=await a();i({isAvailable:!0,isLoading:!1,permissions:x,unavailableReason:null})}else i({isAvailable:!1,isLoading:!1,permissions:null,unavailableReason:y.reason||"not_supported"})},[n,a]);return reactExports.useEffect(()=>{e?g():i({isAvailable:!1,isLoading:!1,permissions:null,unavailableReason:"not_supported"})},[e,g]),{state:r,isAndroid:e,checkAvailability:n,requestPermissions:o,syncFocusSession:l,getSleepData:c,getStepsData:d,openHealthConnect:p,refreshState:g}}var Weekday;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(Weekday||(Weekday={}));const LocalNotifications=registerPlugin("LocalNotifications",{web:()=>__vitePreload(()=>import("./web-CWvuKm9H.js"),__vite__mapDeps([6,1,2,3,4,5])).then(e=>new e.LocalNotificationsWeb)}),QUICK_ACTIONS_CHANNEL_ID="zenflow_quick_actions",QUICK_ACTIONS_NOTIFICATION_ID=8888,QUICK_ACTIONS_TYPE_ID="zenflow_quick_actions",QUICK_ACTION_IDS={LOG_MOOD:"quick_log_mood",START_FOCUS:"quick_start_focus",VIEW_HABITS:"quick_view_habits",DISMISS:"quick_dismiss"};let quickActionCallback=null,isQuickActionsEnabled=!1;async function initializeQuickActionsChannel(){if(Capacitor.isNativePlatform())try{await LocalNotifications.createChannel({id:QUICK_ACTIONS_CHANNEL_ID,name:"ZenFlow Quick Actions",description:"Quick access to mood, focus, and habits from lock screen",importance:2,visibility:1,vibration:!1,sound:void 0,lights:!1}),logger.log("[QuickActions] Channel created")}catch(e){logger.error("[QuickActions] Failed to create channel:",e)}}async function registerQuickActionTypes(){if(Capacitor.isNativePlatform())try{await LocalNotifications.registerActionTypes({types:[{id:QUICK_ACTIONS_TYPE_ID,actions:[{id:QUICK_ACTION_IDS.LOG_MOOD,title:" Mood",foreground:!0},{id:QUICK_ACTION_IDS.START_FOCUS,title:" Focus",foreground:!0},{id:QUICK_ACTION_IDS.VIEW_HABITS,title:" Habits",foreground:!0}]}]}),logger.log("[QuickActions] Action types registered")}catch(e){logger.error("[QuickActions] Failed to register action types:",e)}}async function setupQuickActionsListener(){const e=await LocalNotifications.addListener("localNotificationActionPerformed",r=>{const i=r.actionId;Object.values(QUICK_ACTION_IDS).includes(i)&&quickActionCallback&&quickActionCallback(i)});return()=>e.remove()}function setQuickActionCallback(e){quickActionCallback=e}async function showQuickActionsNotification(e={}){if(!Capacitor.isNativePlatform())return!1;try{return(await LocalNotifications.checkPermissions()).display!=="granted"?(logger.warn("[QuickActions] No notification permission"),!1):(await LocalNotifications.cancel({notifications:[{id:QUICK_ACTIONS_NOTIFICATION_ID}]}),await LocalNotifications.schedule({notifications:[{id:QUICK_ACTIONS_NOTIFICATION_ID,title:e.title||" ZenFlow",body:e.body||"Quick access to your wellness tools",channelId:QUICK_ACTIONS_CHANNEL_ID,actionTypeId:QUICK_ACTIONS_TYPE_ID,ongoing:!0,autoCancel:!1,smallIcon:"ic_stat_zenflow"}]}),isQuickActionsEnabled=!0,logger.log("[QuickActions] Notification shown"),!0)}catch(r){return logger.error("[QuickActions] Failed to show notification:",r),!1}}async function hideQuickActionsNotification(){if(Capacitor.isNativePlatform())try{await LocalNotifications.cancel({notifications:[{id:QUICK_ACTIONS_NOTIFICATION_ID}]}),isQuickActionsEnabled=!1,logger.log("[QuickActions] Notification hidden")}catch(e){logger.error("[QuickActions] Failed to hide notification:",e)}}async function toggleQuickActionsNotification(e,r){return e?showQuickActionsNotification(r):(await hideQuickActionsNotification(),!0)}function getQuickActionsSetting(){try{return localStorage.getItem("zenflow_quick_actions_enabled")==="true"}catch{return!1}}function saveQuickActionsSetting(e){try{localStorage.setItem("zenflow_quick_actions_enabled",String(e))}catch(r){logger.error("[QuickActions] Failed to save setting:",r)}}async function initializeQuickActions(){if(Capacitor.isNativePlatform())try{await initializeQuickActionsChannel(),await registerQuickActionTypes();const e=getQuickActionsSetting();e&&await showQuickActionsNotification(),logger.log("[QuickActions] Initialized, enabled:",e)}catch(e){logger.error("[QuickActions] Initialization failed:",e)}}function useQuickActions(){const e=Capacitor.getPlatform()==="android",[r,i]=reactExports.useState(()=>getQuickActionsSetting()),[n,a]=reactExports.useState(null);reactExports.useEffect(()=>{if(!e)return;const c=async()=>(await initializeQuickActions(),await setupQuickActionsListener());let d;return c().then(p=>{d=p}),()=>{d?.()}},[e]),reactExports.useEffect(()=>{e&&setQuickActionCallback(c=>{let d=null;switch(c){case QUICK_ACTION_IDS.LOG_MOOD:d="mood";break;case QUICK_ACTION_IDS.START_FOCUS:d="focus";break;case QUICK_ACTION_IDS.VIEW_HABITS:d="habits";break}d&&n&&n(d)})},[e,n]);const o=reactExports.useCallback(async c=>{if(e)try{await toggleQuickActionsNotification(c)&&(i(c),saveQuickActionsSetting(c),logger.log("[useQuickActions] Toggled:",c))}catch(d){logger.error("[useQuickActions] Toggle failed:",d)}},[e]),l=reactExports.useCallback(c=>{a(()=>c)},[]);return{isEnabled:r,isAndroid:e,toggle:o,onAction:l}}const App$1=registerPlugin("App",{web:()=>__vitePreload(()=>import("./web-DBQoIQvK.js"),__vite__mapDeps([7,1,2,3,4,5])).then(e=>new e.AppWeb)}),NATIVE_REDIRECT_URL="com.zenflow.app://login-callback",KNOWN_ERROR_CODES=["access_denied","invalid_request","unauthorized_client","server_error","temporarily_unavailable"],sanitizeErrorMessage=e=>{const r=e.replace(/<[^>]*>/g,"").trim();return r.length>200?"Authentication error occurred":KNOWN_ERROR_CODES.some(i=>r.toLowerCase().includes(i))?r:"Authentication failed. Please try again."},getAuthRedirectUrl=()=>Capacitor.isNativePlatform()?NATIVE_REDIRECT_URL:`${window.location.origin}/people-first-app/`,isNativePlatform=()=>Capacitor.isNativePlatform(),handleAuthCallback=async(e,r)=>{if(!e||!r)return;let i;try{i=new URL(r)}catch{throw new Error("Invalid callback URL")}const n=new URLSearchParams(i.search),a=new URLSearchParams(i.hash.replace(/^#/,"")),o=n.get("error_description")||a.get("error_description");if(o)throw new Error(sanitizeErrorMessage(o));const l=n.get("code")||a.get("code");if(l){if(!/^[A-Za-z0-9_-]+$/.test(l)||l.length>256)throw new Error("Invalid authorization code");const{data:p,error:g}=await e.auth.exchangeCodeForSession(l);if(g)throw logger.error("[Auth] exchangeCodeForSession error:",g.message),new Error(`Session exchange failed: ${g.message}`);if(!p.session)throw new Error("Session exchange succeeded but no session returned");logger.log("[Auth] PKCE session exchange successful, user:",p.session.user.email);return}const c=a.get("access_token"),d=a.get("refresh_token");if(c&&d){const{data:p,error:g}=await e.auth.setSession({access_token:c,refresh_token:d});if(g)throw logger.error("[Auth] setSession error:",g.message),new Error(`Session setup failed: ${g.message}`);if(!p.session)throw new Error("Session setup succeeded but no session returned");logger.log("[Auth] Implicit flow session set, user:",p.session.user.email);return}throw new Error("No valid authentication code or tokens found")},AUTH_COMPLETE_EVENT="zenflow-auth-complete",notifyAuthComplete=()=>{window.dispatchEvent(new CustomEvent(AUTH_COMPLETE_EVENT))};let pendingAuthUrl=null;const setPendingAuthUrl=e=>{pendingAuthUrl=e},getPendingAuthUrl=()=>{const e=pendingAuthUrl;return pendingAuthUrl=null,e};let lastBackPress=0;const DOUBLE_TAP_DELAY=2e3;let isShowingExitToast=!1,toastTimeoutId=null,toastFadeTimeoutId=null,toastStyleAdded=!1;const modalCloseCallbacks=[];function registerModalCloseCallback(e){return modalCloseCallbacks.push(e),()=>{const r=modalCloseCallbacks.indexOf(e);r>-1&&modalCloseCallbacks.splice(r,1)}}function showExitToast(e){if(isShowingExitToast)return;isShowingExitToast=!0;const r=document.createElement("div");if(r.className="android-exit-toast",r.textContent=e,r.style.cssText=`
    position: fixed;
    bottom: calc(80px + env(safe-area-inset-bottom, 0px));
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.85);
    color: white;
    padding: 12px 24px;
    border-radius: 24px;
    font-size: 14px;
    font-weight: 500;
    z-index: 10000;
    animation: toast-slide-up 0.3s ease-out;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  `,!toastStyleAdded){const i=document.createElement("style");i.id="android-toast-styles",i.textContent=`
      @keyframes toast-slide-up {
        from {
          opacity: 0;
          transform: translateX(-50%) translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateX(-50%) translateY(0);
        }
      }
      @keyframes toast-fade-out {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }
    `,document.head.appendChild(i),toastStyleAdded=!0}document.body.appendChild(r),toastTimeoutId&&clearTimeout(toastTimeoutId),toastFadeTimeoutId&&clearTimeout(toastFadeTimeoutId),toastTimeoutId=setTimeout(()=>{if(!r.parentNode){isShowingExitToast=!1;return}r.style.animation="toast-fade-out 0.2s ease-out",toastFadeTimeoutId=setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),isShowingExitToast=!1},200)},DOUBLE_TAP_DELAY)}function isOnRootRoute(){const e=window.location.pathname;return e==="/"||e==="/index.html"}function isModalOpen(){const e=['[role="dialog"]','[role="alertdialog"]',".modal",".dialog",'[data-state="open"]',".drawer"];for(const r of e){const i=document.querySelectorAll(r);for(const n of Array.from(i)){const a=n.getBoundingClientRect();if(a.width>0&&a.height>0)return!0}}return!1}function closeTopModal(){for(let i=modalCloseCallbacks.length-1;i>=0;i--)if(modalCloseCallbacks[i]())return!0;const e=['[data-radix-dismissable-layer] button[aria-label*="close" i]','[role="dialog"] button[aria-label*="close" i]','[role="dialog"] button[aria-label*="" i]','[role="dialog"] button:first-child',".dialog-close",".modal-close","[data-close-button]"];for(const i of e){const n=document.querySelector(i);if(n&&n.offsetParent!==null)return n.click(),!0}const r=new KeyboardEvent("keydown",{key:"Escape",code:"Escape",keyCode:27,bubbles:!0,cancelable:!0});return document.dispatchEvent(r),!1}function getExitMessage(){try{const e=localStorage.getItem("zenflow-language")||"en",r={en:"Press again to exit",ru:"    ",uk:"    ",es:"Presiona de nuevo para salir",de:"Erneut drcken zum Beenden",fr:"Appuyez  nouveau pour quitter"};return r[e]||r.en}catch{return"Press again to exit"}}function initAndroidBackHandler(){!Capacitor.isNativePlatform()||Capacitor.getPlatform()!=="android"||App$1.addListener("backButton",({canGoBack:e})=>{if((modalCloseCallbacks.length>0||isModalOpen())&&closeTopModal())return;if(!isOnRootRoute()){window.history.back();return}const r=Date.now();r-lastBackPress<DOUBLE_TAP_DELAY?App$1.exitApp():(lastBackPress=r,showExitToast(getExitMessage()))})}const GROWTH_THRESHOLDS={seed:0,sprout:10,growing:30,blooming:70,magnificent:150},CREATURE_THRESHOLDS={egg:0,baby:5,young:15,adult:40,legendary:100},GARDEN_STAGE_THRESHOLDS={empty:0,sprouting:3,growing:10,flourishing:30,magical:75,legendary:200},MOOD_COLORS={great:"#a855f7",good:"#22c55e",okay:"#3b82f6",bad:"#6366f1",terrible:"#8b5cf6"},PLANT_EMOJIS={flower:{seed:"",sprout:"",growing:"",blooming:"",magnificent:""},tree:{seed:"",sprout:"",growing:"",blooming:"",magnificent:""},crystal:{seed:"",sprout:"",growing:"",blooming:"",magnificent:""},mushroom:{seed:"",sprout:"",growing:"",blooming:"",magnificent:""}},CREATURE_EMOJIS={butterfly:{egg:"",baby:"",young:"",adult:"",legendary:""},bird:{egg:"",baby:"",young:"",adult:"",legendary:""},firefly:{egg:"",baby:"",young:"",adult:"",legendary:""},spirit:{egg:"",baby:"",young:"",adult:"",legendary:""}},COMPANION_EMOJIS={fox:"",cat:"",owl:"",rabbit:"",dragon:""},STORAGE_KEY$3="zenflow_notification_sound",NOTIFICATION_SOUNDS=[{id:"default",labelKey:"soundDefault",description:"System default notification sound",channelId:"zenflow_default",sound:"default",vibrate:!0},{id:"gentle",labelKey:"soundGentle",description:"Soft vibration only",channelId:"zenflow_gentle",sound:void 0,vibrate:!0},{id:"chime",labelKey:"soundChime",description:"Short notification tone",channelId:"zenflow_chime",sound:"default",vibrate:!0},{id:"silent",labelKey:"soundSilent",description:"No sound or vibration",channelId:"zenflow_silent",sound:void 0,vibrate:!1}];function getNotificationSound(){try{const e=localStorage.getItem(STORAGE_KEY$3);if(e&&NOTIFICATION_SOUNDS.some(r=>r.id===e))return e}catch{}return"default"}function setNotificationSound(e){try{localStorage.setItem(STORAGE_KEY$3,e)}catch{}}function getCurrentChannelId(){const e=getNotificationSound();return NOTIFICATION_SOUNDS.find(i=>i.id===e)?.channelId||"zenflow_default"}async function initializeNotificationChannels(){if(Capacitor.isNativePlatform())try{for(const e of NOTIFICATION_SOUNDS){const r={id:e.channelId,name:`ZenFlow - ${e.id.charAt(0).toUpperCase()+e.id.slice(1)}`,description:e.description,importance:e.id==="silent"?2:e.id==="gentle"?3:4,visibility:1,vibration:e.vibrate,sound:e.sound,lights:!0,lightColor:"#10B981"};await LocalNotifications.createChannel(r),logger.log("[NotificationSounds] Channel created:",e.channelId)}}catch(e){logger.error("[NotificationSounds] Failed to create channels:",e)}}function parseTime(e,r=9,i=0){if(!e||typeof e!="string")return{hour:r,minute:i};const n=e.split(":");if(n.length===0)return{hour:r,minute:i};const a=parseInt(n[0],10),o=n.length>1?parseInt(n[1],10):0,l=isNaN(a)?r:Math.max(0,Math.min(23,a)),c=isNaN(o)?i:Math.max(0,Math.min(59,o));return{hour:l,minute:c}}const localeMap$1={ru:"ru-RU",en:"en-US",uk:"uk-UA",es:"es-ES",de:"de-DE",fr:"fr-FR"};function getLocale(e){return localeMap$1[e]||"en-US"}const CHANNEL_ID="zenflow_reminders";function getActiveChannelId(){return getCurrentChannelId()}async function initializeNotificationChannel(){if(Capacitor.isNativePlatform())try{await initializeNotificationChannels();const e={id:CHANNEL_ID,name:"ZenFlow Reminders",description:"Reminders for habits, mood tracking, and focus sessions",importance:4,visibility:1,vibration:!0,sound:"default",lights:!0,lightColor:"#10B981"};await LocalNotifications.createChannel(e),logger.log("[Notifications] All channels initialized")}catch(e){logger.error("[Notifications] Failed to create channel:",e)}}async function sendTestNotification(){if(!Capacitor.isNativePlatform())return!1;try{if((await LocalNotifications.checkPermissions()).display!=="granted"&&(await LocalNotifications.requestPermissions()).display!=="granted")return logger.error("[Notifications] Permission denied"),!1;const r=new Date;return r.setSeconds(r.getSeconds()+5),await LocalNotifications.schedule({notifications:[{id:9999,title:" Test Notification",body:"If you see this, notifications work! ",channelId:getActiveChannelId(),schedule:{at:r,allowWhileIdle:!0}}]}),logger.log("[Notifications] Test notification scheduled for:",r.toLocaleTimeString()),!0}catch(e){return logger.error("[Notifications] Test notification failed:",e),!1}}async function checkNotificationStatus(){if(!Capacitor.isNativePlatform())return{hasPermission:!1,pendingCount:0,channelExists:!1};try{const e=await LocalNotifications.checkPermissions(),r=await LocalNotifications.getPending();let i=!0;try{i=(await LocalNotifications.listChannels()).channels.some(o=>o.id===CHANNEL_ID)}catch{}const n={hasPermission:e.display==="granted",pendingCount:r.notifications.length,channelExists:i};return logger.log("[Notifications] Status:",n),n}catch(e){return logger.error("[Notifications] Status check failed:",e),{hasPermission:!1,pendingCount:0,channelExists:!1}}}const MOOD_ACTION_TYPE_ID="MOOD_QUICK_LOG",MOOD_ACTIONS={great:"mood_great",good:"mood_good",okay:"mood_okay",bad:"mood_bad",terrible:"mood_terrible"};let moodActionCallback=null;async function scheduleLocalReminders(e,r){try{if((await LocalNotifications.checkPermissions()).display!=="granted"&&(await LocalNotifications.requestPermissions()).display!=="granted"){logger.log("Notification permission denied");return}const n=await LocalNotifications.getPending();if(n.notifications.length>0&&await LocalNotifications.cancel({notifications:n.notifications}),!e.enabled)return;const a=[],o=parseTime(e.moodTimeMorning,9,0),l=parseTime(e.moodTimeAfternoon,14,0),c=parseTime(e.moodTimeEvening,20,0),d=parseTime(e.habitTime,21,0),p=parseTime(e.focusTime,10,0);a.push({id:1,title:r.mood.title,body:r.mood.body,channelId:getActiveChannelId(),schedule:{on:o,every:"day",allowWhileIdle:!0}}),a.push({id:2,title:r.mood.title,body:r.mood.body,channelId:getActiveChannelId(),schedule:{on:l,every:"day",allowWhileIdle:!0}}),a.push({id:3,title:r.mood.title,body:r.mood.body,channelId:getActiveChannelId(),schedule:{on:c,every:"day",allowWhileIdle:!0}}),a.push({id:4,title:r.habit.title,body:r.habit.body,channelId:getActiveChannelId(),schedule:{on:d,every:"day",allowWhileIdle:!0}}),a.push({id:5,title:r.focus.title,body:r.focus.body,channelId:getActiveChannelId(),schedule:{on:p,every:"day",allowWhileIdle:!0}}),await LocalNotifications.schedule({notifications:a}),logger.log("Local notifications scheduled successfully")}catch(i){logger.error("Failed to schedule local notifications:",i)}}async function scheduleHabitReminders(e,r){try{if((await LocalNotifications.checkPermissions()).display!=="granted"){logger.log("Notification permission not granted for habit reminders");return}const a=(await LocalNotifications.getPending()).notifications.filter(c=>c.id>=1e3);a.length>0&&await LocalNotifications.cancel({notifications:a});const o=[];let l=1e3;for(const c of e)if(!(!c.reminders||c.reminders.length===0))for(const d of c.reminders){if(!d.enabled)continue;const p=parseTime(d.time,9,0);if(d.days&&d.days.length>0)for(const g of d.days)o.push({id:l++,title:`${c.icon} ${c.name}`,body:r.reminderBody.replace("{habit}",c.name),channelId:getActiveChannelId(),schedule:{on:{...p,weekday:g},allowWhileIdle:!0}});else o.push({id:l++,title:`${c.icon} ${c.name}`,body:r.reminderBody.replace("{habit}",c.name),channelId:getActiveChannelId(),schedule:{on:p,allowWhileIdle:!0}})}o.length>0?(await LocalNotifications.schedule({notifications:o}),logger.log(`Scheduled ${o.length} habit reminder notifications`)):logger.log("No habit reminders to schedule")}catch(i){logger.error("Failed to schedule habit reminders:",i)}}async function scheduleCompanionReminders(e,r,i){try{if((await LocalNotifications.checkPermissions()).display!=="granted")return;const o=(await LocalNotifications.getPending()).notifications.filter(x=>x.id>=100&&x.id<200);if(o.length>0&&await LocalNotifications.cancel({notifications:o}),!e.enabled)return;const l=COMPANION_EMOJIS[r.type],c=[],d=parseTime(e.moodTimeMorning,9,0);c.push({id:100,title:`${l} ${r.name}`,body:i.companionMissesYou,channelId:getActiveChannelId(),schedule:{on:d,every:"day",allowWhileIdle:!0}});const p=parseTime(e.moodTimeAfternoon,14,0);c.push({id:101,title:`${l} ${r.name}`,body:i.companionWantsToPlay,channelId:getActiveChannelId(),schedule:{on:p,every:"day",allowWhileIdle:!0}});const g=parseTime(e.habitTime,21,0);c.push({id:102,title:`${l} ${r.name}`,body:i.companionWaiting,channelId:getActiveChannelId(),schedule:{on:g,every:"day",allowWhileIdle:!0}});const y=parseTime(e.focusTime,10,0);c.push({id:103,title:`${l} ${r.name}`,body:i.companionCheersYou,channelId:getActiveChannelId(),schedule:{on:y,every:"day",allowWhileIdle:!0}}),await LocalNotifications.schedule({notifications:c}),logger.log("Companion reminders scheduled successfully")}catch(n){logger.error("Failed to schedule companion reminders:",n)}}async function registerMoodNotificationActions(){try{await LocalNotifications.registerActionTypes({types:[{id:MOOD_ACTION_TYPE_ID,actions:[{id:MOOD_ACTIONS.great,title:""},{id:MOOD_ACTIONS.good,title:""},{id:MOOD_ACTIONS.okay,title:""},{id:MOOD_ACTIONS.bad,title:""},{id:MOOD_ACTIONS.terrible,title:""}]}]}),logger.log("Mood notification actions registered")}catch(e){logger.error("Failed to register mood notification actions:",e)}}async function setupNotificationActionListener(){const e=await LocalNotifications.addListener("localNotificationActionPerformed",r=>{const i=r.actionId,n=Object.entries(MOOD_ACTIONS).find(([,a])=>a===i);if(n&&moodActionCallback){const a=n[0];moodActionCallback(a)}});return()=>e.remove()}function setMoodActionCallback(e){moodActionCallback=e}async function scheduleMoodQuickLogNotification(e,r,i){try{if((await LocalNotifications.checkPermissions()).display!=="granted")return;const a=COMPANION_EMOJIS[r.type],l=(await LocalNotifications.getPending()).notifications.filter(c=>c.id===150);l.length>0&&await LocalNotifications.cancel({notifications:l}),await LocalNotifications.schedule({notifications:[{id:150,title:`${a} ${r.name}`,body:i,channelId:getActiveChannelId(),schedule:{on:e,every:"day",allowWhileIdle:!0},actionTypeId:MOOD_ACTION_TYPE_ID}]}),logger.log("Mood quick-log notification scheduled")}catch(n){logger.error("Failed to schedule mood quick-log notification:",n)}}function ThemeToggle(){const{t:e}=useLanguage(),[r,i]=reactExports.useState("light"),[n,a]=reactExports.useState(!1);reactExports.useEffect(()=>{a(!0);const c=localStorage.getItem("zenflow-theme");if(c==="dark"||c==="light")i(c),o(c);else{const p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";i(p),o(p)}},[]);const o=c=>{const d=document.documentElement;c==="dark"?d.classList.add("dark"):d.classList.remove("dark")},l=()=>{const c=r==="light"?"dark":"light";i(c),o(c),localStorage.setItem("zenflow-theme",c)};return n?jsxRuntimeExports.jsxs("button",{onClick:l,className:cn("relative flex-shrink-0 rounded-full transition-all duration-300","w-[52px] h-[28px]",r==="light"?"bg-sky-300":"bg-slate-700"),style:{minWidth:"52px",minHeight:"28px"},"aria-label":r==="light"?e.switchToDark||"Switch to dark mode":e.switchToLight||"Switch to light mode",children:[jsxRuntimeExports.jsx("div",{className:cn("absolute top-[3px] w-[22px] h-[22px] rounded-full transition-all duration-300 flex items-center justify-center shadow-sm",r==="light"?"left-[3px] bg-yellow-400":"left-[27px] bg-slate-800"),children:r==="light"?jsxRuntimeExports.jsx(Sun,{className:"w-3.5 h-3.5 text-white"}):jsxRuntimeExports.jsx(Moon,{className:"w-3.5 h-3.5 text-slate-300"})}),r==="dark"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"absolute top-[6px] left-[6px] w-1 h-1 bg-white/60 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute top-[14px] left-[12px] w-0.5 h-0.5 bg-white/40 rounded-full"})]})]}):jsxRuntimeExports.jsx("button",{className:"relative flex-shrink-0 w-[52px] h-[28px] rounded-full bg-slate-700 transition-colors",style:{minWidth:"52px",minHeight:"28px"},"aria-label":e.toggleTheme||"Toggle theme",disabled:!0,children:jsxRuntimeExports.jsx("div",{className:"absolute top-[3px] left-[27px] w-[22px] h-[22px] rounded-full bg-slate-800 flex items-center justify-center",children:jsxRuntimeExports.jsx(Moon,{className:"w-3.5 h-3.5 text-slate-300"})})})}const STORAGE_KEY$2="zenflow_offline_queue",MAX_QUEUE_SIZE=1e3,DEFAULT_MAX_RETRIES=5,RETRY_BASE_DELAY=1e3,RETRY_MAX_DELAY=6e4;class OfflineQueue{state={actions:[],lastProcessedAt:null,isProcessing:!1};listeners=new Set;syncHandlers=new Map;processingPromise=null;boundHandleOnline=()=>this.handleOnline();boundHandleOffline=()=>this.handleOffline();constructor(){this.loadFromStorage(),typeof window<"u"&&(window.addEventListener("online",this.boundHandleOnline),window.addEventListener("offline",this.boundHandleOffline))}destroy(){typeof window<"u"&&(window.removeEventListener("online",this.boundHandleOnline),window.removeEventListener("offline",this.boundHandleOffline)),this.listeners.clear(),this.syncHandlers.clear()}registerHandler(r,i){this.syncHandlers.set(r,i)}async enqueue(r,i,n,a={}){const{maxRetries:o=DEFAULT_MAX_RETRIES,deduplicate:l=!0}=a;this.state.actions.length>=MAX_QUEUE_SIZE&&this.state.actions.shift(),l&&(this.state.actions=this.state.actions.filter(d=>!(d.entityId===i&&d.type===r)));const c={id:`${r}_${i}_${Date.now()}_${generateSecureRandom()}`,type:r,entityId:i,payload:n,timestamp:Date.now(),retries:0,maxRetries:o};this.state.actions.push(c),this.persistToStorage(),this.notifyListeners(),navigator.onLine&&this.processQueue()}removeAction(r){this.state.actions=this.state.actions.filter(i=>i.id!==r),this.persistToStorage(),this.notifyListeners()}async processQueue(){if(this.processingPromise)return await this.processingPromise,navigator.onLine&&this.state.actions.length>0&&!this.processingPromise?this.processQueue():void 0;if(!(!navigator.onLine||this.state.actions.length===0)){this.processingPromise=this.doProcessQueue();try{await this.processingPromise}finally{this.processingPromise=null}if(navigator.onLine&&this.state.actions.length>0)return this.processQueue()}}async doProcessQueue(){if(this.state.isProcessing)return;this.state.isProcessing=!0,this.notifyListeners(),logger.log("[OfflineQueue] Processing queue, actions:",this.state.actions.length);const r=[...this.state.actions];for(const i of r){if(!navigator.onLine)break;const n=this.syncHandlers.get(i.type);if(!n){logger.warn("[OfflineQueue] No handler for action type:",i.type),this.removeAction(i.id);continue}try{await n(i),this.removeAction(i.id),logger.log("[OfflineQueue] Action processed:",i.type,i.entityId)}catch(a){if(logger.error("[OfflineQueue] Action failed:",i.type,a),i.retries++,i.lastError=a instanceof Error?a.message:String(a),i.retries>=i.maxRetries)logger.error("[OfflineQueue] Max retries reached, discarding action:",i.id),this.removeAction(i.id);else{const o=Math.min(RETRY_BASE_DELAY*Math.pow(2,i.retries),RETRY_MAX_DELAY);await this.sleep(o)}this.persistToStorage()}}this.state.isProcessing=!1,this.state.lastProcessedAt=Date.now(),this.persistToStorage(),this.notifyListeners(),logger.log("[OfflineQueue] Queue processing complete, remaining:",this.state.actions.length)}getState(){return{...this.state,actions:[...this.state.actions]}}getPendingCount(){return this.state.actions.length}hasPendingActions(){return this.state.actions.length>0}subscribe(r){return this.listeners.add(r),r(this.getState()),()=>this.listeners.delete(r)}clearQueue(){this.state.actions=[],this.persistToStorage(),this.notifyListeners()}handleOnline(){this.processQueue()}handleOffline(){}loadFromStorage(){try{const r=localStorage.getItem(STORAGE_KEY$2);if(r){const i=safeJsonParse(r,{actions:[]});this.state.actions=i.actions||[],logger.log("[OfflineQueue] Loaded from storage:",this.state.actions.length,"actions")}}catch(r){logger.error("[OfflineQueue] Failed to load from storage:",r)}}persistToStorage(){try{localStorage.setItem(STORAGE_KEY$2,JSON.stringify({actions:this.state.actions,lastProcessedAt:this.state.lastProcessedAt}))}catch(r){logger.error("[OfflineQueue] Failed to persist to storage:",r)}}notifyListeners(){const r=this.getState();this.listeners.forEach(i=>i(r))}sleep(r){return new Promise(i=>setTimeout(i,r))}}const offlineQueue=new OfflineQueue;function useOfflineQueue(){const[e,r]=reactExports.useState(offlineQueue.getState()),[i,n]=reactExports.useState(typeof navigator<"u"?navigator.onLine:!0);reactExports.useEffect(()=>{const l=offlineQueue.subscribe(r),c=()=>n(!0),d=()=>n(!1);return window.addEventListener("online",c),window.addEventListener("offline",d),()=>{l(),window.removeEventListener("online",c),window.removeEventListener("offline",d)}},[]);const a=reactExports.useCallback(()=>offlineQueue.processQueue(),[]),o=reactExports.useCallback(()=>{offlineQueue.clearQueue()},[]);return{pendingCount:e.actions.length,isProcessing:e.isProcessing,isOnline:i,hasPendingActions:e.actions.length>0,lastProcessedAt:e.lastProcessedAt,processQueue:a,clearQueue:o,actions:e.actions}}function SyncStatusIndicatorCompact(){const{state:e}=useSyncOrchestrator(),{pendingCount:r,isOnline:i,isProcessing:n}=useOfflineQueue(),{t:a}=useLanguage();if(!isCloudSyncEnabled())return jsxRuntimeExports.jsx(CloudOff,{className:"w-5 h-5 text-muted-foreground","aria-label":a.cloudSyncDisabled||"Sync disabled"});if(!i&&r>0)return jsxRuntimeExports.jsxs("div",{className:"relative","aria-label":`${a.syncOffline||"Offline"} - ${r}`,children:[jsxRuntimeExports.jsx(WifiOff,{className:"w-5 h-5 text-amber-500"}),jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 bg-amber-500 text-white text-[9px] rounded-full w-4 h-4 flex items-center justify-center font-bold","aria-hidden":"true",children:r>9?"9+":r})]});if(!i||!e.isOnline)return jsxRuntimeExports.jsx(WifiOff,{className:"w-5 h-5 text-gray-400","aria-label":a.syncOffline||"Offline"});if(n)return jsxRuntimeExports.jsxs("div",{className:"relative","aria-label":`${a.syncSyncing||"Syncing"} ${r}`,children:[jsxRuntimeExports.jsx(Loader,{className:"w-5 h-5 text-blue-500 animate-spin"}),r>0&&jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-[9px] rounded-full w-4 h-4 flex items-center justify-center font-bold","aria-hidden":"true",children:r>9?"9+":r})]});switch(e.status){case"syncing":return jsxRuntimeExports.jsx(Loader,{className:"w-5 h-5 text-blue-500 animate-spin","aria-label":a.syncSyncing||"Syncing"});case"success":return jsxRuntimeExports.jsx(Cloud,{className:"w-5 h-5 text-green-500","aria-label":a.syncSuccess||"Synced"});case"error":case"conflict":return jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-red-500","aria-label":a.syncError||"Sync error"});default:return jsxRuntimeExports.jsx(Cloud,{className:"w-5 h-5 text-gray-400","aria-label":a.syncReady||"Ready"})}}const Header=reactExports.memo(function({userName:r="Friend",onOpenChallenges:i,onOpenTasks:n,onOpenQuests:a}){const{t:o,language:l}=useLanguage(),c=reactExports.useMemo(()=>{const p=new Date().getHours();return p<12?o.goodMorning:p<18?o.goodAfternoon:o.goodEvening},[o.goodMorning,o.goodAfternoon,o.goodEvening]),d=reactExports.useMemo(()=>{const g={ru:"ru-RU",uk:"uk-UA",es:"es-ES",de:"de-DE",fr:"fr-FR"}[l]||"en-US";return new Date().toLocaleDateString(g,{weekday:"long",day:"numeric",month:"long"})},[l]);return jsxRuntimeExports.jsxs("header",{className:"mb-4 animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 zen-gradient rounded-lg zen-shadow-soft",children:jsxRuntimeExports.jsx(Leaf,{className:"w-5 h-5 text-primary-foreground"})}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold zen-text-gradient",children:o.appName})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(SyncStatusIndicatorCompact,{}),jsxRuntimeExports.jsx(ThemeToggle,{})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsxs("h1",{className:"text-xl font-bold text-foreground",children:[c,", ",r,"! "]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-xs capitalize",children:d})]}),(n||a||i)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[n&&jsxRuntimeExports.jsxs("button",{onClick:n,className:"flex-1 min-w-0 flex items-center justify-center gap-1.5 py-2 px-2.5 bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-600 dark:text-emerald-400 rounded-xl transition-all min-h-[44px]","aria-label":o.openTasks,children:[jsxRuntimeExports.jsx(ListTodo,{className:"w-4 h-4 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium truncate",children:o.tasks})]}),a&&jsxRuntimeExports.jsxs("button",{onClick:a,className:"flex-1 min-w-0 flex items-center justify-center gap-1.5 py-2 px-2.5 bg-yellow-500/10 hover:bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 rounded-xl transition-all min-h-[44px]","aria-label":o.openQuests,children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium truncate",children:o.quests})]}),i&&jsxRuntimeExports.jsxs("button",{onClick:i,className:"flex-1 min-w-0 flex items-center justify-center gap-1.5 py-2 px-2.5 bg-primary/10 hover:bg-primary/20 text-primary rounded-xl transition-all min-h-[44px]","aria-label":o.openChallenges,children:[jsxRuntimeExports.jsx(Trophy,{className:"w-4 h-4 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium truncate",children:o.challenges})]})]})]})});function Navigation({activeTab:e,onTabChange:r}){const{t:i}=useLanguage(),n=[{id:"home",icon:House,label:i.home},{id:"garden",icon:Sparkles,label:i.myWorld},{id:"stats",icon:ChartColumn,label:i.stats},{id:"settings",icon:Settings,label:i.settings}];return jsxRuntimeExports.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card/80 backdrop-blur-lg border-t border-border z-50",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:jsxRuntimeExports.jsx("div",{className:"max-w-lg mx-auto px-4",children:jsxRuntimeExports.jsx("div",{className:"flex justify-between py-2",children:n.map(a=>jsxRuntimeExports.jsxs("button",{onClick:()=>r(a.id),className:cn("flex flex-col items-center gap-1 py-2 px-3 flex-1 rounded-xl transition-all min-w-0",e===a.id?"text-primary":"text-muted-foreground hover:text-foreground"),children:[jsxRuntimeExports.jsx("div",{className:cn("p-2.5 rounded-xl transition-all",e===a.id&&"zen-gradient text-primary-foreground zen-shadow-soft"),children:jsxRuntimeExports.jsx(a.icon,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium truncate max-w-full",children:a.label})]},a.id))})})})}const EMOTION_COLORS={joy:{h:45,s:90,l:60},trust:{h:120,s:50,l:50},fear:{h:180,s:50,l:45},surprise:{h:195,s:70,l:55},sadness:{h:220,s:60,l:50},disgust:{h:280,s:50,l:50},anger:{h:0,s:70,l:55},anticipation:{h:30,s:80,l:55}};function getEmotionColor(e,r="moderate"){const i=EMOTION_COLORS[e],n=r==="mild"?i.l+15:r==="intense"?i.l-10:i.l;return`hsl(${i.h}, ${i.s}%, ${n}%)`}function emotionToMoodType(e,r){return e==="joy"||e==="trust"||e==="anticipation"?r==="intense"?"great":"good":e==="surprise"?r==="mild"?"okay":"good":e==="sadness"?r==="intense"?"terrible":r==="moderate"?"bad":"okay":e==="anger"||e==="disgust"?r==="intense"?"terrible":"bad":e==="fear"&&r==="intense"?"bad":"okay"}const MOOD_TO_EMOTION_MAP={great:"joy",good:"trust",okay:"anticipation",bad:"sadness",terrible:"fear"},EMOTION_WHEEL_POSITIONS={joy:0,trust:45,fear:90,surprise:135,sadness:180,disgust:225,anger:270,anticipation:315},EMOTION_ORDER=["joy","trust","fear","surprise","sadness","disgust","anger","anticipation"],INTENSITY_EMOJIS={mild:"",moderate:"",intense:""},EMOTION_TRANSLATIONS={en:{joy:"Joy",trust:"Trust",fear:"Fear",surprise:"Surprise",sadness:"Sadness",disgust:"Disgust",anger:"Anger",anticipation:"Anticipation",mild:"Mild",moderate:"Moderate",intense:"Intense",serenity:"Serenity",ecstasy:"Ecstasy",acceptance:"Acceptance",admiration:"Admiration",apprehension:"Apprehension",terror:"Terror",distraction:"Distraction",amazement:"Amazement",pensiveness:"Pensiveness",grief:"Grief",boredom:"Boredom",loathing:"Loathing",annoyance:"Annoyance",rage:"Rage",interest:"Interest",vigilance:"Vigilance",whatDoYouFeel:"How do you feel?",selectEmotion:"Select emotion",selectIntensity:"How strong?",save:"Save"},ru:{joy:"",trust:"",fear:"",surprise:"",sadness:"",disgust:"",anger:"",anticipation:"",mild:"",moderate:"",intense:"",serenity:"",ecstasy:"",acceptance:"",admiration:"",apprehension:"",terror:"",distraction:"",amazement:"",pensiveness:"",grief:"",boredom:"",loathing:"",annoyance:"",rage:"",interest:"",vigilance:"",whatDoYouFeel:"  ?",selectEmotion:" ",selectIntensity:" ?",save:""},uk:{joy:"",trust:"",fear:"",surprise:"",sadness:"",disgust:"",anger:"",anticipation:"",mild:"",moderate:"",intense:"",serenity:"",ecstasy:"",acceptance:"",admiration:"",apprehension:"",terror:"",distraction:"",amazement:"",pensiveness:"",grief:"",boredom:"",loathing:"",annoyance:"",rage:"",interest:"",vigilance:"",whatDoYouFeel:"  ?",selectEmotion:" ",selectIntensity:" ?",save:""},de:{joy:"Freude",trust:"Vertrauen",fear:"Angst",surprise:"berraschung",sadness:"Traurigkeit",disgust:"Ekel",anger:"Wut",anticipation:"Erwartung",mild:"Leicht",moderate:"Mig",intense:"Stark",serenity:"Gelassenheit",ecstasy:"Ekstase",acceptance:"Akzeptanz",admiration:"Bewunderung",apprehension:"Besorgnis",terror:"Terror",distraction:"Ablenkung",amazement:"Staunen",pensiveness:"Nachdenklichkeit",grief:"Trauer",boredom:"Langeweile",loathing:"Abscheu",annoyance:"rger",rage:"Raserei",interest:"Interesse",vigilance:"Wachsamkeit",whatDoYouFeel:"Wie fhlst du dich?",selectEmotion:"Whle Emotion",selectIntensity:"Wie stark?",save:"Speichern"},es:{joy:"Alegra",trust:"Confianza",fear:"Miedo",surprise:"Sorpresa",sadness:"Tristeza",disgust:"Asco",anger:"Ira",anticipation:"Anticipacin",mild:"Leve",moderate:"Moderado",intense:"Intenso",serenity:"Serenidad",ecstasy:"xtasis",acceptance:"Aceptacin",admiration:"Admiracin",apprehension:"Aprensin",terror:"Terror",distraction:"Distraccin",amazement:"Asombro",pensiveness:"Melancola",grief:"Duelo",boredom:"Aburrimiento",loathing:"Repugnancia",annoyance:"Molestia",rage:"Furia",interest:"Inters",vigilance:"Vigilancia",whatDoYouFeel:"Cmo te sientes?",selectEmotion:"Elige emocin",selectIntensity:"Qu tan fuerte?",save:"Guardar"},fr:{joy:"Joie",trust:"Confiance",fear:"Peur",surprise:"Surprise",sadness:"Tristesse",disgust:"Dgot",anger:"Colre",anticipation:"Anticipation",mild:"Lger",moderate:"Modr",intense:"Intense",serenity:"Srnit",ecstasy:"Extase",acceptance:"Acceptation",admiration:"Admiration",apprehension:"Apprhension",terror:"Terreur",distraction:"Distraction",amazement:"merveillement",pensiveness:"Mlancolie",grief:"Chagrin",boredom:"Ennui",loathing:"Rpugnance",annoyance:"Agacement",rage:"Rage",interest:"Intrt",vigilance:"Vigilance",whatDoYouFeel:"Comment te sens-tu?",selectEmotion:"Choisis une motion",selectIntensity:" quel point?",save:"Enregistrer"}};function getEmotionTranslations(e){return EMOTION_TRANSLATIONS[e]||EMOTION_TRANSLATIONS.en}const EMOTION_XP={simple:5,detailed:8,withNote:10},EMOTION_GRADIENTS={joy:"from-yellow-400/80 to-amber-500/80",trust:"from-green-400/80 to-emerald-500/80",fear:"from-teal-400/80 to-cyan-500/80",surprise:"from-blue-400/80 to-sky-500/80",sadness:"from-indigo-400/80 to-blue-500/80",disgust:"from-purple-400/80 to-violet-500/80",anger:"from-red-400/80 to-rose-500/80",anticipation:"from-orange-400/80 to-amber-500/80"},EMOTION_SCORES={joy:5,trust:4,anticipation:4,surprise:3.5,fear:2,sadness:1.5,disgust:2,anger:2};function getEmotionScore(e,r="moderate"){const i=EMOTION_SCORES[e];return Math.max(1,Math.min(5,i+(r==="mild"?-.5:r==="intense"?.5:0)))}function getEmotionLabels(e){const r=getEmotionTranslations(e);return{joy:r.joy,trust:r.trust,fear:r.fear,surprise:r.surprise,sadness:r.sadness,disgust:r.disgust,anger:r.anger,anticipation:r.anticipation}}const sizeClasses={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"};function JoyEmoji({size:e,isSelected:r}){return jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:cn(e,"drop-shadow-lg"),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"joyGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FEF08A"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FDE047"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#FACC15"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"joyShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0.5"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FFF",stopOpacity:"0"})]}),jsxRuntimeExports.jsx("filter",{id:"joyShadow",children:jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#EAB308",floodOpacity:"0.5"})})]}),jsxRuntimeExports.jsx("g",{opacity:"0.6",children:[0,45,90,135,180,225,270,315].map((i,n)=>jsxRuntimeExports.jsx("line",{x1:"50",y1:"50",x2:50+Math.cos(i*Math.PI/180)*55,y2:50+Math.sin(i*Math.PI/180)*55,stroke:"#FDE047",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.4;0.8;0.4",dur:`${1.5+n*.1}s`,repeatCount:"indefinite"})},i))}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"url(#joyGrad)",filter:r?"url(#joyShadow)":void 0,children:jsxRuntimeExports.jsx("animate",{attributeName:"r",values:"40;42;40",dur:"2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"35",rx:"20",ry:"15",fill:"url(#joyShine)"}),jsxRuntimeExports.jsx("path",{d:"M28 42 Q35 32 42 42",fill:"none",stroke:"#B45309",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M28 42 Q35 32 42 42;M28 40 Q35 30 42 40;M28 42 Q35 32 42 42",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M58 42 Q65 32 72 42",fill:"none",stroke:"#B45309",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M58 42 Q65 32 72 42;M58 40 Q65 30 72 40;M58 42 Q65 32 72 42",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M25 55 Q50 80 75 55",fill:"#B45309",opacity:"0.9",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M25 55 Q50 80 75 55;M25 57 Q50 83 75 57;M25 55 Q50 80 75 55",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M28 57 Q50 72 72 57",fill:"#FFF"}),jsxRuntimeExports.jsx("ellipse",{cx:"22",cy:"52",rx:"8",ry:"5",fill:"#FB923C",opacity:"0.4",children:jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.4;0.6;0.4",dur:"2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"78",cy:"52",rx:"8",ry:"5",fill:"#FB923C",opacity:"0.4",children:jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.4;0.6;0.4",dur:"2s",repeatCount:"indefinite",begin:"0.3s"})}),jsxRuntimeExports.jsxs("path",{d:"M12 18 L14 24 L20 24 L15 28 L17 34 L12 30 L7 34 L9 28 L4 24 L10 24 Z",fill:"#FDE047",children:[jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"1s",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.3;1",dur:"1s",repeatCount:"indefinite",additive:"sum"})]}),jsxRuntimeExports.jsx("path",{d:"M88 15 L89 19 L93 19 L90 22 L91 26 L88 23 L85 26 L86 22 L83 19 L87 19 Z",fill:"#FDE047",children:jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"0.8s",repeatCount:"indefinite",begin:"0.3s"})})]})}function TrustEmoji({size:e,isSelected:r}){return jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:cn(e,"drop-shadow-lg"),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"trustGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#86EFAC"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#4ADE80"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#22C55E"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"trustShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0.4"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FFF",stopOpacity:"0"})]}),jsxRuntimeExports.jsx("filter",{id:"trustShadow",children:jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#16A34A",floodOpacity:"0.4"})})]}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"44",fill:"url(#trustGrad)",filter:r?"url(#trustShadow)":void 0,children:jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"50;48;50",dur:"3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"35",rx:"25",ry:"20",fill:"url(#trustShine)"}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"45",rx:"6",ry:"7",fill:"#166534",children:jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"7;3;7",dur:"4s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("circle",{cx:"33",cy:"43",r:"2",fill:"#FFF",opacity:"0.7"})]}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("ellipse",{cx:"65",cy:"45",rx:"6",ry:"7",fill:"#166534",children:jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"7;3;7",dur:"4s",repeatCount:"indefinite",begin:"0.1s"})}),jsxRuntimeExports.jsx("circle",{cx:"63",cy:"43",r:"2",fill:"#FFF",opacity:"0.7"})]}),jsxRuntimeExports.jsx("path",{d:"M30 60 Q50 75 70 60",fill:"none",stroke:"#166534",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M30 60 Q50 75 70 60;M30 62 Q50 78 70 62;M30 60 Q50 75 70 60",dur:"3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"24",cy:"54",rx:"7",ry:"4",fill:"#15803D",opacity:"0.3"}),jsxRuntimeExports.jsx("ellipse",{cx:"76",cy:"54",rx:"7",ry:"4",fill:"#15803D",opacity:"0.3"}),jsxRuntimeExports.jsxs("path",{d:"M85 20 C85 15 80 12 77 16 C74 12 69 15 69 20 C69 26 77 32 77 32 C77 32 85 26 85 20",fill:"#F472B6",children:[jsxRuntimeExports.jsx("animate",{attributeName:"transform",type:"scale",values:"1;1.15;1",dur:"1.5s",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-2;0,0",dur:"1.5s",repeatCount:"indefinite",additive:"sum"})]})]})}function FearEmoji({size:e,isSelected:r}){return jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:cn(e,"drop-shadow-lg"),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"fearGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#99F6E4"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#5EEAD4"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#2DD4BF"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"fearShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0.35"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FFF",stopOpacity:"0"})]}),jsxRuntimeExports.jsx("filter",{id:"fearShadow",children:jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#0D9488",floodOpacity:"0.4"})})]}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"44",fill:"url(#fearGrad)",filter:r?"url(#fearShadow)":void 0,children:jsxRuntimeExports.jsx("animate",{attributeName:"cx",values:"50;51;49;50",dur:"0.3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"35",rx:"25",ry:"20",fill:"url(#fearShine)"}),jsxRuntimeExports.jsx("path",{d:"M24 32 Q35 26 46 32",fill:"none",stroke:"#0F766E",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M24 32 Q35 26 46 32;M24 30 Q35 24 46 30;M24 32 Q35 26 46 32",dur:"0.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M54 32 Q65 26 76 32",fill:"none",stroke:"#0F766E",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M54 32 Q65 26 76 32;M54 30 Q65 24 76 30;M54 32 Q65 26 76 32",dur:"0.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{cx:"35",cy:"46",r:"10",fill:"#FFF"}),jsxRuntimeExports.jsx("circle",{cx:"35",cy:"46",r:"6",fill:"#0F766E",children:jsxRuntimeExports.jsx("animate",{attributeName:"r",values:"6;7;6",dur:"0.4s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("circle",{cx:"33",cy:"44",r:"2",fill:"#FFF"})]}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{cx:"65",cy:"46",r:"10",fill:"#FFF"}),jsxRuntimeExports.jsx("circle",{cx:"65",cy:"46",r:"6",fill:"#0F766E",children:jsxRuntimeExports.jsx("animate",{attributeName:"r",values:"6;7;6",dur:"0.4s",repeatCount:"indefinite",begin:"0.1s"})}),jsxRuntimeExports.jsx("circle",{cx:"63",cy:"44",r:"2",fill:"#FFF"})]}),jsxRuntimeExports.jsx("ellipse",{cx:"50",cy:"68",rx:"8",ry:"5",fill:"#0F766E",children:jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"5;6;5",dur:"0.4s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("ellipse",{cx:"82",cy:"40",rx:"3",ry:"6",fill:"#67E8F9",opacity:"0.8",children:[jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"40;50;40",dur:"1.5s",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.8;0.2;0.8",dur:"1.5s",repeatCount:"indefinite"})]}),jsxRuntimeExports.jsxs("ellipse",{cx:"18",cy:"45",rx:"2",ry:"4",fill:"#67E8F9",opacity:"0.6",children:[jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"45;55;45",dur:"1.8s",repeatCount:"indefinite",begin:"0.5s"}),jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.6;0.1;0.6",dur:"1.8s",repeatCount:"indefinite",begin:"0.5s"})]})]})}function SurpriseEmoji({size:e,isSelected:r}){return jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:cn(e,"drop-shadow-lg"),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"surpriseGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#93C5FD"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#60A5FA"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#3B82F6"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"surpriseShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0.4"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FFF",stopOpacity:"0"})]}),jsxRuntimeExports.jsx("filter",{id:"surpriseShadow",children:jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#2563EB",floodOpacity:"0.4"})})]}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"44",fill:"url(#surpriseGrad)",filter:r?"url(#surpriseShadow)":void 0,children:jsxRuntimeExports.jsx("animate",{attributeName:"r",values:"44;46;44",dur:"0.6s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"35",rx:"25",ry:"20",fill:"url(#surpriseShine)"}),jsxRuntimeExports.jsx("path",{d:"M22 30 Q35 22 48 30",fill:"none",stroke:"#1E40AF",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M22 30 Q35 22 48 30;M22 28 Q35 20 48 28;M22 30 Q35 22 48 30",dur:"0.8s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M52 30 Q65 22 78 30",fill:"none",stroke:"#1E40AF",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M52 30 Q65 22 78 30;M52 28 Q65 20 78 28;M52 30 Q65 22 78 30",dur:"0.8s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{cx:"35",cy:"45",r:"11",fill:"#FFF"}),jsxRuntimeExports.jsx("circle",{cx:"35",cy:"45",r:"7",fill:"#1E40AF",children:jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"45;44;45",dur:"0.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("circle",{cx:"33",cy:"43",r:"2.5",fill:"#FFF"})]}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{cx:"65",cy:"45",r:"11",fill:"#FFF"}),jsxRuntimeExports.jsx("circle",{cx:"65",cy:"45",r:"7",fill:"#1E40AF",children:jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"45;44;45",dur:"0.5s",repeatCount:"indefinite",begin:"0.1s"})}),jsxRuntimeExports.jsx("circle",{cx:"63",cy:"43",r:"2.5",fill:"#FFF"})]}),jsxRuntimeExports.jsx("ellipse",{cx:"50",cy:"68",rx:"12",ry:"14",fill:"#1E40AF",children:jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"14;16;14",dur:"0.6s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"50",cy:"66",rx:"8",ry:"9",fill:"#BFDBFE"}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsxs("path",{d:"M85 20 L87 26 L93 26 L88 30 L90 36 L85 32 L80 36 L82 30 L77 26 L83 26 Z",fill:"#FDE047",children:[jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"0.7s",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animateTransform",{attributeName:"transform",type:"scale",values:"1;1.2;1",dur:"0.7s",repeatCount:"indefinite",additive:"sum"})]}),jsxRuntimeExports.jsx("path",{d:"M10 25 L11 29 L15 29 L12 31 L13 35 L10 33 L7 35 L8 31 L5 29 L9 29 Z",fill:"#FDE047",children:jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"1;0.3;1",dur:"0.6s",repeatCount:"indefinite",begin:"0.2s"})})]})]})}function SadnessEmoji({size:e,isSelected:r}){return jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:cn(e,"drop-shadow-lg"),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"sadnessGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#A5B4FC"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#818CF8"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#6366F1"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"sadnessShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0.3"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FFF",stopOpacity:"0"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"sadTearGrad",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#93C5FD"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#3B82F6"})]}),jsxRuntimeExports.jsx("filter",{id:"sadnessShadow",children:jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#4338CA",floodOpacity:"0.4"})})]}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"44",fill:"url(#sadnessGrad)",filter:r?"url(#sadnessShadow)":void 0,children:jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"50;52;50",dur:"3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"35",rx:"25",ry:"20",fill:"url(#sadnessShine)"}),jsxRuntimeExports.jsx("path",{d:"M24 38 L44 44",fill:"none",stroke:"#3730A3",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M56 44 L76 38",fill:"none",stroke:"#3730A3",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"50",rx:"6",ry:"7",fill:"#3730A3",children:jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"7;5;7",dur:"3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("circle",{cx:"33",cy:"48",r:"2",fill:"#FFF",opacity:"0.5"})]}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("ellipse",{cx:"65",cy:"50",rx:"6",ry:"7",fill:"#3730A3",children:jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"7;5;7",dur:"3s",repeatCount:"indefinite",begin:"0.2s"})}),jsxRuntimeExports.jsx("circle",{cx:"63",cy:"48",r:"2",fill:"#FFF",opacity:"0.5"})]}),jsxRuntimeExports.jsx("path",{d:"M32 72 Q50 62 68 72",fill:"none",stroke:"#3730A3",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M32 72 Q50 62 68 72;M32 74 Q50 64 68 74;M32 72 Q50 62 68 72",dur:"3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("ellipse",{cx:"30",cy:"58",rx:"4",ry:"8",fill:"url(#sadTearGrad)",opacity:"0.8",children:[jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"58;75;58",dur:"2s",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.8;0;0.8",dur:"2s",repeatCount:"indefinite"})]}),jsxRuntimeExports.jsxs("ellipse",{cx:"70",cy:"58",rx:"4",ry:"8",fill:"url(#sadTearGrad)",opacity:"0.8",children:[jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"58;75;58",dur:"2s",repeatCount:"indefinite",begin:"0.5s"}),jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.8;0;0.8",dur:"2s",repeatCount:"indefinite",begin:"0.5s"})]}),jsxRuntimeExports.jsxs("g",{opacity:"0.4",children:[jsxRuntimeExports.jsx("line",{x1:"15",y1:"15",x2:"12",y2:"25",stroke:"#818CF8",strokeWidth:"2",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"y2",values:"25;35;25",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("line",{x1:"85",y1:"20",x2:"88",y2:"30",stroke:"#818CF8",strokeWidth:"2",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"y2",values:"30;40;30",dur:"1.8s",repeatCount:"indefinite",begin:"0.3s"})})]})]})}function DisgustEmoji({size:e,isSelected:r}){return jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:cn(e,"drop-shadow-lg"),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"disgustGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#D8B4FE"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#C084FC"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#A855F7"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"disgustShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0.35"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FFF",stopOpacity:"0"})]}),jsxRuntimeExports.jsx("filter",{id:"disgustShadow",children:jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#7C3AED",floodOpacity:"0.4"})})]}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"44",fill:"url(#disgustGrad)",filter:r?"url(#disgustShadow)":void 0,children:jsxRuntimeExports.jsx("animate",{attributeName:"cx",values:"50;51;50;49;50",dur:"2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"35",rx:"25",ry:"20",fill:"url(#disgustShine)"}),jsxRuntimeExports.jsx("path",{d:"M24 38 Q35 42 44 36",fill:"none",stroke:"#6B21A8",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M56 36 Q65 42 76 38",fill:"none",stroke:"#6B21A8",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M28 48 Q35 42 42 48",fill:"none",stroke:"#6B21A8",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M28 48 Q35 42 42 48;M28 46 Q35 40 42 46;M28 48 Q35 42 42 48",dur:"2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M58 48 Q65 42 72 48",fill:"none",stroke:"#6B21A8",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M58 48 Q65 42 72 48;M58 46 Q65 40 72 46;M58 48 Q65 42 72 48",dur:"2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M45 56 Q50 52 55 56",fill:"none",stroke:"#6B21A8",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M45 56 Q50 52 55 56;M45 54 Q50 50 55 54;M45 56 Q50 52 55 56",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M30 68 Q40 72 50 66 Q60 60 70 68",fill:"none",stroke:"#6B21A8",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M30 68 Q40 72 50 66 Q60 60 70 68;M30 70 Q40 74 50 68 Q60 62 70 70;M30 68 Q40 72 50 66 Q60 60 70 68",dur:"2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("g",{opacity:"0.5",children:[jsxRuntimeExports.jsx("path",{d:"M82 30 Q85 25 82 20",fill:"none",stroke:"#A855F7",strokeWidth:"2",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.5;0.2;0.5",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M88 35 Q91 30 88 25",fill:"none",stroke:"#A855F7",strokeWidth:"2",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.5;0.2;0.5",dur:"1.5s",repeatCount:"indefinite",begin:"0.3s"})})]})]})}function AngerEmoji({size:e,isSelected:r}){return jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:cn(e,"drop-shadow-lg"),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"angerGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FCA5A5"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#F87171"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#EF4444"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"angerShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0.3"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FFF",stopOpacity:"0"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"fireGrad",x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#EF4444"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#F97316"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#FBBF24"})]}),jsxRuntimeExports.jsx("filter",{id:"angerShadow",children:jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#DC2626",floodOpacity:"0.5"})})]}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"44",fill:"url(#angerGrad)",filter:r?"url(#angerShadow)":void 0,children:jsxRuntimeExports.jsx("animate",{attributeName:"cx",values:"50;52;48;50",dur:"0.2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"35",rx:"25",ry:"20",fill:"url(#angerShine)"}),jsxRuntimeExports.jsx("path",{d:"M22 42 L44 34",fill:"none",stroke:"#991B1B",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M22 42 L44 34;M22 40 L44 32;M22 42 L44 34",dur:"0.3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M56 34 L78 42",fill:"none",stroke:"#991B1B",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M56 34 L78 42;M56 32 L78 40;M56 34 L78 42",dur:"0.3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"48",rx:"7",ry:"4",fill:"#991B1B",children:jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"4;3;4",dur:"0.3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("circle",{cx:"35",cy:"47",r:"2",fill:"#FFF",opacity:"0.5"})]}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("ellipse",{cx:"65",cy:"48",rx:"7",ry:"4",fill:"#991B1B",children:jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"4;3;4",dur:"0.3s",repeatCount:"indefinite",begin:"0.1s"})}),jsxRuntimeExports.jsx("circle",{cx:"65",cy:"47",r:"2",fill:"#FFF",opacity:"0.5"})]}),jsxRuntimeExports.jsx("rect",{x:"32",y:"62",width:"36",height:"12",rx:"3",fill:"#991B1B",children:jsxRuntimeExports.jsx("animate",{attributeName:"height",values:"12;14;12",dur:"0.3s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("line",{x1:"38",y1:"62",x2:"38",y2:"74",stroke:"#FCA5A5",strokeWidth:"2"}),jsxRuntimeExports.jsx("line",{x1:"50",y1:"62",x2:"50",y2:"74",stroke:"#FCA5A5",strokeWidth:"2"}),jsxRuntimeExports.jsx("line",{x1:"62",y1:"62",x2:"62",y2:"74",stroke:"#FCA5A5",strokeWidth:"2"}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsxs("ellipse",{cx:"30",cy:"12",rx:"6",ry:"12",fill:"url(#fireGrad)",children:[jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"12;15;12",dur:"0.4s",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"12;10;12",dur:"0.4s",repeatCount:"indefinite"})]}),jsxRuntimeExports.jsxs("ellipse",{cx:"50",cy:"8",rx:"8",ry:"16",fill:"url(#fireGrad)",children:[jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"16;20;16",dur:"0.3s",repeatCount:"indefinite",begin:"0.1s"}),jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"8;5;8",dur:"0.3s",repeatCount:"indefinite",begin:"0.1s"})]}),jsxRuntimeExports.jsxs("ellipse",{cx:"70",cy:"12",rx:"6",ry:"12",fill:"url(#fireGrad)",children:[jsxRuntimeExports.jsx("animate",{attributeName:"ry",values:"12;15;12",dur:"0.35s",repeatCount:"indefinite",begin:"0.2s"}),jsxRuntimeExports.jsx("animate",{attributeName:"cy",values:"12;10;12",dur:"0.35s",repeatCount:"indefinite",begin:"0.2s"})]})]}),jsxRuntimeExports.jsxs("g",{opacity:"0.4",children:[jsxRuntimeExports.jsx("path",{d:"M8 50 Q3 45 8 40",fill:"none",stroke:"#FCA5A5",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M8 50 Q3 45 8 40;M6 48 Q1 43 6 38;M8 50 Q3 45 8 40",dur:"0.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M92 50 Q97 45 92 40",fill:"none",stroke:"#FCA5A5",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M92 50 Q97 45 92 40;M94 48 Q99 43 94 38;M92 50 Q97 45 92 40",dur:"0.5s",repeatCount:"indefinite",begin:"0.2s"})})]})]})}function AnticipationEmoji({size:e,isSelected:r}){return jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 100 100",className:cn(e,"drop-shadow-lg"),children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"anticipationGrad",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FED7AA"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FDBA74"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#F97316"})]}),jsxRuntimeExports.jsxs("linearGradient",{id:"anticipationShine",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#FFF",stopOpacity:"0.4"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#FFF",stopOpacity:"0"})]}),jsxRuntimeExports.jsx("filter",{id:"anticipationShadow",children:jsxRuntimeExports.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#EA580C",floodOpacity:"0.4"})})]}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"44",fill:"url(#anticipationGrad)",filter:r?"url(#anticipationShadow)":void 0,children:jsxRuntimeExports.jsx("animate",{attributeName:"cx",values:"50;52;50",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("ellipse",{cx:"35",cy:"35",rx:"25",ry:"20",fill:"url(#anticipationShine)"}),jsxRuntimeExports.jsx("path",{d:"M24 35 Q35 30 46 35",fill:"none",stroke:"#C2410C",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M24 35 Q35 30 46 35;M24 33 Q35 28 46 33;M24 35 Q35 30 46 35",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("path",{d:"M54 35 Q65 30 76 35",fill:"none",stroke:"#C2410C",strokeWidth:"3",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M54 35 Q65 30 76 35;M54 33 Q65 28 76 33;M54 35 Q65 30 76 35",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{cx:"35",cy:"48",r:"9",fill:"#FFF"}),jsxRuntimeExports.jsx("circle",{cx:"38",cy:"48",r:"5",fill:"#C2410C",children:jsxRuntimeExports.jsx("animate",{attributeName:"cx",values:"38;40;38",dur:"2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("circle",{cx:"36",cy:"46",r:"2",fill:"#FFF",opacity:"0.8"})]}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsx("circle",{cx:"65",cy:"48",r:"9",fill:"#FFF"}),jsxRuntimeExports.jsx("circle",{cx:"68",cy:"48",r:"5",fill:"#C2410C",children:jsxRuntimeExports.jsx("animate",{attributeName:"cx",values:"68;70;68",dur:"2s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("circle",{cx:"66",cy:"46",r:"2",fill:"#FFF",opacity:"0.8"})]}),jsxRuntimeExports.jsx("path",{d:"M35 62 Q50 72 65 62",fill:"none",stroke:"#C2410C",strokeWidth:"4",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"d",values:"M35 62 Q50 72 65 62;M35 64 Q50 75 65 64;M35 62 Q50 72 65 62",dur:"1.5s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsxs("g",{children:[jsxRuntimeExports.jsxs("circle",{cx:"85",cy:"25",r:"5",fill:"#FDE047",opacity:"0.8",children:[jsxRuntimeExports.jsx("animate",{attributeName:"r",values:"5;7;5",dur:"1s",repeatCount:"indefinite"}),jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.8;0.4;0.8",dur:"1s",repeatCount:"indefinite"})]}),jsxRuntimeExports.jsxs("circle",{cx:"15",cy:"30",r:"4",fill:"#FDE047",opacity:"0.6",children:[jsxRuntimeExports.jsx("animate",{attributeName:"r",values:"4;6;4",dur:"1.2s",repeatCount:"indefinite",begin:"0.3s"}),jsxRuntimeExports.jsx("animate",{attributeName:"opacity",values:"0.6;0.3;0.6",dur:"1.2s",repeatCount:"indefinite",begin:"0.3s"})]})]}),jsxRuntimeExports.jsxs("g",{opacity:"0.3",children:[jsxRuntimeExports.jsx("line",{x1:"90",y1:"45",x2:"98",y2:"45",stroke:"#C2410C",strokeWidth:"2",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"x2",values:"98;102;98",dur:"0.8s",repeatCount:"indefinite"})}),jsxRuntimeExports.jsx("line",{x1:"90",y1:"50",x2:"100",y2:"50",stroke:"#C2410C",strokeWidth:"2",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"x2",values:"100;105;100",dur:"0.8s",repeatCount:"indefinite",begin:"0.1s"})}),jsxRuntimeExports.jsx("line",{x1:"90",y1:"55",x2:"98",y2:"55",stroke:"#C2410C",strokeWidth:"2",strokeLinecap:"round",children:jsxRuntimeExports.jsx("animate",{attributeName:"x2",values:"98;102;98",dur:"0.8s",repeatCount:"indefinite",begin:"0.2s"})})]})]})}const emotionComponents={joy:JoyEmoji,trust:TrustEmoji,fear:FearEmoji,surprise:SurpriseEmoji,sadness:SadnessEmoji,disgust:DisgustEmoji,anger:AngerEmoji,anticipation:AnticipationEmoji};function AnimatedEmotionEmoji({emotion:e,size:r="lg",isSelected:i,intensity:n,className:a}){const o=sizeClasses[r],l=emotionComponents[e],c=n==="intense"?"scale-110":n==="mild"?"scale-95":"";return jsxRuntimeExports.jsx("div",{className:cn("transition-all duration-300",i&&"scale-110 drop-shadow-xl",c,a),children:jsxRuntimeExports.jsx(l,{size:o,isSelected:i})})}function EmotionWheel({entries:e,onAddEntry:r,isPrimaryCTA:i=!1}){const{language:n,t:a}=useLanguage(),[o,l]=reactExports.useState("wheel"),[c,d]=reactExports.useState(null),[p,g]=reactExports.useState("moderate"),[y,x]=reactExports.useState(""),[S,b]=reactExports.useState(280);reactExports.useEffect(()=>{const re=()=>{b(window.innerWidth<360?230:280)};return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]);const T=reactExports.useMemo(()=>Math.round(S*.375),[S]),N=getEmotionTranslations(n),k=getToday$1(),C=e.filter(re=>re.date===k),A=C.length,R=reactExports.useCallback(re=>{d(re),l("intensity")},[]),I=reactExports.useCallback(re=>{g(re)},[]),F=reactExports.useCallback(()=>{if(!c)return;let re;if(y.trim()){const Y=moodNoteSchema.safeParse(y);if(!Y.success){logger.warn("[EmotionWheel] Invalid note:",Y.error.message);return}re=sanitizeString(Y.data)}const U=emotionToMoodType(c,p),q={id:generateId$1(),mood:U,note:re,date:k,timestamp:Date.now(),emotion:{primary:c,intensity:p}};r(q),d(null),g("moderate"),x(""),l("wheel")},[c,p,y,k,r]),z=reactExports.useCallback(()=>{x(""),F()},[F]),B=reactExports.useCallback(()=>{l("note")},[]),Z=reactExports.useCallback(()=>{o==="note"?l("intensity"):o==="intensity"&&(l("wheel"),d(null))},[o]);return jsxRuntimeExports.jsxs("div",{className:cn("rounded-2xl p-5 animate-fade-in transition-all relative overflow-hidden",i?"bg-gradient-to-br from-primary/15 via-card to-accent/15 ring-2 ring-primary/40 shadow-lg shadow-primary/20":"bg-card zen-shadow-card"),children:[i&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-primary/25 rounded-full border border-primary/30",children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4 text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-primary",children:a.startHere})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[o!=="wheel"&&jsxRuntimeExports.jsx("button",{onClick:Z,"aria-label":a.back||"Back",className:"p-1.5 -ml-1.5 hover:bg-secondary rounded-lg transition-colors",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 rotate-180"})}),jsxRuntimeExports.jsx(Smile,{className:"w-5 h-5 text-accent"}),jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-foreground",children:[o==="wheel"&&N.whatDoYouFeel,o==="intensity"&&N.selectIntensity,o==="note"&&(a.addNote||"Add note")]})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[A," ",a.today]})]}),o==="wheel"&&jsxRuntimeExports.jsxs("div",{className:"relative mx-auto",style:{width:`${S}px`,height:`${S}px`},children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(Smile,{className:"w-7 h-7 sm:w-8 sm:h-8 text-primary/60"})}),EMOTION_ORDER.map(re=>{const U=EMOTION_WHEEL_POSITIONS[re],q=Math.sin(U*Math.PI/180)*T,Y=-Math.cos(U*Math.PI/180)*T;return jsxRuntimeExports.jsxs("button",{onClick:()=>R(re),"aria-label":N[re],className:"absolute top-1/2 left-1/2 flex flex-col items-center gap-0.5 p-1.5 rounded-xl transition-all hover:scale-110 active:scale-95 hover:z-10",style:{transform:`translate(calc(-50% + ${q}px), calc(-50% + ${Y}px))`,backgroundColor:getEmotionColor(re,"mild")+"25"},children:[jsxRuntimeExports.jsx(AnimatedEmotionEmoji,{emotion:re,size:"md"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-medium text-foreground/80 whitespace-nowrap","aria-hidden":"true",children:N[re]})]},re)})]}),o==="intensity"&&c&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3 p-4 rounded-xl",style:{backgroundColor:getEmotionColor(c,p)+"40"},children:[jsxRuntimeExports.jsx(AnimatedEmotionEmoji,{emotion:c,size:"xl",intensity:p,isSelected:!0}),jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-foreground",children:N[c]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2",children:["mild","moderate","intense"].map(re=>jsxRuntimeExports.jsxs("button",{onClick:()=>I(re),className:cn("flex flex-col items-center gap-1 p-3 rounded-xl transition-all",p===re?"ring-2 ring-primary bg-primary/20":"bg-secondary/50 hover:bg-secondary"),children:[jsxRuntimeExports.jsx("span",{className:"text-xl",children:INTENSITY_EMOJIS[re]}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:N[re]})]},re))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:z,className:"flex-1 py-3 bg-secondary text-secondary-foreground rounded-xl font-medium hover:bg-muted transition-colors",children:N.save}),jsxRuntimeExports.jsxs("button",{onClick:B,className:"flex-1 py-3 zen-gradient text-primary-foreground rounded-xl font-medium",children:["+ ",a.addNote||"Add note"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["+",EMOTION_XP.detailed," XP  ",a.addNote?`+${EMOTION_XP.withNote-EMOTION_XP.detailed} XP ${a.withNote||"with note"}`:""]})]}),o==="note"&&c&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg",style:{backgroundColor:getEmotionColor(c,p)+"30"},children:[jsxRuntimeExports.jsx(AnimatedEmotionEmoji,{emotion:c,size:"sm",intensity:p}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-foreground",children:[N[c],"  ",N[p]]})]}),jsxRuntimeExports.jsx("textarea",{value:y,onChange:re=>x(re.target.value),placeholder:a.whatsMakingYouFeel||"What's making you feel this way?",className:"w-full p-4 bg-secondary rounded-lg text-foreground placeholder:text-muted-foreground resize-none focus:outline-none focus:ring-2 focus:ring-primary/30 transition-all",rows:3,autoFocus:!0,maxLength:500}),jsxRuntimeExports.jsxs("button",{onClick:F,className:"w-full py-3 zen-gradient text-primary-foreground rounded-xl font-semibold",children:[N.save," (+",EMOTION_XP.withNote," XP)"]})]}),A>0&&o==="wheel"&&jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center justify-center gap-1.5",children:[C.slice(0,5).map((re,U)=>jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:re.emotion?getEmotionColor(re.emotion.primary,re.emotion.intensity)+"40":"hsl(var(--muted))"},children:re.emotion?jsxRuntimeExports.jsx(AnimatedEmotionEmoji,{emotion:re.emotion.primary,size:"sm"}):jsxRuntimeExports.jsx("span",{className:"text-xs",children:""})},re.id||U)),A>5&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["+",A-5]})]})]})}function AllHabitsComplete({onClose:e}){const{t:r}=useLanguage(),[i,n]=reactExports.useState(!1);reactExports.useEffect(()=>{n(!0);const o=setTimeout(()=>{n(!1),setTimeout(e,300)},3500);return()=>clearTimeout(o)},[e]);const a=["#FF6B6B","#4ECDC4","#FFE66D","#95E1D3","#F38181","#AA96DA","#FCBAD3"];return jsxRuntimeExports.jsxs("div",{className:cn("fixed inset-0 z-[200] flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",i?"opacity-100":"opacity-0"),onClick:e,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:50}).map((o,l)=>jsxRuntimeExports.jsx("div",{className:"absolute w-3 h-3 animate-confetti",style:{left:`${Math.random()*100}%`,backgroundColor:a[l%a.length],animationDelay:`${Math.random()*.5}s`,animationDuration:`${2+Math.random()*2}s`,transform:`rotate(${Math.random()*360}deg)`}},l))}),jsxRuntimeExports.jsxs("div",{className:cn("relative flex flex-col items-center transition-all duration-500",i?"scale-100 opacity-100":"scale-50 opacity-0"),children:[jsxRuntimeExports.jsx("div",{className:"text-7xl animate-bounce",children:""}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-3xl font-black text-white text-center",children:r.allHabitsComplete||"All Habits Done!"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg text-white/70",children:r.amazingWork||"Amazing work today!"})]})]})}function HabitCompletionCelebration({habitName:e,habitIcon:r,habitColor:i,xpGained:n=10,streakDays:a,isAllComplete:o,onComplete:l}){const{t:c}=useLanguage(),[d,p]=reactExports.useState("check");return reactExports.useEffect(()=>{const g=setTimeout(()=>p("xp"),400),y=setTimeout(()=>{a&&a>1?p("streak"):p("done")},1200),x=setTimeout(()=>{p("done"),l()},a&&a>1?2200:1500);return()=>{clearTimeout(g),clearTimeout(y),clearTimeout(x)}},[a,l]),jsxRuntimeExports.jsxs("div",{className:"fixed left-1/2 -translate-x-1/2 z-[150] pointer-events-none",style:{bottom:"calc(6rem + env(safe-area-inset-bottom, 0px))"},children:[jsxRuntimeExports.jsxs("div",{className:cn("relative flex items-center gap-3 px-5 py-3 rounded-2xl shadow-2xl transition-all duration-300",i,d==="check"&&"animate-habit-complete-bounce scale-110",d!=="done"?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:cn("w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",d==="check"&&"animate-check-circle-fill"),children:jsxRuntimeExports.jsx(Check,{className:cn("w-6 h-6 text-white",d==="check"&&"animate-check-draw"),strokeWidth:3})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 animate-sparkle-burst",children:jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-300 fill-yellow-300"})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -left-1 animate-sparkle-burst delay-100",children:jsxRuntimeExports.jsx(Star,{className:"w-3 h-3 text-yellow-300 fill-yellow-300"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-white font-bold text-base",children:e}),jsxRuntimeExports.jsx("span",{className:"text-white/70 text-xs",children:c.completed||"Completed!"})]}),jsxRuntimeExports.jsxs("div",{className:cn("absolute -top-8 right-4 flex items-center gap-1 px-3 py-1 bg-yellow-400 text-yellow-900 rounded-full font-bold text-sm shadow-lg",d==="xp"||d==="streak"?"animate-xp-float-up opacity-100":"opacity-0 scale-0"),children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4"}),"+",n," XP"]}),a&&a>1&&jsxRuntimeExports.jsxs("div",{className:cn("absolute -top-12 left-1/2 -translate-x-1/2 flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-full font-bold shadow-lg",d==="streak"?"animate-streak-pop opacity-100":"opacity-0 scale-0"),children:[jsxRuntimeExports.jsx(Flame,{className:"w-5 h-5 animate-flame-flicker"}),jsxRuntimeExports.jsxs("span",{children:[a," ",c.dayStreak||"day streak","!"]})]})]}),d==="check"&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:12}).map((g,y)=>jsxRuntimeExports.jsx("div",{className:"absolute left-1/2 top-1/2 w-2 h-2 rounded-full animate-particle-burst",style:{backgroundColor:["#FFD700","#FFA500","#FF6347","#00CED1","#9370DB","#32CD32"][y%6],"--particle-angle":`${y*30}deg`,"--particle-distance":`${40+Math.random()*30}px`,animationDelay:`${y*30}ms`}},y))})]})}function DailyProgressBar({completedCount:e,totalCount:r,className:i}){const{t:n}=useLanguage(),a=r>0?e/r*100:0,o=e===r&&r>0;return jsxRuntimeExports.jsxs("div",{className:cn("w-full",i),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n.todayProgress||"Today's Progress"}),jsxRuntimeExports.jsxs("span",{className:cn("text-sm font-bold transition-colors",o?"text-mood-good":"text-foreground"),children:[e,"/",r]})]}),jsxRuntimeExports.jsxs("div",{className:"relative h-3 bg-secondary rounded-full overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:cn("absolute inset-y-0 left-0 rounded-full transition-all duration-500 ease-out",o?"bg-gradient-to-r from-mood-good to-emerald-400":"bg-gradient-to-r from-primary to-accent"),style:{width:`${a}%`}}),o&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 animate-shimmer-slide",children:jsxRuntimeExports.jsx("div",{className:"h-full w-1/4 bg-gradient-to-r from-transparent via-white/30 to-transparent"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-around px-1",children:Array.from({length:r}).map((l,c)=>jsxRuntimeExports.jsx("div",{className:cn("w-1.5 h-1.5 rounded-full transition-all duration-300",c<e?"bg-white/50 scale-100":"bg-foreground/20 scale-75"),style:{transitionDelay:`${c*50}ms`}},c))})]}),o&&jsxRuntimeExports.jsx("div",{className:"mt-2 flex items-center justify-center gap-2 animate-fade-in",children:jsxRuntimeExports.jsxs("span",{className:"text-mood-good text-sm font-medium",children:[" ",n.allHabitsComplete||"All habits complete!"]})})]})}const SIZES={sm:{size:32,stroke:3,fontSize:"text-[8px]"},md:{size:44,stroke:4,fontSize:"text-xs"},lg:{size:56,stroke:5,fontSize:"text-sm"}},COLORS={primary:"stroke-primary",accent:"stroke-accent",success:"stroke-mood-great",warning:"stroke-mood-okay"};function ProgressRing({progress:e,size:r="md",showPercentage:i=!1,strokeWidth:n,className:a,color:o="primary"}){const l=SIZES[r],c=n??l.stroke,d=(l.size-c)/2,p=d*2*Math.PI,g=Math.min(100,Math.max(0,e)),y=p-g/100*p;return jsxRuntimeExports.jsxs("div",{className:cn("relative inline-flex items-center justify-center",a),children:[jsxRuntimeExports.jsxs("svg",{width:l.size,height:l.size,className:"transform -rotate-90",children:[jsxRuntimeExports.jsx("circle",{cx:l.size/2,cy:l.size/2,r:d,fill:"none",strokeWidth:c,className:"stroke-secondary"}),jsxRuntimeExports.jsx("circle",{cx:l.size/2,cy:l.size/2,r:d,fill:"none",strokeWidth:c,strokeDasharray:p,strokeDashoffset:y,strokeLinecap:"round",className:cn(COLORS[o],"transition-all duration-300 ease-out")})]}),i&&jsxRuntimeExports.jsxs("span",{className:cn("absolute font-semibold text-foreground",l.fontSize),children:[Math.round(g),"%"]})]})}function ProgressRingCompact({progress:e,completed:r,className:i}){return r?jsxRuntimeExports.jsx("div",{className:cn("w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",i),children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}):jsxRuntimeExports.jsx(ProgressRing,{progress:e,size:"sm",color:e>=100?"success":"primary",className:i})}var ImpactStyle;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(ImpactStyle||(ImpactStyle={}));var NotificationType;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(NotificationType||(NotificationType={}));const Haptics=registerPlugin("Haptics",{web:()=>__vitePreload(()=>import("./web-DFRY_VOd.js"),__vite__mapDeps([8,1,2,3,4,5])).then(e=>new e.HapticsWeb)}),isHapticsAvailable=Capacitor.isNativePlatform();async function hapticTap(){if(isHapticsAvailable)try{await Haptics.impact({style:ImpactStyle.Light})}catch(e){console.debug("Haptic tap failed:",e)}}async function hapticMedium(){if(isHapticsAvailable)try{await Haptics.impact({style:ImpactStyle.Medium})}catch(e){console.debug("Haptic medium failed:",e)}}async function hapticHeavy(){if(isHapticsAvailable)try{await Haptics.impact({style:ImpactStyle.Heavy})}catch(e){console.debug("Haptic heavy failed:",e)}}async function hapticSuccess(){if(isHapticsAvailable)try{await Haptics.notification({type:NotificationType.Success})}catch(e){console.debug("Haptic success failed:",e)}}async function hapticWarning(){if(isHapticsAvailable)try{await Haptics.notification({type:NotificationType.Warning})}catch(e){console.debug("Haptic warning failed:",e)}}async function hapticError(){if(isHapticsAvailable)try{await Haptics.notification({type:NotificationType.Error})}catch(e){console.debug("Haptic error failed:",e)}}async function hapticSelection(){if(isHapticsAvailable)try{await Haptics.selectionChanged()}catch(e){console.debug("Haptic selection failed:",e)}}const haptics={moodSelected:hapticMedium,moodSaved:hapticSuccess,habitToggled:hapticMedium,habitCompleted:hapticSuccess,focusStarted:hapticMedium,focusPaused:hapticTap,focusCompleted:hapticSuccess,focusPing:hapticTap,gratitudeSaved:hapticSuccess,xpGained:hapticTap,achievementUnlocked:hapticHeavy,levelUp:hapticHeavy,buttonPress:hapticTap,tabChanged:hapticSelection,panelOpened:hapticTap,panelClosed:hapticTap,timeWarning:hapticWarning,error:hapticError};function CompactHabitCard({habit:e,onToggle:r,onAdjust:i,onDelete:n,onChallenge:a,streak:o=0,className:l}){const{t:c}=useLanguage(),d=getToday$1(),[p,g]=reactExports.useState(!1),y=reactExports.useRef(0),x=e.type||"daily",S=()=>{if(x==="reduce"){const F=e.progressByDate?.[d]??0;return{completed:F===0,progress:F,target:0}}if(x==="multiple"){const F=e.completionsByDate?.[d]??0,z=e.dailyTarget??1;return{completed:F>=z,progress:F,target:z}}if(x==="continuous")return{completed:!e.failedDates?.includes(d),progress:e.completedDates?.length??0,target:0};const I=e.completedDates?.includes(d)??!1;return{completed:I,progress:I?1:0,target:1}},{completed:b,progress:T,target:N}=S(),k=N>0?T/N*100:b?100:0,C=I=>{y.current=I.touches[0].clientX},A=I=>{const F=y.current-I.changedTouches[0].clientX;F>50?g(!0):F<-50&&g(!1)},R=()=>{hapticTap(),r(e.id,d)};return jsxRuntimeExports.jsxs("div",{role:"listitem","aria-label":`${e.icon} ${e.name}${b?`, ${c.completed||"completed"}`:""}`,"aria-checked":b,className:cn("relative overflow-hidden rounded-xl",l),onTouchStart:C,onTouchEnd:A,children:[jsxRuntimeExports.jsxs("div",{className:cn("absolute right-0 top-0 bottom-0 flex items-center transition-all duration-200",p?"w-28":"w-0"),children:[a&&jsxRuntimeExports.jsx("button",{onClick:()=>{hapticTap(),a(e),g(!1)},className:"flex-1 h-full flex items-center justify-center bg-primary text-white active:opacity-80 transition-opacity","aria-label":c.createChallenge,children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{n(e.id),g(!1)},className:"flex-1 h-full flex items-center justify-center bg-destructive text-white active:opacity-80 transition-opacity","aria-label":c.delete,children:jsxRuntimeExports.jsx(Trash2,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:cn("flex items-center justify-between p-4 bg-card rounded-xl border border-border/50 transition-all duration-200",p&&(a?"-translate-x-28":"-translate-x-14"),b&&"bg-primary/5 border-primary/20"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[jsxRuntimeExports.jsx("button",{onClick:R,className:cn("w-12 h-12 rounded-xl flex items-center justify-center text-2xl shrink-0 transition-all duration-200 active:scale-95",b?`${e.color} text-primary-foreground shadow-md`:"bg-secondary hover:bg-secondary/80"),children:b?jsxRuntimeExports.jsx(Check,{className:"w-6 h-6"}):e.icon}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-w-0",children:[jsxRuntimeExports.jsx("p",{className:cn("font-medium truncate",b&&"text-primary"),children:e.name}),o>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx(Flame,{className:"w-3 h-3 text-orange-500"}),jsxRuntimeExports.jsxs("span",{children:[o," ",c.days]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 shrink-0",children:x==="reduce"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>i?.(e.id,d,-1),className:"w-8 h-8 rounded-lg bg-mood-good/20 flex items-center justify-center text-mood-good hover:bg-mood-good/30 transition-colors active:scale-95",children:jsxRuntimeExports.jsx(Minus,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("span",{className:cn("w-8 text-center font-bold",T===0?"text-mood-good":"text-foreground"),children:T}),jsxRuntimeExports.jsx("button",{onClick:()=>i?.(e.id,d,1),className:"w-8 h-8 rounded-lg bg-secondary flex items-center justify-center text-muted-foreground hover:bg-muted transition-colors active:scale-95",children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})})]}):x==="multiple"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ProgressRing,{progress:k,size:"sm",color:b?"success":"primary"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[T,"/",N]})]}):x==="continuous"?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-primary/10 rounded-lg",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-primary",children:T}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:c.days})]}):jsxRuntimeExports.jsx(ProgressRingCompact,{progress:k,completed:b})})]})]})}const Sheet=Root$2,SheetTrigger=Trigger,SheetPortal=Portal,SheetOverlay=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Overlay,{className:cn("fixed inset-0 z-[60] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:i}));SheetOverlay.displayName=Overlay.displayName;const sheetVariants=cva("fixed z-[70] flex flex-col gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SheetContent=reactExports.forwardRef(({side:e="right",className:r,children:i,...n},a)=>jsxRuntimeExports.jsxs(SheetPortal,{children:[jsxRuntimeExports.jsx(SheetOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{ref:a,className:cn(sheetVariants({side:e}),r),...n,children:[i,jsxRuntimeExports.jsxs(Close$1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SheetContent.displayName=Content$1.displayName;const SheetHeader=({className:e,...r})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",e),...r});SheetHeader.displayName="SheetHeader";const SheetTitle=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Title$1,{ref:i,className:cn("text-lg font-semibold text-foreground",e),...r}));SheetTitle.displayName=Title$1.displayName;const SheetDescription=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Description$1,{ref:i,className:cn("text-sm text-muted-foreground",e),...r}));SheetDescription.displayName=Description$1.displayName;const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:e,variant:r,size:i,asChild:n=!1,...a},o)=>{const l=n?Slot:"button";return jsxRuntimeExports.jsx(l,{className:cn(buttonVariants({variant:r,size:i,className:e})),ref:o,...a})});Button.displayName="Button";const STORAGE_KEY$1="zenflow_challenges",CODE_PREFIX="ZEN",CODE_CHARS="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",CHALLENGE_DURATIONS=[{value:7,label:"7 days"},{value:14,label:"14 days"},{value:21,label:"21 days"},{value:30,label:"30 days"}];function generateCode(){const e=crypto.getRandomValues(new Uint8Array(6)),r=Array.from(e,i=>CODE_CHARS[i%CODE_CHARS.length]).join("");return`${CODE_PREFIX}-${r}`}function generateId(){return generateSecureId("challenge")}function calculateEndDate(e,r){const i=new Date(e);return i.setDate(i.getDate()+r),i.toISOString().split("T")[0]}function getToday(){return new Date().toISOString().split("T")[0]}function loadChallenges(){return safeLocalStorageGet(STORAGE_KEY$1,[])}function saveChallenges$1(e){safeLocalStorageSet(STORAGE_KEY$1,e)}function createChallenge(e,r,i){const n=getToday(),a={id:generateId(),code:generateCode(),habitName:e.name,habitIcon:e.icon,duration:r,startDate:n,endDate:calculateEndDate(n,r),creatorName:i,myProgress:0,isCreator:!0,status:"active"},o=loadChallenges();return o.push(a),saveChallenges$1(o),a}function encodeInviteData(e){const r={n:e.habitName,i:e.habitIcon,d:e.duration,c:e.creatorName||"",cd:e.code,sd:e.startDate};return btoa(encodeURIComponent(JSON.stringify(r)))}function decodeInviteData(e){try{if(!e||typeof e!="string"||e.length>1e4)return null;let r;try{r=decodeURIComponent(atob(e))}catch{r=atob(e)}const i=safeJsonParse(r,null);return i?{code:i.cd,habitName:i.n,habitIcon:i.i,duration:i.d,creatorName:i.c||void 0,startDate:i.sd}:null}catch{return null}}function joinChallenge(e){const r=e.startDate||getToday(),i={id:generateId(),code:e.code,habitName:e.habitName,habitIcon:e.habitIcon,duration:e.duration,startDate:r,endDate:calculateEndDate(r,e.duration),creatorName:e.creatorName,myProgress:0,isCreator:!1,status:"active"},n=loadChallenges(),a=n.find(o=>o.code===e.code);return a||(n.push(i),saveChallenges$1(n),i)}function joinChallengeByCode(e){const r=e.trim().toUpperCase();if(!/^ZEN-[A-Z0-9]{6}$/.test(r))return null;const i=loadChallenges(),n=i.find(l=>l.code===r);if(n)return n;const a=getToday(),o={id:generateId(),code:r,habitName:"Friend Challenge",habitIcon:"",duration:7,startDate:a,endDate:calculateEndDate(a,7),creatorName:void 0,myProgress:0,isCreator:!1,status:"active"};return i.push(o),saveChallenges$1(i),o}function getActiveChallenges(){const e=loadChallenges(),r=getToday();return e.filter(i=>(i.endDate<r&&(i.status=i.myProgress>=i.duration?"completed":"expired"),i.status==="active"))}function getAllChallenges(){const e=loadChallenges(),r=getToday();return e.map(i=>i.status==="active"&&i.endDate<r?{...i,status:i.myProgress>=i.duration?"completed":"expired"}:i)}function deleteChallenge(e){const r=loadChallenges(),i=r.filter(n=>n.id!==e);return i.length===r.length?!1:(saveChallenges$1(i),!0)}function generateShareLink(e){return`zenflow://challenge?data=${encodeInviteData(e)}`}function generateShareText(e,r={}){const i=r;return[`${e.habitIcon} ${i.challengeInvite||"Join my challenge!"}`,"",`${i.habit||"Habit"}: ${e.habitName}`,`${i.duration||"Duration"}: ${e.duration} ${i.days||"days"}`,`${i.code||"Code"}: ${e.code}`,"",i.challengeJoinPrompt||"Join me on ZenFlow!"].join(`
`)}async function shareChallenge(e,r={}){const i=generateShareText(e,r),n=generateShareLink(e);if(navigator.share)try{return await navigator.share({title:`${e.habitIcon} ${e.habitName} Challenge`,text:i,url:n}),!0}catch(a){return a.name!=="AbortError"&&console.error("Share failed:",a),!1}try{return await navigator.clipboard.writeText(`${i}

${n}`),!0}catch{return!1}}function getChallengeProgress(e){return!e.duration||e.duration<=0?0:Math.round(e.myProgress/e.duration*100)}function getDaysRemaining(e){const r=new Date,n=new Date(e.endDate).getTime()-r.getTime();return Math.max(0,Math.ceil(n/(1e3*60*60*24)))}function ChallengeCard({challenge:e,onClick:r,t:i}){const n=getChallengeProgress(e),a=getDaysRemaining(e),o={active:"bg-emerald-500",completed:"bg-amber-500",expired:"bg-gray-400"}[e.status];return jsxRuntimeExports.jsxs("button",{onClick:r,className:"w-full p-4 bg-card rounded-xl border border-border/50 text-left hover:bg-muted/50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",children:e.habitIcon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:e.habitName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:e.isCreator?i.youCreated||"You created this":`${i.createdBy||"Created by"} ${e.creatorName||i.friend||"a friend"}`})]})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[e.myProgress,"/",e.duration," ",i.days||"days"]}),jsxRuntimeExports.jsx("span",{className:cn("px-2 py-0.5 rounded-full text-white text-[10px] font-medium",o),children:e.status==="active"?`${a} ${i.daysLeft||"days left"}`:e.status==="completed"?i.completed||"Completed!":i.expired||"Expired"})]}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:cn("h-full rounded-full transition-all",e.status==="completed"?"bg-amber-500":"bg-emerald-500"),style:{width:`${n}%`}})})]})]})}function CreateChallengeView({habit:e,username:r,onCreated:i,t:n}){const[a,o]=reactExports.useState(7),[l,c]=reactExports.useState(!1),d=async()=>{hapticTap(),c(!0);const p=createChallenge(e,a,r);await new Promise(g=>setTimeout(g,300)),hapticSuccess(),i(p)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6 pb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-2xl",children:[jsxRuntimeExports.jsx("div",{className:"text-5xl",children:e.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground text-lg",children:e.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:n.challengeYourFriends||"Challenge your friends to this habit!"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:n.challengeDuration||"Challenge Duration"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:CHALLENGE_DURATIONS.map(p=>jsxRuntimeExports.jsxs("button",{onClick:()=>{hapticTap(),o(p.value)},className:cn("p-3 rounded-xl border-2 transition-all",a===p.value?"border-primary bg-primary/10 text-primary":"border-border bg-card text-foreground hover:border-primary/50"),children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:p.value}),jsxRuntimeExports.jsx("div",{className:"text-xs opacity-70",children:n.days||"days"})]},p.value))})]}),jsxRuntimeExports.jsx(Button,{onClick:d,disabled:l,className:"w-full h-14 text-lg font-semibold",children:l?jsxRuntimeExports.jsx("span",{className:"animate-pulse",children:n.creating||"Creating..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 mr-2"}),n.createChallenge||"Create Challenge"]})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-center text-muted-foreground",children:n.challengeShareTip||"You'll be able to share this challenge with friends after creating it."})]})}function ChallengeDetailsView({challenge:e,onBack:r,onDelete:i,t:n}){const[a,o]=reactExports.useState(!1),[l,c]=reactExports.useState(!1),d=getChallengeProgress(e),p=getDaysRemaining(e),g=e.duration-p,y=e.duration>0?Math.round(g/e.duration*100):0,x=d>y,S=d<y-10,b=()=>e.status==="completed"?n.challengeWon||" Amazing! You completed the challenge!":e.status==="expired"?n.challengeExpired||"Challenge ended. Try again next time!":d>=80?n.almostThere||" Almost there! Keep pushing!":x?n.aheadOfSchedule||" Great pace! You're ahead of schedule!":S?n.catchUp||" You can catch up! Every day counts!":n.keepGoing||" Keep going! You're doing great!",T=async()=>{hapticTap(),c(!0),await shareChallenge(e,n)&&hapticSuccess(),c(!1)},N=async()=>{hapticTap();try{await navigator.clipboard.writeText(e.code),o(!0),hapticSuccess(),setTimeout(()=>o(!1),2e3)}catch{hapticWarning()}},k=()=>{hapticWarning(),confirm(n.confirmDeleteChallenge||"Delete this challenge?")&&(deleteChallenge(e.id),i())};return jsxRuntimeExports.jsxs("div",{className:"space-y-6 pb-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-6 bg-gradient-to-b from-primary/10 to-transparent rounded-2xl",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-3",children:e.habitIcon}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-foreground",children:e.habitName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.duration," ",n.dayChallenge||"day challenge"]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-2xl p-4 border border-border/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-foreground",children:n.yourProgress||"Your Progress"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.myProgress,"/",e.duration," ",n.days||"days"]})]}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden mb-2",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 rounded-full transition-all",style:{width:`${d}%`}})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:[d,"% ",n.complete||"complete"]}),e.status==="active"&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),p," ",n.daysLeft||"days left"]}),e.status==="completed"&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-amber-500",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-3 h-3"}),n.challengeCompleted||"Challenge Complete!"]})]})]}),jsxRuntimeExports.jsx("div",{className:cn("p-4 rounded-2xl text-center font-medium",e.status==="completed"?"bg-amber-500/10 text-amber-600 dark:text-amber-400":x?"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400":S?"bg-orange-500/10 text-orange-600 dark:text-orange-400":"bg-blue-500/10 text-blue-600 dark:text-blue-400"),children:b()}),e.status==="active"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-xl p-3 border border-border/50 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-foreground",children:g}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:n.daysPassed||"Days Passed"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-xl p-3 border border-border/50 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-emerald-500",children:e.myProgress}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:n.daysCompleted||"Completed"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-xl p-3 border border-border/50 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-foreground",children:p}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:n.daysRemaining||"Remaining"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-2xl p-4 border border-border/50",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:n.challengeCode||"Challenge Code"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 bg-muted rounded-lg px-4 py-3 font-mono text-lg text-center tracking-wider",children:e.code}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon",onClick:N,className:"h-12 w-12",children:a?jsxRuntimeExports.jsx(Check,{className:"w-5 h-5 text-emerald-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:k,className:"h-12",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-2"}),n.delete||"Delete"]}),jsxRuntimeExports.jsxs(Button,{onClick:T,disabled:l,className:"h-12",children:[jsxRuntimeExports.jsx(Share2,{className:"w-4 h-4 mr-2"}),l?n.sharing||"Sharing...":n.shareButton||"Share"]})]})]})}function ChallengesListView({onSelectChallenge:e,onJoinChallenge:r,t:i}){const n=reactExports.useMemo(()=>getAllChallenges(),[]),a=n.filter(c=>c.status==="active"),o=n.filter(c=>c.status==="completed"),l=n.filter(c=>c.status==="expired");return n.length===0?jsxRuntimeExports.jsxs("div",{className:"py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-5xl mb-4",children:""}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:i.noChallenges||"No challenges yet"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.createChallengePrompt||"Create a challenge from any habit!"}),jsxRuntimeExports.jsxs(Button,{onClick:r,variant:"outline",className:"mt-6",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),i.joinChallenge||"Join Challenge"]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6 pb-8",children:[jsxRuntimeExports.jsxs(Button,{onClick:r,variant:"outline",className:"w-full h-12",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),i.joinChallenge||"Join Challenge"]}),a.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),i.activeChallenges||"Active Challenges"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:a.map(c=>jsxRuntimeExports.jsx(ChallengeCard,{challenge:c,onClick:()=>e(c),t:i},c.id))})]}),o.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-4 h-4 text-amber-500"}),i.completedChallenges||"Completed"]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:o.map(c=>jsxRuntimeExports.jsx(ChallengeCard,{challenge:c,onClick:()=>e(c),t:i},c.id))})]}),l.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-muted-foreground mb-3",children:i.expiredChallenges||"Expired"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 opacity-60",children:l.map(c=>jsxRuntimeExports.jsx(ChallengeCard,{challenge:c,onClick:()=>e(c),t:i},c.id))})]})]})}function JoinChallengeView({initialInvite:e,onJoined:r,onCancel:i,t:n}){const[a,o]=reactExports.useState(e?.code||""),[l,c]=reactExports.useState(""),[d,p]=reactExports.useState(!1),g=S=>{let b=S.toUpperCase().replace(/[^A-Z0-9-]/g,"");b.length>0&&!b.startsWith("ZEN")&&(b="ZEN-"+b.replace(/-/g,"")),b.startsWith("ZEN")&&b.length>3&&b[3]!=="-"&&(b="ZEN-"+b.slice(3).replace(/-/g,"")),b.length>10&&(b=b.slice(0,10)),o(b),c("")},y=async()=>{if(hapticTap(),c(""),e&&e.habitName){p(!0);const b=joinChallenge(e);await new Promise(T=>setTimeout(T,300)),hapticSuccess(),r(b);return}const S=joinChallengeByCode(a);if(!S){c(n.invalidChallengeCode||"Invalid code. Format: ZEN-XXXXXX"),hapticWarning();return}p(!0),await new Promise(b=>setTimeout(b,300)),hapticSuccess(),r(S)},x=/^ZEN-[A-Z0-9]{6}$/.test(a);return jsxRuntimeExports.jsxs("div",{className:"space-y-6 pb-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-6 bg-gradient-to-b from-primary/10 to-transparent rounded-2xl",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-3",children:""}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-foreground",children:n.joinChallenge||"Join Challenge"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.enterChallengeCode||"Enter the code from your friend"})]}),e&&e.habitName&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-2xl",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl",children:e.habitIcon}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground",children:e.habitName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.duration," ",n.days||"days","  ",e.creatorName||n.friend||"Friend"]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:n.challengeCode||"Challenge Code"}),jsxRuntimeExports.jsx("input",{type:"text",value:a,onChange:S=>g(S.target.value),placeholder:"ZEN-XXXXXX",className:cn("w-full px-4 py-4 rounded-xl border-2 text-center text-xl font-mono tracking-widest","bg-card focus:outline-none transition-colors",l?"border-red-500 focus:border-red-500":x?"border-emerald-500 focus:border-emerald-500":"border-border focus:border-primary"),maxLength:10,autoCapitalize:"characters",autoComplete:"off",autoCorrect:"off",disabled:!!e?.habitName}),l&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500 mt-2 text-center",children:l})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:i,className:"h-14",disabled:d,children:n.cancel||"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:y,disabled:!x||d,className:"h-14 text-lg font-semibold",children:d?jsxRuntimeExports.jsx("span",{className:"animate-pulse",children:n.joining||"Joining..."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-5 h-5 mr-2"}),n.join||"Join"]})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-center text-muted-foreground",children:n.joinChallengeHint||"Ask your friend to share their challenge code with you"})]})}const ChallengeModal=reactExports.memo(function({open:r,onOpenChange:i,habit:n,username:a,initialInvite:o}){const{t:l}=useLanguage(),[c,d]=reactExports.useState(n?"create":"list"),[p,g]=reactExports.useState(null),[y,x]=reactExports.useState(null),[S,b]=reactExports.useState(void 0);reactExports.useEffect(()=>{r&&(o?(b(o),d("join")):(b(void 0),d(n?"create":"list")),g(null),x(null))},[r,n,o]);const T=I=>{x(I),g(I),d("details")},N=I=>{g(I),b(void 0),d("details")},k=I=>{hapticTap(),g(I),d("details")},C=()=>{hapticTap(),b(void 0),d("join")},A=()=>{hapticTap(),g(null),x(null),b(void 0),d("list")},R=()=>{switch(c){case"create":return l.createChallenge||"Create Challenge";case"join":return l.joinChallenge||"Join Challenge";case"details":return y?l.challengeCreated||"Challenge Created!":l.challengeDetails||"Challenge Details";default:return l.friendChallenges||"Friend Challenges"}};return jsxRuntimeExports.jsx(Sheet,{open:r,onOpenChange:i,children:jsxRuntimeExports.jsxs(SheetContent,{side:"bottom",className:"h-[85vh] rounded-t-3xl",children:[jsxRuntimeExports.jsxs(SheetHeader,{className:"pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[(c==="details"||c==="join")&&jsxRuntimeExports.jsx("button",{onClick:A,className:"p-2 -ml-2 text-muted-foreground hover:text-foreground",children:""}),jsxRuntimeExports.jsx(SheetTitle,{className:cn("text-center flex-1",(c==="details"||c==="join")&&"text-left"),children:R()}),(c==="details"||c==="join")&&jsxRuntimeExports.jsx("div",{className:"w-8"})]}),jsxRuntimeExports.jsx(SheetDescription,{className:"text-center text-sm",children:c==="create"?l.challengeDescription||"Challenge friends to build habits together":c==="join"?l.enterCodeToJoin||"Enter a challenge code to join your friends":c==="details"&&y?l.shareToInvite||"Share to invite friends!":l.trackWithFriends||"Track your challenges with friends"})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-y-auto max-h-[calc(85vh-120px)]",children:[c==="create"&&n&&jsxRuntimeExports.jsx(CreateChallengeView,{habit:n,username:a,onCreated:T,t:l}),c==="list"&&jsxRuntimeExports.jsx(ChallengesListView,{onSelectChallenge:k,onJoinChallenge:C,t:l}),c==="join"&&jsxRuntimeExports.jsx(JoinChallengeView,{initialInvite:S,onJoined:N,onCancel:A,t:l}),c==="details"&&p&&jsxRuntimeExports.jsx(ChallengeDetailsView,{challenge:p,onBack:A,onDelete:A,t:l})]})]})})}),habitIcons=["","","","","","","","","","","","","","",""],habitColors=["bg-primary","bg-accent","bg-mood-good","bg-mood-okay","bg-mood-great"],HabitTracker=reactExports.memo(function({habits:r,onToggleHabit:i,onAdjustHabit:n,onAddHabit:a,onDeleteHabit:o,isPrimaryCTA:l=!1}){const{t:c,language:d}=useLanguage(),[p,g]=reactExports.useState(!1),[y,x]=reactExports.useState(!1),[S,b]=reactExports.useState(""),[T,N]=reactExports.useState(habitIcons[0]),[k,C]=reactExports.useState(habitColors[0]),[A,R]=reactExports.useState("daily"),[I,F]=reactExports.useState(1),[z,B]=reactExports.useState([]),[Z,re]=reactExports.useState("daily"),[U,q]=reactExports.useState([1,2,3,4,5]),[Y,fe]=reactExports.useState(!1),[Q,H]=reactExports.useState(15),[G,_]=reactExports.useState(!1),[O,V]=reactExports.useState(null),[W,K]=reactExports.useState(!1),[Ee,Se]=reactExports.useState(void 0),Ce=reactExports.useMemo(()=>getActiveChallenges().length,[]),De=getToday$1(),Fe=reactExports.useMemo(()=>{const Ae=new Map;return r.forEach(Ne=>{const He=Ne.type||"daily";let Qe=0;if(He==="reduce")Qe=Ne.progressByDate?.[De]??0;else if(He==="multiple")Qe=Ne.completionsByDate?.[De]??0;else if(He==="continuous"&&Ne.startDate){const Ue=new Date(Ne.startDate),Pe=Math.floor((new Date().getTime()-Ue.getTime())/(1e3*60*60*24)),ze=Ne.failedDates?.length??0;Qe=Math.max(0,Pe-ze)}Ae.set(Ne.id,Qe)}),Ae},[r,De]),qe=reactExports.useMemo(()=>{const Ae=new Map;return r.forEach(Ne=>{const He=Ne.type||"daily";let Qe=!1;if(He==="reduce")Qe=Ne.progressByDate?.[De]===0;else if(He==="multiple"){const Ue=Ne.completionsByDate?.[De]??0,it=Ne.dailyTarget??1;Qe=Ue>=it}else He==="continuous"?Qe=!Ne.failedDates?.includes(De):Qe=Ne.completedDates?.includes(De)??!1;Ae.set(Ne.id,Qe)}),Ae},[r,De]),Je=Ae=>{if(!Ae.completedDates||Ae.completedDates.length===0)return 1;const Ne=[...Ae.completedDates].sort().reverse();let He=0;const Qe=new Date(De);for(let Ue=0;Ue<Ne.length;Ue++){const it=new Date(Qe);it.setDate(it.getDate()-Ue);const Pe=formatDate$1(it);if(Ne.includes(Pe)||Ue===0&&!Ne.includes(De))(Ue===0||Ne.includes(Pe))&&He++;else break}return Math.max(1,He)},et=reactExports.useCallback(Ae=>qe.get(Ae.id)??!1,[qe]),Ke=reactExports.useMemo(()=>{let Ae=0;return qe.forEach(Ne=>{Ne&&Ae++}),Ae},[qe]),ct=Ae=>{const Ne=habitTemplates.find(He=>He.id===Ae);Ne&&(b(Ne.names[d]||Ne.names.en),N(Ne.icon),C(Ne.color),R(Ne.type),Ne.type==="multiple"&&Ne.dailyTarget?F(Ne.dailyTarget):F(1),B([]),re("daily"),x(!0))},Ve=reactExports.useMemo(()=>{const Ae=new Map;return r.forEach(Ne=>{Ae.set(Ne.id,Je(Ne))}),Ae},[r,De]),Me=()=>{B([...z,{enabled:!0,time:"09:00",days:[1,2,3,4,5]}])},at=Ae=>{B(z.filter((Ne,He)=>He!==Ae))},st=(Ae,Ne,He)=>{const Qe=[...z];Qe[Ae]={...Qe[Ae],[Ne]:He},B(Qe)},ot=()=>{if(!S.trim())return;const Ae={id:generateId$1(),name:S.trim(),icon:T,color:k,completedDates:[],createdAt:Date.now(),type:A,reminders:z,frequency:Z,...Z==="custom"&&{customDays:U},...Y&&{requiresDuration:!0,targetDuration:Q,durationByDate:{}},...A==="multiple"&&{dailyTarget:I,completionsByDate:{}},...A==="continuous"&&{startDate:De,failedDates:[]},...A==="reduce"&&{progressByDate:{},targetCount:I}};a(Ae),b(""),R("daily"),F(1),B([]),re("daily"),q([1,2,3,4,5]),fe(!1),H(15),g(!1),x(!1)};reactExports.useCallback(Ae=>Fe.get(Ae.id)??0,[Fe]);const lt=reactExports.useCallback(Ae=>{const Ne=et(Ae);if(i(Ae.id,De),!Ne){const He=Je(Ae);V({habitName:Ae.name,habitIcon:Ae.icon,habitColor:Ae.color,streakDays:He>1?He:void 0}),r.filter(Ue=>Ue.id!==Ae.id).every(Ue=>et(Ue))&&r.length>1&&setTimeout(()=>{_(!0),setTimeout(()=>_(!1),4e3)},1800)}},[r,i,De]);return jsxRuntimeExports.jsxs("div",{className:cn("rounded-2xl p-6 animate-fade-in transition-all relative overflow-hidden",l?"bg-gradient-to-br from-emerald-500/15 via-card to-green-500/15 ring-2 ring-emerald-500/40 shadow-lg shadow-emerald-500/20":"bg-card zen-shadow-card"),children:[l&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/5 via-transparent to-green-500/5 animate-pulse pointer-events-none"}),r.length>0&&jsxRuntimeExports.jsx(DailyProgressBar,{completedCount:Ke,totalCount:r.length,className:"mb-5 relative"}),l&&jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center gap-2 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/25 rounded-full border border-emerald-500/30",children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4 text-emerald-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:c.startHere})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[jsxRuntimeExports.jsx("h3",{className:cn("font-semibold text-foreground",l?"text-xl":"text-lg"),children:c.habits}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{hapticTap(),Se(void 0),K(!0)},className:"btn-press p-2 rounded-full bg-secondary text-foreground hover:bg-muted transition-all cursor-pointer relative","aria-label":c.friendChallenges,children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5"}),Ce>0&&jsxRuntimeExports.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-primary text-primary-foreground text-[10px] font-bold rounded-full flex items-center justify-center",children:Ce})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),g(!p)},className:cn("btn-press p-2 rounded-full transition-all cursor-pointer",p?"bg-destructive text-destructive-foreground rotate-45":"bg-primary text-primary-foreground"),children:jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5"})})]})]}),p&&!y&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-4 bg-secondary rounded-2xl animate-scale-in",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground mb-3",children:c.quickAdd||"Quick Add"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:habitTemplates.filter(Ae=>!r.some(Ne=>Ne.name===(Ae.names[d]||Ae.names.en))).slice(0,6).map(Ae=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>ct(Ae.id),className:"btn-press flex items-center gap-2 p-3 min-h-[48px] bg-background rounded-xl hover:bg-muted transition-all text-left cursor-pointer active:scale-[0.98]",children:[jsxRuntimeExports.jsx("span",{className:"text-xl",children:Ae.icon}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-foreground truncate",children:Ae.names[d]||Ae.names.en})]},Ae.id))}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{x(!0)},className:"btn-press w-full flex items-center justify-between p-3 min-h-[48px] bg-background rounded-xl hover:bg-muted transition-all cursor-pointer active:scale-[0.98]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Settings2,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-foreground",children:c.createCustomHabit||"Create custom habit"})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 text-muted-foreground"})]})]}),p&&y&&jsxRuntimeExports.jsxs("div",{className:"mb-4 p-4 bg-secondary rounded-2xl animate-scale-in",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>x(!1),className:"text-sm text-muted-foreground hover:text-foreground mb-3 flex items-center gap-1",children:[" ",c.back||"Back"]}),jsxRuntimeExports.jsx("input",{type:"text",value:S,onChange:Ae=>b(Ae.target.value),placeholder:c.habitName,className:"w-full p-3 bg-background rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30 mb-3",autoFocus:!0}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[c.icon,":"]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 flex-wrap",children:habitIcons.map(Ae=>jsxRuntimeExports.jsx("button",{type:"button",onClick:Ne=>{Ne.preventDefault(),N(Ae)},className:cn("btn-press w-10 h-10 rounded-lg flex items-center justify-center text-xl transition-all cursor-pointer",T===Ae?"bg-primary/20 ring-2 ring-primary":"bg-background hover:bg-muted"),children:Ae},Ae))})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[c.color,":"]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:habitColors.map(Ae=>jsxRuntimeExports.jsx("button",{type:"button",onClick:Ne=>{Ne.preventDefault(),C(Ae)},className:cn("btn-press w-8 h-8 rounded-full transition-all cursor-pointer",Ae,k===Ae?"ring-2 ring-offset-2 ring-foreground":"")},Ae))})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[c.habitType,":"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),R("daily")},className:cn("btn-press p-2 rounded-lg text-sm transition-all cursor-pointer",A==="daily"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"),children:c.habitTypeDaily}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),R("multiple")},className:cn("btn-press p-2 rounded-lg text-sm transition-all cursor-pointer",A==="multiple"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"),children:c.habitTypeMultiple}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),R("continuous")},className:cn("btn-press p-2 rounded-lg text-sm transition-all cursor-pointer",A==="continuous"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"),children:c.habitTypeContinuous}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),R("reduce")},className:cn("btn-press p-2 rounded-lg text-sm transition-all cursor-pointer",A==="reduce"?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"),children:c.habitTypeReduce||"Reduce"})]})]}),(A==="multiple"||A==="reduce")&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm text-muted-foreground mb-2 block",children:[c.habitDailyTarget,":"]}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"50",value:I,onChange:Ae=>F(safeParseInt(Ae.target.value,1,1,50)),className:"w-full p-2 bg-background rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-muted-foreground",children:c.reminders||"Reminders"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),Me()},className:"text-xs px-2 py-1 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-colors",children:["+ ",c.addReminder||"Add"]})]}),z.length===0?jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground italic",children:c.noReminders||"No reminders set"}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:z.map((Ae,Ne)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 bg-background rounded-lg",children:[jsxRuntimeExports.jsx("input",{type:"time",value:Ae.time,onChange:He=>st(Ne,"time",He.target.value),className:"flex-1 p-1 bg-secondary rounded text-sm text-foreground focus:outline-none focus:ring-1 focus:ring-primary/30"}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:[{day:1,label:c.mon?.slice(0,2)||"Mo"},{day:2,label:c.tue?.slice(0,2)||"Tu"},{day:3,label:c.wed?.slice(0,2)||"We"},{day:4,label:c.thu?.slice(0,2)||"Th"},{day:5,label:c.fri?.slice(0,2)||"Fr"},{day:6,label:c.sat?.slice(0,2)||"Sa"},{day:0,label:c.sun?.slice(0,2)||"Su"}].map(({day:He,label:Qe})=>jsxRuntimeExports.jsx("button",{type:"button",onClick:Ue=>{Ue.preventDefault();const it=Ae.days.includes(He)?Ae.days.filter(Pe=>Pe!==He):[...Ae.days,He];st(Ne,"days",it)},className:cn("w-6 h-6 text-[10px] rounded transition-colors",Ae.days.includes(He)?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground"),children:Qe},He))}),jsxRuntimeExports.jsx("button",{type:"button",onClick:He=>{He.preventDefault(),at(Ne)},className:"p-2 min-w-[40px] min-h-[40px] flex items-center justify-center text-destructive hover:bg-destructive/10 rounded-lg",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]},Ne))})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),ot()},disabled:!S.trim(),className:"btn-press w-full py-3 zen-gradient text-primary-foreground font-medium rounded-xl disabled:opacity-50 transition-opacity cursor-pointer",children:c.addHabit})]}),r.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/15 rounded-full border border-primary/30 animate-glow-pulse mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:""}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-primary",children:c.startHere||"Start here"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:c.addFirstHabit}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:Ae=>{Ae.preventDefault(),g(!0)},className:"btn-press px-6 py-3 zen-gradient text-white font-bold rounded-xl hover:opacity-90 transition-all zen-shadow-soft cursor-pointer",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 inline-block mr-2"}),c.addHabit]})]}):jsxRuntimeExports.jsx("div",{role:"list","aria-label":c.habits||"Habits",className:"space-y-2",children:r.map(Ae=>jsxRuntimeExports.jsx(CompactHabitCard,{habit:Ae,onToggle:()=>lt(Ae),onAdjust:n,onDelete:o,onChallenge:Ne=>{Se(Ne),K(!0)},streak:Ve.get(Ae.id)||0},Ae.id))}),O&&jsxRuntimeExports.jsx(HabitCompletionCelebration,{habitName:O.habitName,habitIcon:O.habitIcon,habitColor:O.habitColor,xpGained:10,streakDays:O.streakDays,onComplete:()=>V(null)}),G&&jsxRuntimeExports.jsx(AllHabitsComplete,{onClose:()=>_(!1)}),jsxRuntimeExports.jsx(ChallengeModal,{open:W,onOpenChange:K,habit:Ee})]})});let audioUnlocked=!1,unlockPromise=null,globalAudioContext=null,audioUnlockSetup=!1;const SILENT_MP3="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAABhgC7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7//////////////////////////////////////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAAYYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//tQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAABhgC7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7//////////////////////////////////////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAAAAAAAAAAAAYYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA";function getAudioContext$1(){if(!globalAudioContext){const e=window.AudioContext||window.webkitAudioContext;e&&(globalAudioContext=new e)}return globalAudioContext}async function unlockWithOscillator(){try{const e=getAudioContext$1();if(!e)return;e.state==="suspended"&&await e.resume();const r=e.createOscillator(),i=e.createGain();i.gain.value=0,r.connect(i),i.connect(e.destination),r.start(0),r.stop(e.currentTime+.001),logger.log("[AmbientSounds] Oscillator trick completed")}catch{}}async function unlockWithAudioElement(){try{const e=new Audio;e.src=SILENT_MP3,e.volume=.01,e.muted=!0,e.playsInline=!0,e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline","");const r=e.play();r!==void 0&&await r,e.pause(),e.src="",logger.log("[AmbientSounds] Audio element unlock completed")}catch{}}async function unlockAudio(){if(!audioUnlocked)return unlockPromise||(unlockPromise=(async()=>{try{await Promise.all([unlockWithAudioElement(),unlockWithOscillator()]);const e=getAudioContext$1();e&&e.state==="suspended"&&await e.resume(),audioUnlocked=!0,logger.log("[AmbientSounds] Audio fully unlocked for mobile browser")}catch{audioUnlocked=!0}finally{unlockPromise=null}})(),unlockPromise)}let audioUnlockHandler=null,audioUnlockCleanup=null,audioUnlockTimeoutId=null;function setupAudioUnlock(){if(audioUnlockSetup)return;audioUnlockSetup=!0;let e=!1;audioUnlockHandler=async()=>{try{await unlockAudio(),audioUnlocked&&audioUnlockCleanup&&audioUnlockCleanup()}catch{}},audioUnlockCleanup=()=>{e||!audioUnlockHandler||(e=!0,audioUnlockTimeoutId&&(clearTimeout(audioUnlockTimeoutId),audioUnlockTimeoutId=null),document.removeEventListener("touchstart",audioUnlockHandler,!0),document.removeEventListener("touchend",audioUnlockHandler,!0),document.removeEventListener("click",audioUnlockHandler,!0),document.removeEventListener("keydown",audioUnlockHandler,!0),audioUnlockHandler=null)},document.addEventListener("touchstart",audioUnlockHandler,{capture:!0,passive:!0}),document.addEventListener("touchend",audioUnlockHandler,{capture:!0,passive:!0}),document.addEventListener("click",audioUnlockHandler,{capture:!0,passive:!0}),document.addEventListener("keydown",audioUnlockHandler,{capture:!0,passive:!0}),audioUnlockTimeoutId=setTimeout(audioUnlockCleanup,3e4)}const BASE_PATH="/people-first-app/",SOUNDS=[{id:"underwater",type:"underwater",nameRu:" ",nameEn:"Underwater Hum",file:`${BASE_PATH}sounds/mixkit-underwater-transmitter-hum-2135.wav`,description:"Deep underwater ambient sound"},{id:"thunderstorm",type:"thunderstorm",nameRu:"  ",nameEn:"Jungle Thunderstorm",file:`${BASE_PATH}sounds/mixkit-calm-thunderstorm-in-the-jungle-2415.wav`,description:"Thunder and rain in tropical jungle"},{id:"ocean",type:"ocean",nameRu:"  ",nameEn:"Waves on Rocks",file:`${BASE_PATH}sounds/mixkit-small-waves-harbor-rocks-1208.wav`,description:"Small waves hitting harbor rocks"},{id:"river",type:"river",nameRu:"  ",nameEn:"River Wildlife",file:`${BASE_PATH}sounds/mixkit-wildlife-environment-in-a-river-2456.wav`,description:"River sounds with wildlife"},{id:"cafe",type:"cafe",nameRu:" ",nameEn:"Cafe Ambience",file:`${BASE_PATH}sounds/cafe-noise-32940.mp3`,description:"Coffee shop background noise"},{id:"fireplace",type:"fireplace",nameRu:" ",nameEn:"Fireplace Crackling",file:`${BASE_PATH}sounds/fireplace-fx-56636.mp3`,description:"Cozy fireplace crackling"}];function getSoundById(e){return SOUNDS.find(r=>r.id===e)}function getSoundByType(e){if(e!=="none")return SOUNDS.find(r=>r.type===e)}class AmbientSoundGenerator{audioElement=null;isPlaying=!1;currentSoundId=null;volume=.5;isTransitioning=!1;playbackId=0;pendingPlayback=null;async play(r){if(r==="none"){this.stop();return}const i=getSoundById(r);if(!i){logger.error(`[AmbientSounds] Sound not found: ${r}`);return}if(this.currentSoundId===r&&this.isPlaying&&this.audioElement)return;this.pendingPlayback&&(this.pendingPlayback.abortController.abort(),this.pendingPlayback=null);let n=0;for(;this.isTransitioning&&n<20;)await new Promise(l=>setTimeout(l,50)),n++;this.isTransitioning=!0;const a=++this.playbackId,o=new AbortController;this.pendingPlayback={id:a,abortController:o};try{if(this.stopImmediate(),o.signal.aborted){logger.log("[AmbientSounds] Playback aborted before start");return}if(await this.playAudioFile(i.file,a,o.signal),o.signal.aborted||a!==this.playbackId){logger.log("[AmbientSounds] Playback superseded after load"),this.audioElement&&(this.audioElement.pause(),this.audioElement.src="");return}this.currentSoundId=r,this.isPlaying=!0,logger.log(`[AmbientSounds] Playing: ${i.nameEn}`)}catch(l){l instanceof DOMException&&l.name==="AbortError"||a===this.playbackId&&(logger.error("[AmbientSounds] Failed to play:",l),this.isPlaying=!1,this.currentSoundId=null)}finally{this.pendingPlayback?.id===a&&(this.pendingPlayback=null),this.isTransitioning=!1}}async playByType(r){if(r==="none"){this.stop();return}const i=getSoundByType(r);i&&await this.play(i.id)}stopImmediate(){if(this.audioElement){try{this.audioElement.pause(),this.audioElement.oncanplay=null,this.audioElement.oncanplaythrough=null,this.audioElement.onerror=null,this.audioElement.onended=null,this.audioElement.onloadstart=null,this.audioElement.onloadeddata=null,this.audioElement.onloadedmetadata=null,this.audioElement.onpause=null,this.audioElement.onplay=null,this.audioElement.src="",this.audioElement.load()}catch{}this.audioElement=null}this.isPlaying=!1,this.currentSoundId=null}async playAudioFile(r,i,n){if(n.aborted)throw new DOMException("Aborted","AbortError");if(await unlockAudio(),n.aborted)throw new DOMException("Aborted","AbortError");if(i!==this.playbackId)throw new DOMException("Superseded","AbortError");try{const a=getAudioContext$1();a&&a.state==="suspended"&&(await a.resume(),logger.log("[AmbientSounds] AudioContext resumed"))}catch{}if(n.aborted)throw new DOMException("Aborted","AbortError");if(i!==this.playbackId)throw new DOMException("Superseded","AbortError");if(this.audioElement=new Audio,this.audioElement.loop=!0,this.audioElement.volume=this.volume,this.audioElement.preload="auto",this.audioElement.playsInline=!0,this.audioElement.setAttribute("playsinline",""),this.audioElement.setAttribute("webkit-playsinline",""),this.audioElement.webkitPreservesPitch=!0,this.audioElement.src=r,logger.log("[AmbientSounds] Audio element created, volume:",this.volume),await new Promise((a,o)=>{if(!this.audioElement)return o(new Error("No audio element"));let l=null,c=!1;const d=()=>{l!==null&&(clearTimeout(l),l=null),this.audioElement&&(this.audioElement.oncanplaythrough=null,this.audioElement.oncanplay=null,this.audioElement.onerror=null)},p=()=>{c||(c=!0,d(),a())},g=y=>{c||(c=!0,d(),o(y))};n.addEventListener("abort",()=>{g(new DOMException("Aborted during load","AbortError"))},{once:!0}),l=window.setTimeout(()=>{p()},1e4),this.audioElement.oncanplaythrough=()=>{p()},this.audioElement.oncanplay=()=>{p()},this.audioElement.onerror=y=>{const x=this.audioElement,S=x?.error?.code,b=x?.error?.message;logger.error("[AmbientSounds] Audio load error:",{errorCode:S,errorMsg:b,url:r,event:y}),g(new Error(`Failed to load audio: ${r} (code: ${S})`))},this.audioElement.load()}),n.aborted)throw new DOMException("Aborted before play","AbortError");if(i!==this.playbackId)throw this.audioElement&&(this.audioElement.pause(),this.audioElement.src=""),new DOMException("Superseded before play","AbortError");try{await this.audioElement.play()}catch{if(await new Promise(o=>setTimeout(o,100)),n.aborted||i!==this.playbackId)throw new DOMException("Aborted before retry","AbortError");this.audioElement&&await this.audioElement.play()}}stop(){this.pendingPlayback&&(this.pendingPlayback.abortController.abort(),this.pendingPlayback=null),this.playbackId++,this.stopImmediate()}setVolume(r){this.volume=Math.max(0,Math.min(1,r)),this.audioElement&&(this.audioElement.volume=this.volume)}getVolume(){return this.volume}pause(){this.audioElement&&this.audioElement.pause()}async resume(){if(!(!this.audioElement||!this.isPlaying))try{await unlockAudio();const r=getAudioContext$1();r&&r.state==="suspended"&&(await r.resume(),logger.log("[AmbientSounds] AudioContext resumed for playback"));try{await this.audioElement.play()}catch(i){logger.warn("[AmbientSounds] Resume first attempt failed, retrying...",i),await new Promise(n=>setTimeout(n,100)),await this.audioElement.play()}}catch(r){logger.error("[AmbientSounds] Failed to resume audio:",r)}}getCurrentSoundId(){return this.currentSoundId}getIsPlaying(){return this.isPlaying}getAllSounds(){return SOUNDS}destroy(){this.stop()}}let globalSoundGenerator=null;function getAmbientSoundGenerator(){return globalSoundGenerator||(globalSoundGenerator=new AmbientSoundGenerator),globalSoundGenerator}const STORAGE_KEY="zenflow_spotify_tokens",SPOTIFY_CLIENT_ID="";function isSpotifyConnected(){const e=getStoredTokens();return e!==null&&e.expiresAt>Date.now()}function getStoredTokens(){return safeLocalStorageGet(STORAGE_KEY,null)}function storeTokens(e){safeLocalStorageSet(STORAGE_KEY,e)}function disconnectSpotify(){localStorage.removeItem(STORAGE_KEY),sessionStorage.removeItem("spotify_pkce_verifier")}async function connectSpotify(){}async function refreshAccessToken(){const e=getStoredTokens();if(!e?.refreshToken)return!1;try{const r=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:SPOTIFY_CLIENT_ID,grant_type:"refresh_token",refresh_token:e.refreshToken})});if(!r.ok)throw new Error("Token refresh failed");const i=await r.json();return storeTokens({accessToken:i.access_token,refreshToken:i.refresh_token||e.refreshToken,expiresAt:Date.now()+i.expires_in*1e3}),logger.log("[Spotify] Token refreshed"),!0}catch(r){return logger.error("[Spotify] Refresh error:",r),disconnectSpotify(),!1}}async function getAccessToken(){const e=getStoredTokens();return e?e.expiresAt<Date.now()+5*60*1e3?await refreshAccessToken()&&getStoredTokens()?.accessToken||null:e.accessToken:null}async function getCurrentTrack(){const e=await getAccessToken();if(!e)return null;try{const r=await fetch("https://api.spotify.com/v1/me/player/currently-playing",{headers:{Authorization:`Bearer ${e}`}});if(r.status===204)return null;if(!r.ok)throw new Error("Failed to get current track");const i=await r.json();return i.item?{name:i.item.name,artist:i.item.artists.map(n=>n.name).join(", "),albumArt:i.item.album.images?.[0]?.url,isPlaying:i.is_playing,durationMs:i.item.duration_ms,progressMs:i.progress_ms}:null}catch(r){return logger.error("[Spotify] Get current track error:",r),null}}async function play(e){const r=await getAccessToken();if(!r)return!1;try{const i=e?JSON.stringify({context_uri:e}):void 0,n=await fetch("https://api.spotify.com/v1/me/player/play",{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:i});if(n.status===204||n.ok)return logger.log("[Spotify] Playback started"),!0;if(n.status===404)return logger.warn("[Spotify] No active device found"),!1;throw new Error(`Playback failed: ${n.status}`)}catch(i){return logger.error("[Spotify] Play error:",i),!1}}async function pause(){const e=await getAccessToken();if(!e)return!1;try{const r=await fetch("https://api.spotify.com/v1/me/player/pause",{method:"PUT",headers:{Authorization:`Bearer ${e}`}});if(r.status===204||r.ok)return logger.log("[Spotify] Playback paused"),!0;throw new Error(`Pause failed: ${r.status}`)}catch(r){return logger.error("[Spotify] Pause error:",r),!1}}async function playPlaylist(e){return play(`spotify:playlist:${e}`)}async function startFocusPlayback(e){return isSpotifyConnected()?e?playPlaylist(e):play():!1}async function stopFocusPlayback(){return isSpotifyConnected()?pause():!1}function HyperfocusMode({duration:e,onComplete:r,onExit:i}){const{t:n,language:a}=useLanguage(),[o,l]=reactExports.useState(e*60),[c,d]=reactExports.useState(!1),[p,g]=reactExports.useState(!1),[y,x]=reactExports.useState(null),[S,b]=reactExports.useState(!1),[T,N]=reactExports.useState(!1),k=reactExports.useRef(getAmbientSoundGenerator()),[C,A]=reactExports.useState(isSpotifyConnected()),[R,I]=reactExports.useState(null),[F,z]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!c||p)return;const H=setInterval(()=>{l(G=>G<=1?(clearInterval(H),r(),0):G-1)},1e3);return()=>clearInterval(H)},[c,p,r]),reactExports.useEffect(()=>{if(!c||p)return;const H=e*60-o;H>0&&H%(25*60)===0&&(N(!0),g(!0),setTimeout(()=>{N(!1),g(!1)},3e4))},[o,e,c,p]),reactExports.useEffect(()=>()=>{k.current&&k.current.stop()},[]),reactExports.useEffect(()=>{!C||!F||(c&&!p?startFocusPlayback():stopFocusPlayback())},[c,p,C,F]),reactExports.useEffect(()=>{if(!C)return;const H=async()=>{const _=await getCurrentTrack();I(_)};H();const G=setInterval(H,5e3);return()=>clearInterval(G)},[C]);const B=()=>{connectSpotify()},Z=reactExports.useCallback(async H=>{const G=k.current;if(!(!G||!H))try{await unlockAudio(),await G.play(H),b(!0),logger.log("[HyperfocusMode] Sound playing:",H)}catch(_){logger.error("[HyperfocusMode] Failed to play sound:",_),b(!1)}},[]);reactExports.useEffect(()=>{const H=k.current;if(H){if(!y){H.stop(),b(!1);return}Z(y),(!c||p)&&H.pause()}},[y,c,p]);const re=H=>{const G=Math.floor(H/60),_=H%60;return`${G.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`},U=(e*60-o)/(e*60)*100,q=async()=>{try{await unlockAudio()}catch{}d(!0),g(!1)},Y=async()=>{const H=!p;g(H);const G=k.current;G&&y&&(H?G.pause():await Z(y))},fe=async()=>{const H=k.current;H&&(S?(H.pause(),b(!1)):y&&await Z(y))},Q=async H=>{try{await unlockAudio()}catch{}x(H),H&&c&&!p?await Z(H):H||(k.current?.stop(),b(!1))};return reactExports.useEffect(()=>{const H=window.scrollY,G={overflow:document.body.style.overflow,position:document.body.style.position,width:document.body.style.width,top:document.body.style.top};return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${H}px`,()=>{document.body.style.overflow=G.overflow,document.body.style.position=G.position,document.body.style.width=G.width,document.body.style.top=G.top,window.scrollTo(0,H)}},[]),jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black z-[100] flex items-center justify-center overflow-hidden touch-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 zen-gradient-calm opacity-20 pointer-events-none"}),T&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex items-center justify-center z-10 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"breathing-circle zen-gradient rounded-full opacity-40"}),jsxRuntimeExports.jsxs("div",{className:"absolute text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-4xl font-bold text-white mb-4",children:n.hyperfocusBreathe||"..."}),jsxRuntimeExports.jsx("p",{className:"text-xl text-white/70",children:n.hyperfocusBreathDesc||" 4    4 "})]})]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"fixed top-4 right-4 z-[110] p-3 min-w-[48px] min-h-[48px] bg-white/10 hover:bg-white/20 rounded-xl transition-all text-white flex items-center justify-center active:scale-95",style:{top:"max(1rem, env(safe-area-inset-top, 1rem))",right:"max(1rem, env(safe-area-inset-right, 1rem))"},"aria-label":"Close",children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"relative z-20 text-center px-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-64 h-64 mx-auto mb-8",children:[jsxRuntimeExports.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[jsxRuntimeExports.jsx("circle",{cx:"128",cy:"128",r:"120",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),jsxRuntimeExports.jsx("circle",{cx:"128",cy:"128",r:"120",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*120}`,strokeDashoffset:`${2*Math.PI*120*(1-U/100)}`,className:"transition-all duration-1000 ease-linear"}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#EC4899"})]})})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl font-bold text-white mb-2",children:re(o)}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white/60",children:n.hyperfocusTimeLeft||""})]})})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-white/80 mb-2",children:p?n.hyperfocusPaused||"":c?n.hyperfocusFocusing||"  ...":n.hyperfocusReady||"  ?"}),p&&jsxRuntimeExports.jsx("p",{className:"text-sm text-white/60",children:n.hyperfocusPauseMsg||" Play,  "})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[c?jsxRuntimeExports.jsx("button",{onClick:Y,className:"btn-press px-8 py-4 min-h-[56px] bg-white/10 hover:bg-white/20 rounded-2xl text-white font-bold text-lg flex items-center gap-3 transition-all zen-shadow-xl active:scale-95",children:p?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Play,{className:"w-6 h-6"}),n.hyperfocusResume||""]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Pause,{className:"w-6 h-6"}),n.hyperfocusPause||""]})}):jsxRuntimeExports.jsxs("button",{onClick:q,className:"btn-press px-8 py-4 min-h-[56px] zen-gradient rounded-2xl text-white font-bold text-lg flex items-center gap-3 hover:opacity-90 transition-opacity zen-shadow-xl active:scale-95",children:[jsxRuntimeExports.jsx(Play,{className:"w-6 h-6"}),n.hyperfocusStart||""]}),jsxRuntimeExports.jsx("button",{onClick:i,className:"btn-press px-6 py-4 min-h-[56px] bg-red-500/20 hover:bg-red-500/30 rounded-2xl text-white font-medium transition-all active:scale-95",children:n.hyperfocusExit||""})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:n.hyperfocusAmbientSound||" "}),y&&jsxRuntimeExports.jsx("button",{onClick:fe,className:"p-2.5 min-w-[44px] min-h-[44px] bg-white/10 hover:bg-white/20 rounded-lg transition-colors flex items-center justify-center active:scale-95",children:S?jsxRuntimeExports.jsx(Volume2,{className:"w-5 h-5 text-white"}):jsxRuntimeExports.jsx(VolumeX,{className:"w-5 h-5 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Q(null),className:cn("btn-press px-2 py-3 min-h-[48px] rounded-xl text-xs font-medium transition-all active:scale-95",y?"bg-white/10 text-white hover:bg-white/20":"bg-primary text-primary-foreground zen-shadow"),children:[" ",n.hyperfocusSoundNone||" "]}),SOUNDS.map(H=>jsxRuntimeExports.jsxs("button",{onClick:()=>Q(H.id),className:cn("btn-press px-2 py-3 min-h-[48px] rounded-xl text-xs font-medium transition-all active:scale-95",y===H.id?"bg-primary text-primary-foreground zen-shadow":"bg-white/10 text-white hover:bg-white/20"),children:[H.id==="underwater"&&"",H.id==="thunderstorm"&&"",H.id==="ocean"&&"",H.id==="river"&&"",H.id==="cafe"&&"",H.id==="fireplace"&&""," ",a==="ru"||a==="uk"?H.nameRu:H.nameEn]},H.id))]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Music,{className:"w-4 h-4 text-green-400"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:"Spotify"})]}),C&&jsxRuntimeExports.jsx("button",{onClick:()=>z(!F),className:cn("px-3 py-1.5 rounded-lg text-xs font-medium transition-all",F?"bg-green-500/20 text-green-400":"bg-white/10 text-white/60"),children:F?"Auto-play ON":"Auto-play OFF"})]}),C?R?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl",children:[R.albumArt&&jsxRuntimeExports.jsx("img",{src:R.albumArt,alt:"Album",className:"w-12 h-12 rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-white font-medium truncate",children:R.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white/60 truncate",children:R.artist})]}),R.isPlaying&&jsxRuntimeExports.jsxs("div",{className:"flex gap-0.5",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-4 bg-green-400 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-4 bg-green-400 rounded-full animate-pulse delay-75"}),jsxRuntimeExports.jsx("div",{className:"w-1 h-4 bg-green-400 rounded-full animate-pulse delay-150"})]})]}):jsxRuntimeExports.jsx("p",{className:"text-xs text-white/40 text-center py-2",children:n.spotifyNoTrack||" Spotify   "}):jsxRuntimeExports.jsxs("button",{onClick:B,className:"w-full py-3 bg-[#1DB954]/20 hover:bg-[#1DB954]/30 rounded-xl text-[#1DB954] font-medium flex items-center justify-center gap-2 transition-all active:scale-95",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"}),n.spotifyConnect||" Spotify"]})]})]}),!c&&jsxRuntimeExports.jsx("div",{className:"mt-8 max-w-sm mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-white/60 mb-2",children:[" ",n.hyperfocusTip||""]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/80",children:n.hyperfocusTipText||" 25     .    !"})]})})]}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes breathing {
          0%, 100% {
            transform: scale(1);
            opacity: 0.3;
          }
          50% {
            transform: scale(1.5);
            opacity: 0.6;
          }
        }

        .breathing-circle {
          width: 150px;
          height: 150px;
          animation: breathing 8s ease-in-out infinite;
        }

        @media (min-width: 360px) {
          .breathing-circle {
            width: 200px;
            height: 200px;
          }
        }
      `})]})}const DEFAULT_FOCUS_MINUTES=25,DEFAULT_BREAK_MINUTES=5,TIMER_STORAGE_KEY="zenflow-timer-state";function loadTimerState(){const e=localStorage.getItem(TIMER_STORAGE_KEY);return e?safeJsonParse(e,null):null}const FocusTimer=reactExports.memo(function({sessions:r,onCompleteSession:i,onMinuteUpdate:n,isPrimaryCTA:a=!1}){const{t:o}=useLanguage(),[l,c]=reactExports.useState(!1),d=reactExports.useRef(null);d.current===null&&(d.current=loadTimerState());const p=d.current,[g,y]=reactExports.useState(p?.preset||"25"),[x,S]=reactExports.useState(p?.focusMinutes||DEFAULT_FOCUS_MINUTES),[b,T]=reactExports.useState(p?.breakMinutes||DEFAULT_BREAK_MINUTES),[N,k]=reactExports.useState(p?.focusMinutes||30),[C,A]=reactExports.useState(p?.breakMinutes||5),[R,I]=reactExports.useState(String(x)),[F,z]=reactExports.useState(String(b)),[B,Z]=reactExports.useState(DEFAULT_FOCUS_MINUTES*60),[re,U]=reactExports.useState(p?.isRunning||!1),[q,Y]=reactExports.useState(p?.isBreak||!1),[fe,Q]=reactExports.useState(p?.label||""),[H,G]=reactExports.useState(0),[_,O]=reactExports.useState(!1),[V,W]=reactExports.useState(null),[K,Ee]=reactExports.useState(null),Se=reactExports.useRef(null),Ce=reactExports.useRef(null),De=reactExports.useRef(0),Fe=reactExports.useRef(p?.endTime||null),qe=reactExports.useRef(p?.focusStartTime||null),Je=reactExports.useRef(p?.focusAccumulated||0),et=reactExports.useRef(0),Ke=()=>{const Pe={endTime:Fe.current,focusMinutes:x,breakMinutes:b,isRunning:re,isBreak:q,label:fe,focusStartTime:qe.current,focusAccumulated:Je.current,preset:g};try{localStorage.setItem(TIMER_STORAGE_KEY,JSON.stringify(Pe))}catch(ze){logger.error("Failed to save timer state:",ze)}},Ve=r.filter(Pe=>Pe.date===getToday$1()&&Pe.status!=="aborted").reduce((Pe,ze)=>Pe+ze.duration,0),at=Ve+(()=>{if(!re||q)return 0;const Pe=qe.current?Date.now()-qe.current:0,ze=Je.current+Pe;return Math.floor(ze/6e4)})(),st=x*60,ot=b*60,lt=reactExports.useRef(st),Ae=reactExports.useMemo(()=>[{key:"25",label:o.focusPreset25,focus:25,break:5},{key:"50",label:o.focusPreset50,focus:50,break:10},{key:"custom",label:o.focusPresetCustom,focus:x,break:b}],[o,x,b]);reactExports.useEffect(()=>{!re&&!q&&st!==lt.current&&Z(st),lt.current=st},[st,re,q]),reactExports.useEffect(()=>(Ce.current&&clearTimeout(Ce.current),Ce.current=setTimeout(()=>{Ke()},100),()=>{Ce.current&&clearTimeout(Ce.current)}),[re,q,x,b,fe,g]),reactExports.useEffect(()=>{const Pe=loadTimerState();if(Pe&&Pe.endTime&&Pe.isRunning){const ze=Date.now();if(Pe.endTime>ze){const Ye=Math.ceil((Pe.endTime-ze)/1e3);Z(Ye)}else localStorage.removeItem(TIMER_STORAGE_KEY)}},[]),reactExports.useEffect(()=>{if(!re){Se.current&&clearInterval(Se.current),Ke();return}return Se.current=setInterval(()=>{if(!Fe.current)return;const Pe=Date.now(),ze=Math.max(0,Math.ceil((Fe.current-Pe)/1e3));if(Z(ze),!q){const Ye=qe.current?Pe-qe.current:0,Tt=Je.current+Ye,At=Math.floor(Tt/6e4);G(Math.floor(Tt/1e3)),At!==et.current&&(et.current=At,n&&n(At))}if(ze===0){if(Se.current&&clearInterval(Se.current),Fe.current=null,q)U(!1),Y(!1),Z(st);else{const Ye={id:generateId$1(),duration:x,completedAt:Date.now(),date:getToday$1(),label:fe.trim()||void 0,status:"completed"};Ee(Ye),O(!0),qe.current=null,Je.current=0,G(0),U(!1),Y(!0),Z(ot),et.current=0,n&&n(0)}localStorage.removeItem(TIMER_STORAGE_KEY)}De.current++,De.current>=10&&(De.current=0,Ke())},500),()=>{Se.current&&clearInterval(Se.current)}},[re,q,x,st,ot,fe,Ve,n]);const Ne=()=>{if(re){if(Fe.current){const Pe=Math.max(0,Math.ceil((Fe.current-Date.now())/1e3));Z(Pe)}Fe.current=null,!q&&qe.current&&(Je.current+=Date.now()-qe.current,qe.current=null,G(Math.floor(Je.current/1e3))),U(!1),haptics.focusPaused();return}B<=0&&Z(q?ot:st),Fe.current=Date.now()+(B>0?B:q?ot:st)*1e3,q||(qe.current=Date.now(),haptics.focusStarted()),U(!0)},He=()=>{if(re&&!q){const Pe=qe.current?Date.now()-qe.current:0,ze=Je.current+Pe,Ye=Math.max(1,Math.round(ze/6e4)),Tt={id:generateId$1(),duration:Ye,completedAt:Date.now(),date:getToday$1(),label:fe.trim()||void 0,status:"aborted"};i(Tt)}Fe.current=null,qe.current=null,Je.current=0,et.current=0,U(!1),Y(!1),Z(st),G(0),localStorage.removeItem(TIMER_STORAGE_KEY),Ke()},Qe=Pe=>{g==="custom"&&Pe!=="custom"&&(k(x),A(b)),y(Pe),Pe==="25"?(S(25),T(5),I("25"),z("5")):Pe==="50"?(S(50),T(10),I("50"),z("10")):Pe==="custom"&&(S(N),T(C),I(String(N)),z(String(C)))},Ue=Pe=>{K&&i({...K,reflection:Pe??void 0}),Ee(null),O(!1),W(null)},it=q?(ot-B)/ot*100:(st-B)/st*100;return jsxRuntimeExports.jsxs("div",{className:cn("rounded-2xl p-6 animate-fade-in transition-all relative overflow-hidden",a?"bg-gradient-to-br from-violet-500/15 via-card to-purple-500/15 ring-2 ring-violet-500/40 shadow-lg shadow-violet-500/20":"bg-card zen-shadow-card"),children:[a&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/5 via-transparent to-purple-500/5 animate-pulse pointer-events-none"}),a&&jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center gap-2 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-violet-500/25 rounded-full border border-violet-500/30",children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4 text-violet-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-violet-600 dark:text-violet-400",children:o.startHere})]})}),jsxRuntimeExports.jsxs("div",{className:"mb-4 space-y-3 relative",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-muted-foreground",children:o.focusLabelPrompt}),jsxRuntimeExports.jsx("input",{type:"text",value:fe,onChange:Pe=>Q(Pe.target.value),placeholder:o.focusLabelPlaceholder,className:"w-full p-3 bg-secondary rounded-xl text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:Ae.map(Pe=>jsxRuntimeExports.jsx("button",{onClick:()=>Qe(Pe.key),className:cn("px-3 py-2 rounded-lg text-xs font-medium transition-colors",g===Pe.key?"bg-primary/10 ring-2 ring-primary text-foreground":"bg-secondary text-muted-foreground hover:bg-muted"),children:Pe.label},Pe.key))}),g==="custom"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground",children:o.focusCustomWork}),jsxRuntimeExports.jsx("input",{type:"number",min:5,max:120,value:R,onChange:Pe=>I(Pe.target.value),onBlur:Pe=>{const ze=safeParseInt(Pe.target.value,25,5,120);S(ze),k(ze),I(String(ze))},className:"w-full p-2 bg-secondary rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-muted-foreground",children:o.focusCustomBreak}),jsxRuntimeExports.jsx("input",{type:"number",min:1,max:60,value:F,onChange:Pe=>z(Pe.target.value),onBlur:Pe=>{const ze=safeParseInt(Pe.target.value,5,1,60);T(ze),A(ze),z(String(ze))},className:"w-full p-2 bg-secondary rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-primary/30"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:q?o.breakTime:o.focus}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx(Coffee,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[at," ",o.todayMinutes]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-6",children:[jsxRuntimeExports.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 100 100",children:[jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"hsl(var(--secondary))",strokeWidth:"8"}),jsxRuntimeExports.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:q?"hsl(var(--accent))":"hsl(var(--primary))",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*45}`,strokeDashoffset:`${2*Math.PI*45*(1-it/100)}`,className:"transition-all duration-1000"})]}),jsxRuntimeExports.jsxs("div",{role:"timer","aria-label":q?o.takeRest||"Break time":o.concentrate||"Focus time",className:"absolute inset-0 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("span",{"aria-live":"polite","aria-atomic":"true",className:cn("text-4xl font-bold",q?"text-accent":"text-primary"),children:formatTime(B)}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground mt-1","aria-hidden":"true",children:q?o.takeRest:o.concentrate})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:Ne,"aria-label":re?o.pause||"Pause timer":o.start||"Start timer",className:cn("p-4 min-w-[56px] min-h-[56px] rounded-full transition-all zen-shadow-soft active:scale-95","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",q?"zen-gradient-warm":"zen-gradient","text-primary-foreground hover:opacity-90"),children:re?jsxRuntimeExports.jsx(Pause,{className:"w-6 h-6","aria-hidden":"true"}):jsxRuntimeExports.jsx(Play,{className:"w-6 h-6","aria-hidden":"true"})}),jsxRuntimeExports.jsx("button",{onClick:He,"aria-label":o.resetTimer,className:"p-4 min-w-[56px] min-h-[56px] rounded-full bg-secondary text-secondary-foreground hover:bg-muted transition-colors active:scale-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-6 h-6","aria-hidden":"true"})})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>c(!0),disabled:re,className:cn("w-full py-3 min-h-[48px] rounded-xl font-medium transition-all flex items-center justify-center gap-2 active:scale-[0.98]",re?"bg-muted text-muted-foreground cursor-not-allowed":"zen-gradient-calm text-primary-foreground hover:opacity-90 zen-shadow"),children:[jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5"}),o.hyperfocusMode]}),_&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center px-4 z-[60]",onClick:Pe=>{Pe.target===Pe.currentTarget&&Ue(null)},children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-sm bg-card rounded-2xl p-6 zen-shadow-card relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ue(null),className:"absolute top-3 right-3 p-2 rounded-lg bg-muted/50 hover:bg-muted text-muted-foreground hover:text-foreground transition-colors","aria-label":o.close,children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold text-foreground pr-10",children:o.focusReflectionTitle}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.focusReflectionQuestion}),jsxRuntimeExports.jsx("div",{className:"flex justify-between mt-4",children:[1,2,3,4,5].map(Pe=>jsxRuntimeExports.jsx("button",{onClick:()=>W(Pe),className:cn("w-10 h-10 rounded-full text-sm font-semibold",V===Pe?"bg-primary text-primary-foreground":"bg-secondary text-muted-foreground hover:bg-muted"),children:Pe},Pe))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-5",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ue(null),className:"flex-1 py-2 bg-secondary text-secondary-foreground rounded-lg font-medium hover:bg-muted transition-colors",children:o.focusReflectionSkip}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue(V),className:"flex-1 py-2 zen-gradient text-primary-foreground rounded-lg font-medium hover:opacity-90 transition-opacity",children:o.focusReflectionSave})]})]})}),l&&jsxRuntimeExports.jsx(HyperfocusMode,{duration:x,onComplete:()=>{c(!1);const Pe={id:generateId$1(),duration:x,completedAt:Date.now(),date:getToday$1(),label:fe.trim()||void 0,status:"completed"};i(Pe)},onExit:()=>c(!1)})]})}),languages=["en","ru","uk","es","de","fr"];function LanguageSelector({onComplete:e}){const{language:r,setLanguage:i,t:n}=useLanguage(),a=c=>{i(c)},o=()=>{e()},l=()=>{e()};return jsxRuntimeExports.jsx("div",{className:"min-h-screen zen-gradient-hero flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-3 zen-gradient rounded-2xl zen-shadow-glow",children:jsxRuntimeExports.jsx(Leaf,{className:"w-8 h-8 text-primary-foreground"})})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold zen-text-gradient mb-2",children:n.welcomeTitle}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:n.welcomeSubtitle})]}),jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-2xl p-6 zen-shadow-card mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4 text-center",children:n.selectLanguage}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:languages.map(c=>jsxRuntimeExports.jsxs("button",{onClick:()=>a(c),className:cn("flex items-center gap-3 p-4 rounded-xl transition-all",r===c?"bg-primary/10 ring-2 ring-primary zen-shadow-soft":"bg-secondary hover:bg-muted"),children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:languageFlags[c]}),jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground flex-1 text-left",children:languageNames[c]}),r===c&&jsxRuntimeExports.jsx(Check,{className:"w-5 h-5 text-primary"})]},c))})]}),jsxRuntimeExports.jsx("button",{onClick:o,className:"w-full py-4 zen-gradient text-primary-foreground font-semibold rounded-2xl hover:opacity-90 transition-opacity zen-shadow-soft text-lg mb-3",children:n.continue}),jsxRuntimeExports.jsx("button",{onClick:l,className:"w-full py-3 bg-secondary text-secondary-foreground font-medium rounded-2xl hover:bg-muted transition-colors",children:n.skip||"Skip"}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:r==="en"?" Auto-detected: English":r==="ru"?" : ":r==="uk"?" : ":r==="es"?" Auto-detectado: Espaol":r==="de"?" Automatisch erkannt: Deutsch":r==="fr"?" Dtection automatique: Franais":" Auto-detected language"})]})})}function usePwaInstall(){const[e,r]=reactExports.useState(null),[i,n]=reactExports.useState(!1);reactExports.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){n(!0);return}const l=d=>{d.preventDefault(),r(d)},c=()=>{n(!0),r(null)};return window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",c),()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",c)}},[]);const a=e!==null&&!i,o=reactExports.useCallback(async()=>{if(!e)return!1;try{await e.prompt();const{outcome:l}=await e.userChoice;if(l==="accepted")return n(!0),r(null),!0}catch(l){logger.error("Error prompting install:",l)}return!1},[e]);return{canInstall:a,isInstalled:i,promptInstall:o}}function InstallBanner(){const{t:e}=useLanguage(),{canInstall:r,promptInstall:i}=usePwaInstall(),[n,a]=reactExports.useState(!1);return!r||n?null:jsxRuntimeExports.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-primary/10 to-accent/10 rounded-2xl border border-primary/20 animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 zen-gradient rounded-xl",children:jsxRuntimeExports.jsx(Download,{className:"w-5 h-5 text-primary-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:e.installApp||"Install App"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.installDescription||"Add to home screen for quick access"}),jsxRuntimeExports.jsx("button",{onClick:i,className:"mt-3 px-4 py-2 zen-gradient text-primary-foreground text-sm font-medium rounded-xl hover:opacity-90 transition-opacity",children:e.install||"Install"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>a(!0),className:"p-2 min-w-[40px] min-h-[40px] flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]})})}function RemindersPanel({reminders:e,onUpdateReminders:r,habits:i}){const{t:n}=useLanguage(),[a,o]=reactExports.useState(!1);return e.enabled?jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-2xl p-4 zen-shadow-card animate-fade-in",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o(!a),"aria-expanded":a,className:"w-full flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 zen-gradient rounded-xl",children:jsxRuntimeExports.jsx(Bell,{className:"w-4 h-4 text-primary-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground text-sm",children:n.remindersTitle||"Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:n.remindersActive||"Active"})]})]}),a?jsxRuntimeExports.jsx(ChevronUp,{className:"w-5 h-5 text-muted-foreground"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-muted-foreground"})]}),a&&jsxRuntimeExports.jsxs("div",{className:"mt-4 pt-4 border-t border-border space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-foreground",children:[n.moodReminder||"Mood"," "]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pl-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:n.morning||"Morning"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:e.moodTimeMorning||"09:00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pl-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:n.afternoon||"Afternoon"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:e.moodTimeAfternoon||"14:00"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pl-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:n.evening||"Evening"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:e.moodTimeEvening||"20:00"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-foreground",children:[n.habitReminder||"Habits"," "]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:e.habitTime})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-foreground",children:[n.focusReminder||"Focus"," "]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:e.focusTime})]})]})]}):null}function FloatingParticles(){return jsxRuntimeExports.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:20}).map((e,r)=>jsxRuntimeExports.jsx("div",{className:"absolute w-2 h-2 rounded-full animate-float-particle opacity-30",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,backgroundColor:["#4a9d7c","#e8a849","#6366f1","#ec4899","#22c55e"][r%5],animationDelay:`${Math.random()*5}s`,animationDuration:`${8+Math.random()*4}s`}},r))})}function SelectionBurst({show:e}){return e?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:8}).map((r,i)=>jsxRuntimeExports.jsx("div",{className:"absolute left-1/2 top-1/2 w-1.5 h-1.5 rounded-full animate-selection-burst",style:{backgroundColor:["#FFD700","#FF6B6B","#4ECDC4","#9B59B6"][i%4],"--burst-angle":`${i*45}deg`}},i))}):null}function OnboardingFlow({onComplete:e}){const{t:r,language:i}=useLanguage(),[n,a]=reactExports.useState(1),[o,l]=reactExports.useState(null),[c,d]=reactExports.useState([]),[p,g]=reactExports.useState(!0),[y,x]=reactExports.useState("morning"),[S,b]=reactExports.useState(!1),[T,N]=reactExports.useState(null),[k,C]=reactExports.useState(!1),A=getEmotionTranslations(i),R=EMOTION_ORDER.map(U=>({type:U,label:A[U],gradient:EMOTION_GRADIENTS[U].replace("/80","")})),I=U=>{l(U),b(!0),setTimeout(()=>b(!1),500)},F=U=>{N(U),setTimeout(()=>N(null),400),d(q=>q.includes(U)?q.filter(Y=>Y!==U):[...q,U])},z=()=>{e({skipped:!0,mood:null,habits:[],enableReminders:!1,reminderTime:"morning"})},B=()=>{if(n<3)C(!0),setTimeout(()=>{a(n+1),C(!1)},300);else{const U=c.map(Y=>{const fe=habitTemplates.find(Q=>Q.id===Y);return{id:fe.id,name:fe.names[i],icon:fe.icon,color:fe.color}}),q=o?emotionToMoodType(o,"moderate"):null;e({mood:q,emotion:o?{primary:o,intensity:"moderate"}:void 0,habits:U,enableReminders:p,reminderTime:y})}},Z=[{icon:Heart,label:r.onboardingMoodTitle||"Mood"},{icon:Target,label:r.onboardingHabitsTitle||"Habits"},{icon:Bell,label:r.onboardingRemindersTitle||"Reminders"}],re=n-1;return jsxRuntimeExports.jsxs("div",{className:"screen-overlay bg-gradient-to-br from-background via-primary/5 to-accent/5 overflow-hidden",children:[jsxRuntimeExports.jsx(FloatingParticles,{}),jsxRuntimeExports.jsx("div",{className:"screen-centered px-3 sm:px-4",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-md relative z-10",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex gap-1.5 sm:gap-2 mb-4 sm:mb-8",children:[0,1,2].map(U=>jsxRuntimeExports.jsx("div",{className:"h-1.5 sm:h-2 flex-1 rounded-full bg-secondary/50 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:cn("h-full rounded-full transition-all duration-500 ease-out",U<re?"w-full bg-gradient-to-r from-primary to-accent":U===re?"w-full bg-gradient-to-r from-primary to-accent animate-pulse":"w-0")})},U))}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-6 sm:gap-8 mb-4 sm:mb-6",children:Z.map((U,q)=>{const Y=U.icon,fe=q===re,Q=q<re;return jsxRuntimeExports.jsx("div",{className:cn("flex flex-col items-center gap-1 transition-all duration-300",fe?"scale-110":"scale-90 opacity-50"),children:jsxRuntimeExports.jsx("div",{className:cn("w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-all duration-300",fe?"bg-gradient-to-br from-primary to-accent shadow-lg shadow-primary/30":Q?"bg-primary":"bg-secondary"),children:Q?jsxRuntimeExports.jsx(Check,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"}):jsxRuntimeExports.jsx(Y,{className:cn("w-5 h-5 sm:w-6 sm:h-6",fe?"text-white":"text-muted-foreground")})})},q)})}),jsxRuntimeExports.jsxs("div",{className:cn("bg-card/95 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-4 sm:p-6 shadow-2xl shadow-primary/10 border border-primary/10 transition-all duration-300",k?"opacity-0 translate-x-8":"opacity-100 translate-x-0"),children:[n===1&&jsxRuntimeExports.jsxs("div",{className:"animate-slide-up",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),jsxRuntimeExports.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground",children:A.whatDoYouFeel||r.onboardingMoodTitle||"How are you feeling?"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-xs sm:text-sm",children:A.selectEmotion||r.onboardingMoodDescription||"Track your emotions daily"}),jsxRuntimeExports.jsxs("div",{className:"relative w-full aspect-square max-w-[280px] sm:max-w-[320px] mx-auto mb-4",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(Heart,{className:"w-6 h-6 text-primary/50"})}),R.map((U,q)=>{const Y=(q*45-90)*(Math.PI/180),fe=100,Q=Math.cos(Y)*fe,H=Math.sin(Y)*fe;return jsxRuntimeExports.jsxs("button",{onClick:()=>I(U.type),className:cn("absolute top-1/2 left-1/2 p-1.5 sm:p-2 rounded-2xl flex flex-col items-center gap-0.5 transition-all duration-300",o===U.type?`bg-gradient-to-br ${U.gradient} shadow-lg scale-110 z-10`:"bg-secondary/60 hover:bg-secondary hover:scale-105"),style:{transform:`translate(calc(-50% + ${Q}px), calc(-50% + ${H}px))`,animationDelay:`${q*50}ms`},children:[jsxRuntimeExports.jsx(AnimatedEmotionEmoji,{emotion:U.type,size:"md",isSelected:o===U.type}),jsxRuntimeExports.jsx("span",{className:cn("text-[9px] sm:text-[10px] font-medium transition-colors whitespace-nowrap",o===U.type?"text-white":"text-muted-foreground"),children:U.label}),o===U.type&&jsxRuntimeExports.jsx(SelectionBurst,{show:S})]},U.type)})]}),o&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 bg-primary/10 rounded-xl animate-fade-in",children:[jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-primary",children:r.greatChoice||"Great choice!"})]})]}),n===2&&jsxRuntimeExports.jsxs("div",{className:"animate-slide-up",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Target,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),jsxRuntimeExports.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground",children:r.onboardingHabitsTitle||"Create your first habits"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-3 sm:mb-4 text-xs sm:text-sm",children:r.onboardingHabitsDescription||"Start with small steps"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-[340px] overflow-y-auto pr-1",children:habitTemplates.map((U,q)=>{const Y=c.includes(U.id),fe=T===U.id;return jsxRuntimeExports.jsxs("button",{onClick:()=>F(U.id),className:cn("relative p-3 rounded-xl flex items-center gap-2 transition-all duration-200 text-left overflow-hidden",Y?"bg-primary/15 ring-2 ring-primary":"bg-secondary/50 hover:bg-secondary",fe&&"animate-selection-pop"),style:{animationDelay:`${q*50}ms`},children:[jsxRuntimeExports.jsx("span",{className:cn("text-xl transition-transform",Y&&"scale-110"),children:U.icon}),jsxRuntimeExports.jsx("span",{className:cn("text-xs font-medium flex-1",Y?"text-primary":"text-foreground"),children:U.names[i]}),Y&&jsxRuntimeExports.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center animate-check-pop",children:jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white"})})]},U.id)})}),c.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-3 flex items-center justify-center gap-2 py-2 bg-primary/10 rounded-xl animate-fade-in",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-primary",children:[c.length," ",r.habitsSelected||"habits selected"]})})]}),n===3&&jsxRuntimeExports.jsxs("div",{className:"animate-slide-up",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Bell,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),jsxRuntimeExports.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground",children:r.onboardingRemindersTitle||"Reminders"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4 sm:mb-6 text-xs sm:text-sm",children:r.onboardingRemindersDescription||"Get habit reminders"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>g(!p),className:cn("w-full p-4 rounded-xl flex items-center justify-between transition-all",p?"bg-primary/10 ring-2 ring-primary":"bg-secondary/50"),children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:r.enableReminders||"Enable reminders"}),jsxRuntimeExports.jsx("div",{className:cn("w-14 h-7 rounded-full transition-colors relative",p?"bg-primary":"bg-muted"),children:jsxRuntimeExports.jsx("div",{className:cn("absolute top-1 w-5 h-5 rounded-full bg-white shadow-md transition-all",p?"right-1":"left-1")})})]}),p&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3 animate-slide-up",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>x("morning"),className:cn("p-4 rounded-xl text-center transition-all",y==="morning"?"bg-gradient-to-br from-amber-400 to-orange-400 shadow-lg":"bg-secondary/50 hover:bg-secondary"),children:[jsxRuntimeExports.jsx("span",{className:"text-3xl",children:""}),jsxRuntimeExports.jsx("p",{className:cn("text-sm font-medium mt-2",y==="morning"?"text-white":"text-foreground"),children:r.morning||"Morning"}),jsxRuntimeExports.jsx("p",{className:cn("text-xs",y==="morning"?"text-white/80":"text-muted-foreground"),children:"9:00"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>x("evening"),className:cn("p-4 rounded-xl text-center transition-all",y==="evening"?"bg-gradient-to-br from-indigo-500 to-purple-500 shadow-lg":"bg-secondary/50 hover:bg-secondary"),children:[jsxRuntimeExports.jsx("span",{className:"text-3xl",children:""}),jsxRuntimeExports.jsx("p",{className:cn("text-sm font-medium mt-2",y==="evening"?"text-white":"text-foreground"),children:r.evening||"Evening"}),jsxRuntimeExports.jsx("p",{className:cn("text-xs",y==="evening"?"text-white/80":"text-muted-foreground"),children:"19:00"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 sm:gap-3 mt-4 sm:mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:z,className:"flex-1 py-3 sm:py-4 bg-secondary/50 backdrop-blur-sm text-secondary-foreground rounded-xl sm:rounded-2xl font-semibold hover:bg-secondary transition-colors text-sm sm:text-base",children:r.skip||"Skip"}),jsxRuntimeExports.jsxs("button",{onClick:B,className:"flex-1 py-3 sm:py-4 bg-gradient-to-r from-primary to-accent text-primary-foreground rounded-xl sm:rounded-2xl font-semibold hover:opacity-90 transition-all flex items-center justify-center gap-2 shadow-lg shadow-primary/30 text-sm sm:text-base",children:[n===3?r.getStarted||"Start":r.next||"Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})]})]})})})]})}function getSlides(){return[{id:"welcome",icon:Sparkles,gradient:"from-primary/20 to-accent/20",iconColor:"text-primary",animation:"float"},{id:"brain",icon:Brain,gradient:"from-purple-500/20 to-pink-500/20",iconColor:"text-purple-500",animation:"pulse"},{id:"features",icon:Target,gradient:"from-blue-500/20 to-cyan-500/20",iconColor:"text-blue-500",animation:"bounce"},{id:"dayclock",icon:Clock,gradient:"from-amber-500/20 to-orange-500/20",iconColor:"text-amber-500",animation:"spin-slow"},{id:"moodtheme",icon:Palette,gradient:"from-violet-500/20 to-fuchsia-500/20",iconColor:"text-violet-500",animation:"color-shift"},{id:"mood",icon:Heart,gradient:"from-red-500/20 to-orange-500/20",iconColor:"text-red-500",animation:"heartbeat"},{id:"focus",icon:Timer,gradient:"from-green-500/20 to-emerald-500/20",iconColor:"text-green-500",animation:"spin-slow"},{id:"ready",icon:Zap,gradient:"from-yellow-500/20 to-orange-500/20",iconColor:"text-yellow-500",animation:"zap"}]}function WelcomeTutorial({onComplete:e,onSkip:r}){const{t:i}=useLanguage(),[n,a]=reactExports.useState(0),[o,l]=reactExports.useState(!1),[c,d]=reactExports.useState("next"),p=reactExports.useRef(0),g=reactExports.useRef(!1),y=getSlides(),x=F=>({welcome:{title:i.tutorialWelcomeTitle||"Welcome to ZenFlow",subtitle:i.tutorialWelcomeSubtitle||"Your personal wellness companion",description:i.tutorialWelcomeDesc||"An app designed to help you stay focused, build healthy habits, and feel better every day."},brain:{title:i.tutorialBrainTitle||"Built for your brain",subtitle:i.tutorialBrainSubtitle||"Whether you have ADHD or just struggle with focus",description:i.tutorialBrainDesc||"ZenFlow uses science-backed techniques to help you manage attention, time, and energy. No diagnosis needed - if you struggle with focus, this app is for you."},features:{title:i.tutorialFeaturesTitle||"What you can do",subtitle:i.tutorialFeaturesSubtitle||"Simple tools, big impact",description:i.tutorialFeaturesDesc||"Track your progress and build momentum:",features:[i.tutorialFeature1||"Track daily mood and energy",i.tutorialFeature2||"Build habits step by step",i.tutorialFeature2b||" Customize icons, colors & goals!",i.tutorialFeature3||"Focus sessions with ambient sounds",i.tutorialFeature4||"Gratitude journaling"]},dayclock:{title:i.tutorialDayClockTitle||"Your Day at a Glance",subtitle:i.tutorialDayClockSubtitle||"Visual energy meter for ADHD brains",description:i.tutorialDayClockDesc||"See your day as a circle with morning, afternoon, and evening zones. Watch your energy grow as you complete activities!",features:[i.tutorialDayClockFeature1||" Energy meter fills up with progress",i.tutorialDayClockFeature2||" Mascot reacts to your achievements",i.tutorialDayClockFeature3||" Track all activities in one place",i.tutorialDayClockFeature4||" Reach 100% for Perfect Day!"]},moodtheme:{title:i.tutorialMoodThemeTitle||"App Adapts to You",subtitle:i.tutorialMoodThemeSubtitle||"Design changes with your mood",description:i.tutorialMoodThemeDesc||"When you feel great, the app celebrates with vibrant colors. When you feel down, it becomes calm and supportive.",features:[i.tutorialMoodThemeFeature1||" Great mood: Vibrant purple & gold",i.tutorialMoodThemeFeature2||" Good mood: Warm greens",i.tutorialMoodThemeFeature3||" Bad mood: Calming blues",i.tutorialMoodThemeFeature4||" Tough times: Gentle, minimal design"]},mood:{title:i.tutorialMoodTitle||"Understand yourself",subtitle:i.tutorialMoodSubtitle||"Track moods to find patterns",description:i.tutorialMoodDesc||"Quick daily check-ins help you notice what affects your energy and focus. Over time, you'll understand yourself better."},focus:{title:i.tutorialFocusTitle||"Deep focus mode",subtitle:i.tutorialFocusSubtitle||"Block distractions, get things done",description:i.tutorialFocusDesc||"Use the Pomodoro technique with calming ambient sounds. Perfect for work, study, or creative projects."},ready:{title:i.tutorialReadyTitle||"Ready to start?",subtitle:i.tutorialReadySubtitle||"Your journey begins now",description:i.tutorialReadyDesc||"Start small - just check in with how you're feeling today. Every step counts!"}})[F]||{title:"",subtitle:"",description:""},S=()=>{if(!o){if(n===y.length-1){e();return}d("next"),l(!0),setTimeout(()=>{a(F=>F+1),l(!1)},300)}},b=()=>{o||n===0||(d("prev"),l(!0),setTimeout(()=>{a(F=>F-1),l(!1)},300))},T=F=>{o||F===n||(d(F>n?"next":"prev"),l(!0),setTimeout(()=>{a(F),l(!1)},300))},N=F=>{p.current=F.touches[0].clientX,g.current=!1},k=F=>{if(!p.current)return;const z=F.touches[0].clientX;Math.abs(z-p.current)>10&&(g.current=!0)},C=F=>{if(!g.current||!p.current||o){p.current=0,g.current=!1;return}const B=F.changedTouches[0].clientX-p.current,Z=window.innerWidth*.3;Math.abs(B)>50&&Math.abs(B)>Z&&(B>0&&n>0?(b(),navigator.vibrate?.(10)):B<0&&n<y.length-1&&(S(),navigator.vibrate?.(10))),p.current=0,g.current=!1},A=y[n],R=x(A.id),I=A.icon;return jsxRuntimeExports.jsxs("div",{className:"screen-overlay zen-gradient-hero overflow-y-auto",onTouchStart:N,onTouchMove:k,onTouchEnd:C,children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end p-3 sm:p-4",children:jsxRuntimeExports.jsx("button",{onClick:r,className:"text-sm text-muted-foreground hover:text-foreground transition-colors px-3 py-2 sm:px-4",children:i.skip||"Skip"})}),jsxRuntimeExports.jsxs("div",{className:"screen-centered px-4 sm:px-6 pb-4 sm:pb-8",children:[jsxRuntimeExports.jsxs("div",{className:cn("relative w-24 h-24 sm:w-28 sm:h-28 md:w-36 md:h-36 lg:w-44 lg:h-44 rounded-2xl sm:rounded-3xl flex items-center justify-center mb-6 sm:mb-8 md:mb-10 transition-all duration-500",`bg-gradient-to-br ${A.gradient}`,o&&(c==="next"?"translate-x-10 opacity-0":"-translate-x-10 opacity-0")),children:[jsxRuntimeExports.jsx(I,{className:cn("w-12 h-12 sm:w-14 sm:h-14 md:w-18 md:h-18 lg:w-22 lg:h-22 transition-all",A.iconColor,A.animation==="float"&&"animate-float",A.animation==="pulse"&&"animate-pulse",A.animation==="bounce"&&"animate-bounce",A.animation==="heartbeat"&&"animate-heartbeat",A.animation==="spin-slow"&&"animate-spin-slow",A.animation==="zap"&&"animate-zap",A.animation==="color-shift"&&"animate-color-shift")}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 w-4 h-4 sm:w-6 sm:h-6 rounded-full bg-primary/20 animate-ping"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -left-2 sm:-bottom-3 sm:-left-3 w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-accent/20 animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:cn("text-center max-w-sm md:max-w-md lg:max-w-lg transition-all duration-300 px-2",o&&(c==="next"?"translate-x-10 opacity-0":"-translate-x-10 opacity-0")),children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-2 md:mb-3",children:R.title}),jsxRuntimeExports.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-primary font-medium mb-3 sm:mb-4 md:mb-5",children:R.subtitle}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-muted-foreground leading-relaxed",children:R.description}),R.features&&jsxRuntimeExports.jsx("div",{className:"mt-6 space-y-3 text-left",children:R.features.map((F,z)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 p-3 bg-card rounded-xl animate-fade-in",style:{animationDelay:`${z*100}ms`},children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5 text-primary flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-foreground",children:F})]},z))})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 sm:px-6 pb-4 sm:pb-8",style:{paddingBottom:"calc(1rem + var(--safe-bottom))"},children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-1.5 sm:gap-2 mb-4 sm:mb-6",children:y.map((F,z)=>jsxRuntimeExports.jsx("button",{onClick:()=>T(z),className:cn("h-1.5 sm:h-2 rounded-full transition-all duration-300",z===n?"w-6 sm:w-8 bg-primary":"w-1.5 sm:w-2 bg-muted hover:bg-muted-foreground/50")},z))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[n>0&&jsxRuntimeExports.jsx("button",{onClick:b,className:"p-3 sm:p-4 bg-secondary rounded-xl hover:bg-muted transition-colors",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),jsxRuntimeExports.jsxs("button",{onClick:S,className:cn("flex-1 py-3 sm:py-4 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 text-sm sm:text-base",n===y.length-1?"zen-gradient text-primary-foreground hover:opacity-90 animate-glow-pulse":"zen-gradient text-primary-foreground hover:opacity-90"),children:[n===y.length-1?i.tutorialStart||"Let's Go!":i.next||"Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})]})]}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes heartbeat {
          0%, 100% { transform: scale(1); }
          25% { transform: scale(1.1); }
          35% { transform: scale(0.95); }
          45% { transform: scale(1.05); }
        }
        @keyframes spin-slow {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes zap {
          0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
          25% { transform: scale(1.2) rotate(-5deg); opacity: 0.8; }
          50% { transform: scale(0.9) rotate(5deg); opacity: 1; }
          75% { transform: scale(1.1) rotate(-3deg); opacity: 0.9; }
        }
        .animate-heartbeat {
          animation: heartbeat 1.5s ease-in-out infinite;
        }
        .animate-spin-slow {
          animation: spin-slow 8s linear infinite;
        }
        .animate-zap {
          animation: zap 2s ease-in-out infinite;
        }
        @keyframes color-shift {
          0%, 100% {
            filter: hue-rotate(0deg);
            transform: scale(1);
          }
          25% {
            filter: hue-rotate(60deg);
            transform: scale(1.05);
          }
          50% {
            filter: hue-rotate(120deg);
            transform: scale(1);
          }
          75% {
            filter: hue-rotate(180deg);
            transform: scale(1.05);
          }
        }
        .animate-color-shift {
          animation: color-shift 4s ease-in-out infinite;
        }
      `})]})}const Card=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex flex-col space-y-1.5 p-6",e),...r}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx("h3",{ref:i,className:cn("text-2xl font-semibold leading-none tracking-tight",e),...r}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx("p",{ref:i,className:cn("text-sm text-muted-foreground",e),...r}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("p-6 pt-0",e),...r}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx("div",{ref:i,className:cn("flex items-center p-6 pt-0",e),...r}));CardFooter.displayName="CardFooter";const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:r,...i}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:r}),e),...i})}var PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext,createProgressScope]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((e,r)=>{const{__scopeProgress:i,value:n=null,max:a,getValueLabel:o=defaultGetValueLabel,...l}=e;(a||a===0)&&!isValidMaxNumber(a)&&console.error(getInvalidMaxError(`${a}`,"Progress"));const c=isValidMaxNumber(a)?a:DEFAULT_MAX;n!==null&&!isValidValueNumber(n,c)&&console.error(getInvalidValueError(`${n}`,"Progress"));const d=isValidValueNumber(n,c)?n:null,p=isNumber(d)?o(d,c):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:i,value:d,max:c,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":isNumber(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":getProgressState(d,c),"data-value":d??void 0,"data-max":c,...l,ref:r})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((e,r)=>{const{__scopeProgress:i,...n}=e,a=useProgressContext(INDICATOR_NAME,i);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:r})});ProgressIndicator.displayName=INDICATOR_NAME;function defaultGetValueLabel(e,r){return`${Math.round(e/r*100)}%`}function getProgressState(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function isNumber(e){return typeof e=="number"}function isValidMaxNumber(e){return isNumber(e)&&!isNaN(e)&&e>0}function isValidValueNumber(e,r){return isNumber(e)&&!isNaN(e)&&e<=r&&e>=0}function getInvalidMaxError(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root=Progress$1,Indicator=ProgressIndicator;const Progress=reactExports.forwardRef(({className:e,value:r,...i},n)=>jsxRuntimeExports.jsx(Root,{ref:n,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...i,children:jsxRuntimeExports.jsx(Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Progress.displayName=Root.displayName;const Tabs=Root2$1,TabsList=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(List,{ref:i,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Trigger$1,{ref:i,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...r}));TabsTrigger.displayName=Trigger$1.displayName;const TabsContent=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Content$2,{ref:i,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));TabsContent.displayName=Content$2.displayName;const Dialog=Root$2,DialogPortal=Portal,DialogOverlay=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Overlay,{ref:i,className:cn("fixed inset-0 z-[60] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:e,children:r,...i},n)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{ref:n,className:cn("fixed left-[50%] top-[50%] z-[70] grid w-[calc(100%-2rem)] max-w-lg max-h-[calc(100vh-4rem)] overflow-y-auto translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...i,children:[r,jsxRuntimeExports.jsxs(Close$1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[jsxRuntimeExports.jsx(X,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content$1.displayName;const DialogHeader=({className:e,...r})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});DialogHeader.displayName="DialogHeader";const DialogTitle=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Title$1,{ref:i,className:cn("text-lg font-semibold leading-none tracking-tight",e),...r}));DialogTitle.displayName=Title$1.displayName;const DialogDescription=reactExports.forwardRef(({className:e,...r},i)=>jsxRuntimeExports.jsx(Description$1,{ref:i,className:cn("text-sm text-muted-foreground",e),...r}));DialogDescription.displayName=Description$1.displayName;const ACHIEVEMENTS={first_mood:{id:"first_mood",name:" ",description:"     ",icon:"",rarity:"common",points:10},first_habit:{id:"first_habit",name:" ",description:"   ",icon:"",rarity:"common",points:10},first_focus:{id:"first_focus",name:" ",description:"  -",icon:"",rarity:"common",points:10},first_gratitude:{id:"first_gratitude",name:" ",description:"   ",icon:"",rarity:"common",points:10},streak_3:{id:"streak_3",name:" !",description:"  3  ",icon:"",rarity:"common",points:25,total:3},streak_7:{id:"streak_7",name:" ",description:"  7  ",icon:"",rarity:"rare",points:50,total:7},streak_30:{id:"streak_30",name:" ",description:"  30  ",icon:"",rarity:"epic",points:150,total:30},streak_100:{id:"streak_100",name:" ",description:"  100  ",icon:"",rarity:"legendary",points:500,total:100},habit_master:{id:"habit_master",name:" ",description:" 100 ",icon:"",rarity:"epic",points:100,total:100},focus_warrior:{id:"focus_warrior",name:" ",description:" 50  -",icon:"",rarity:"epic",points:200,total:50},grateful_heart:{id:"grateful_heart",name:" ",description:" 100 ",icon:"",rarity:"rare",points:75,total:100},mood_tracker:{id:"mood_tracker",name:" ",description:"  50 ",icon:"",rarity:"rare",points:60,total:50},perfect_week:{id:"perfect_week",name:" ",description:"   7  ",icon:"",rarity:"epic",points:120,total:7},zen_master:{id:"zen_master",name:" ",description:" 1000 XP",icon:"",rarity:"legendary",points:250,total:1e3},productivity_beast:{id:"productivity_beast",name:" ",description:" 10 -   ",icon:"",rarity:"epic",points:150,total:10},consistency_king:{id:"consistency_king",name:" ",description:"  365  ",icon:"",rarity:"legendary",points:1e3,total:365},wellness_warrior:{id:"wellness_warrior",name:" ",description:"   ",icon:"",rarity:"legendary",points:300}},LEVEL_TITLES=["","","","","","","","","",""];function calculateLevel(e){let r=1;for(;r*r*100<=e;)r++;r=Math.max(1,r-1);const i=r*r*100,n=LEVEL_TITLES[Math.min(r-1,LEVEL_TITLES.length-1)];return{level:r,xp:e,nextLevelXp:i,title:n}}function getXpForAction(e){return{mood:5,habit:10,focus:15,gratitude:8,streak:20}[e]}function checkAchievements(e,r){const i=[],n={};e.moods.length>=1&&!r.includes("first_mood")&&i.push({...ACHIEVEMENTS.first_mood,unlockedAt:Date.now()}),e.habits.length>=1&&!r.includes("first_habit")&&i.push({...ACHIEVEMENTS.first_habit,unlockedAt:Date.now()}),e.focusSessions.length>=1&&!r.includes("first_focus")&&i.push({...ACHIEVEMENTS.first_focus,unlockedAt:Date.now()}),e.gratitudeEntries.length>=1&&!r.includes("first_gratitude")&&i.push({...ACHIEVEMENTS.first_gratitude,unlockedAt:Date.now()});const a=e.moods.map(p=>p.date),o=calculateStreak(a);o>=3&&!r.includes("streak_3")?i.push({...ACHIEVEMENTS.streak_3,unlockedAt:Date.now(),progress:o}):o<3&&(n.streak_3=o),o>=7&&!r.includes("streak_7")?i.push({...ACHIEVEMENTS.streak_7,unlockedAt:Date.now(),progress:o}):o<7&&(n.streak_7=o),o>=30&&!r.includes("streak_30")?i.push({...ACHIEVEMENTS.streak_30,unlockedAt:Date.now(),progress:o}):o<30&&(n.streak_30=o),o>=100&&!r.includes("streak_100")?i.push({...ACHIEVEMENTS.streak_100,unlockedAt:Date.now(),progress:o}):o<100&&(n.streak_100=o),o>=365&&!r.includes("consistency_king")?i.push({...ACHIEVEMENTS.consistency_king,unlockedAt:Date.now(),progress:o}):o<365&&(n.consistency_king=o);const l=e.habits.reduce((p,g)=>p+(g.completedDates?.length??0),0);l>=100&&!r.includes("habit_master")?i.push({...ACHIEVEMENTS.habit_master,unlockedAt:Date.now(),progress:l}):n.habit_master=l;const c=e.focusSessions.reduce((p,g)=>p+g.duration,0),d=Math.floor(c/60);return d>=50&&!r.includes("focus_warrior")?i.push({...ACHIEVEMENTS.focus_warrior,unlockedAt:Date.now(),progress:d}):n.focus_warrior=d,e.gratitudeEntries.length>=100&&!r.includes("grateful_heart")?i.push({...ACHIEVEMENTS.grateful_heart,unlockedAt:Date.now(),progress:e.gratitudeEntries.length}):n.grateful_heart=e.gratitudeEntries.length,e.moods.length>=50&&!r.includes("mood_tracker")?i.push({...ACHIEVEMENTS.mood_tracker,unlockedAt:Date.now(),progress:e.moods.length}):n.mood_tracker=e.moods.length,e.totalXp>=1e3&&!r.includes("zen_master")?i.push({...ACHIEVEMENTS.zen_master,unlockedAt:Date.now(),progress:e.totalXp}):n.zen_master=e.totalXp,{newAchievements:i,updatedProgress:n}}function getBadgeColor(e){return{common:"bg-gray-100 text-gray-700 border-gray-300",rare:"bg-blue-100 text-blue-700 border-blue-300",epic:"bg-purple-100 text-purple-700 border-purple-300",legendary:"bg-yellow-100 text-yellow-700 border-yellow-300"}[e]}function getBadgeGlow(e){return{common:"",rare:"shadow-lg shadow-blue-200",epic:"shadow-xl shadow-purple-300 animate-pulse-soft",legendary:"shadow-2xl shadow-yellow-300 animate-pulse-soft"}[e]}const localeMap={ru:"ru-RU",en:"en-US",uk:"uk-UA",es:"es-ES",de:"de-DE",fr:"fr-FR"},AchievementsPanel=reactExports.memo(function({stats:r,unlockedAchievements:i,onAchievementUnlock:n}){const{t:a,language:o}=useLanguage(),[l,c]=reactExports.useState(null),[d,p]=reactExports.useState({}),g=calculateLevel(r.totalXp);reactExports.useEffect(()=>{const{newAchievements:k,updatedProgress:C}=checkAchievements(r,i);p(C),k.length>0&&n&&k.forEach(A=>{n(A)})},[r,i]);const y=Object.values(ACHIEVEMENTS),x=i.length,S=y.length,b=x/S*100,T=y.filter(k=>i.includes(k.id)),N=y.filter(k=>!i.includes(k.id));return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"p-6 bg-gradient-to-br from-[#6bb5a0] to-[#4a9d7c] text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Star,{className:"w-6 h-6",fill:"currentColor"}),a.userLevel||"Level"," ",g.level]}),jsxRuntimeExports.jsx("p",{className:"text-white/80 text-sm",children:g.title})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold",children:r.totalXp}),jsxRuntimeExports.jsx("div",{className:"text-white/80 text-sm",children:a.xp||"XP"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsxs("span",{children:[a.toLevel||"To level"," ",g.level+1]}),jsxRuntimeExports.jsxs("span",{children:[g.nextLevelXp-r.totalXp," ",a.xp||"XP"]})]}),jsxRuntimeExports.jsx(Progress,{value:r.totalXp/g.nextLevelXp*100,className:"bg-white/20"})]})]}),jsxRuntimeExports.jsxs(Card,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-5 h-5 text-[#4a9d7c]"}),a.achievements||"Achievements"]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[x," / ",S]})]}),jsxRuntimeExports.jsx(Progress,{value:b,className:"mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:a.unlockedPercent?.replace("{percent}",String(Math.round(b)))||`${Math.round(b)}% unlocked`})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"all",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-3",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"all",children:a.all||"All"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"unlocked",children:a.unlocked||"Unlocked"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"locked",children:a.locked||"Locked"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"all",className:"mt-4 overflow-visible",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 pb-4",children:y.map(k=>{const C=i.includes(k.id),A=d[k.id];return jsxRuntimeExports.jsx(AchievementCard,{achievement:k,isUnlocked:C,progress:A,onClick:()=>c({...k,progress:A}),hiddenText:a.hidden||"Hidden",hiddenTitle:a.hiddenAchievement||"???"},k.id)})})}),jsxRuntimeExports.jsx(TabsContent,{value:"unlocked",className:"mt-4 overflow-visible",children:T.length===0?jsxRuntimeExports.jsxs(Card,{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:a.noAchievementsYet||"No achievements yet"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.startUsingZenFlow||"Start using ZenFlow!"})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 pb-4",children:T.map(k=>jsxRuntimeExports.jsx(AchievementCard,{achievement:k,isUnlocked:!0,onClick:()=>c(k),hiddenText:a.hidden||"Hidden",hiddenTitle:a.hiddenAchievement||"???"},k.id))})}),jsxRuntimeExports.jsx(TabsContent,{value:"locked",className:"mt-4 overflow-visible",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 pb-4",children:N.map(k=>{const C=d[k.id];return jsxRuntimeExports.jsx(AchievementCard,{achievement:k,isUnlocked:!1,progress:C,onClick:()=>c({...k,progress:C}),hiddenText:a.hidden||"Hidden",hiddenTitle:a.hiddenAchievement||"???"},k.id)})})})]}),jsxRuntimeExports.jsx(Dialog,{open:!!l,onOpenChange:()=>c(null),children:jsxRuntimeExports.jsx(DialogContent,{className:"max-h-[80vh] overflow-y-auto mx-4 sm:mx-auto",children:jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx("div",{className:`text-6xl mb-4 text-center ${l&&getBadgeGlow(l.rarity)}`,children:l?.icon}),jsxRuntimeExports.jsx(DialogTitle,{className:"text-center text-2xl",children:l?.name}),jsxRuntimeExports.jsxs(DialogDescription,{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx("p",{className:"text-base",children:l?.description}),l&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-4",children:[jsxRuntimeExports.jsx(Badge,{className:getBadgeColor(l.rarity),children:l.rarity.toUpperCase()}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-3 h-3 mr-1"}),l.points," ",a.xp||"XP"]})]}),l?.total&&l.progress!==void 0&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 pt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:a.progress||"Progress"}),jsxRuntimeExports.jsxs("span",{children:[l.progress," / ",l.total]})]}),jsxRuntimeExports.jsx(Progress,{value:l.progress/l.total*100})]}),l?.unlockedAt&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground pt-4",children:[a.unlockedOn||"Unlocked on"," ",new Date(l.unlockedAt).toLocaleDateString(localeMap[o],{day:"numeric",month:"long",year:"numeric"})]})]})]})})})]})});function AchievementCard({achievement:e,isUnlocked:r,progress:i,onClick:n,hiddenText:a,hiddenTitle:o}){const l=i!==void 0&&e.total,c=l?i/e.total*100:0;return jsxRuntimeExports.jsx(Card,{className:`p-4 cursor-pointer transition-all hover:scale-105 ${r?getBadgeGlow(e.rarity):"opacity-60"}`,onClick:n,children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:`text-4xl ${!r&&"grayscale blur-[1px]"}`,children:r?e.icon:jsxRuntimeExports.jsx(Lock,{className:"w-10 h-10 mx-auto text-muted-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm line-clamp-1",children:r?e.name:o}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:r?e.description:a})]}),l&&jsxRuntimeExports.jsxs("div",{className:"pt-2",children:[jsxRuntimeExports.jsx(Progress,{value:c,className:"h-1"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i," / ",e.total]})]}),r&&jsxRuntimeExports.jsxs(Badge,{className:`${getBadgeColor(e.rarity)} text-xs`,children:["+",e.points," ",t.xp||"XP"]})]})})}function NotificationPermission({onComplete:e}){const{t:r}=useLanguage(),[i,n]=reactExports.useState(!1);reactExports.useEffect(()=>{a()},[]);const a=async()=>{if(!Capacitor.isNativePlatform()){e();return}if(localStorage.getItem("notification-permission-asked")){e();return}try{if((await LocalNotifications.checkPermissions()).display==="granted"){localStorage.setItem("notification-permission-asked","true"),e();return}n(!0)}catch(d){logger.error("[Notifications] Failed to check permissions:",d),e()}},o=async()=>{try{const c=await LocalNotifications.requestPermissions();localStorage.setItem("notification-permission-asked","true"),c.display==="granted"&&logger.log("[Notifications] Permission granted"),n(!1),e()}catch(c){logger.error("[Notifications] Failed to request permissions:",c),n(!1),e()}},l=()=>{localStorage.setItem("notification-permission-asked","true"),n(!1),e()};return i?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-background/95 backdrop-blur-sm z-[60] flex items-center justify-center p-4 animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-card rounded-2xl p-4 sm:p-6 zen-shadow-card animate-scale-in",children:[jsxRuntimeExports.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 text-muted-foreground hover:text-foreground transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-4 zen-gradient rounded-2xl zen-shadow-glow",children:jsxRuntimeExports.jsx(Bell,{className:"w-12 h-12 text-primary-foreground"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-foreground text-center mb-2",children:r.notificationPermissionTitle||"Stay on Track"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center mb-6",children:r.notificationPermissionDescription||"Get gentle reminders to track your mood, complete habits, and take focus breaks. Notifications help you build healthy routines."}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mt-2"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:r.notificationFeature1Title||"Daily Mood Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:r.notificationFeature1Desc||"Check in with yourself every day"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mt-2"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:r.notificationFeature2Title||"Habit Tracking"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:r.notificationFeature2Desc||"Stay consistent with your goals"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mt-2"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:r.notificationFeature3Title||"Focus Sessions"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:r.notificationFeature3Desc||"Get reminded to take productive breaks"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("button",{onClick:o,className:"btn-press w-full py-3 zen-gradient text-primary-foreground font-semibold rounded-xl zen-shadow-soft hover:opacity-90 transition-opacity",children:r.notificationAllow||"Enable Notifications"}),jsxRuntimeExports.jsx("button",{onClick:l,className:"btn-press w-full py-3 bg-secondary text-secondary-foreground font-medium rounded-xl hover:bg-muted transition-colors",children:r.notificationDeny||"Maybe Later"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:r.notificationPrivacyNote||"You can change this anytime in Settings. Notifications are local and private."})]})}):null}function GoogleAuthScreen({onComplete:e,onSkip:r}){const[i,n]=reactExports.useState(!1),[a,o]=reactExports.useState(null),[l,c]=reactExports.useState(null),d=reactExports.useRef(!1),p=reactExports.useRef(null),g=(T,N)=>d.current?!1:(d.current=!0,p.current&&(clearTimeout(p.current),p.current=null),n(!1),logger.log(`[Auth] Completing auth from ${N}:`,T.email),e(T),!0);reactExports.useEffect(()=>{(async()=>{if(supabase&&!d.current)try{const{data:N,error:k}=await supabase.auth.getSession();if(k){logger.error("[Auth] Session check error:",k),c(`Session error: ${k.message}`);return}if(N.session?.user){const C=N.session.user.user_metadata,A=C?.full_name||C?.name||N.session.user.email?.split("@")[0]||"Friend",R=N.session.user.email||"";g({name:A,email:R},"checkSession")}}catch(N){logger.error("[Auth] Unexpected error checking session:",N),c(`Unexpected error: ${N instanceof Error?N.message:String(N)}`)}})()},[e]),reactExports.useEffect(()=>{if(!supabase)return;const{data:T}=supabase.auth.onAuthStateChange((N,k)=>{if(N==="SIGNED_IN"&&k?.user){const C=k.user.user_metadata,A=C?.full_name||C?.name||k.user.email?.split("@")[0]||"Friend",R=k.user.email||"";g({name:A,email:R},"onAuthStateChange")}else N==="SIGNED_OUT"&&n(!1)});return()=>{T?.subscription?.unsubscribe?.()}},[e]),reactExports.useEffect(()=>{if(!supabase)return;let T=!0,N=null;const k=async()=>{if(!(!T||!i||d.current)&&(await new Promise(A=>setTimeout(A,300)),!(!T||d.current)))try{const{data:A}=await supabase.auth.getSession();if(!T)return;if(A.session?.user){const R=A.session.user.user_metadata,I=R?.full_name||R?.name||A.session.user.email?.split("@")[0]||"Friend",F=A.session.user.email||"";g({name:I,email:F},"checkSessionOnResume")}else d.current||(logger.log("[Auth] No session on resume, user may have canceled"),n(!1),p.current&&(clearTimeout(p.current),p.current=null))}catch(A){logger.error("[Auth] Error checking session on resume:",A),T&&!d.current&&n(!1)}};if(isNativePlatform())return App$1.addListener("appStateChange",({isActive:A})=>{A&&i&&k()}).then(A=>{N=A}).catch(A=>{logger.error("[Auth] Failed to add appStateChange listener:",A)}),()=>{T=!1,N&&N.remove().catch(()=>{})};const C=()=>{i&&k()};return window.addEventListener("focus",C),()=>{T=!1,window.removeEventListener("focus",C)}},[i,e]),reactExports.useEffect(()=>{const T=()=>{n(!1),p.current&&(clearTimeout(p.current),p.current=null)};return window.addEventListener(AUTH_COMPLETE_EVENT,T),()=>window.removeEventListener(AUTH_COMPLETE_EVENT,T)},[]),reactExports.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const y=async()=>{if(!supabase){o("Supabase not configured. Please add your Supabase credentials.");return}n(!0),o(null),c(null),p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{d.current||(n(!1),o("Sign-in took too long. Please try again."))},6e4);try{const T=getAuthRedirectUrl();logger.log("[Auth] Starting Google sign-in with redirect URL:",T);const N=isNativePlatform()?"native":"web";logger.log("[Auth] Platform:",N),c(`Platform: ${N}, Redirect: ${T}`);const{data:k,error:C}=await supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:T,queryParams:{access_type:"offline",prompt:"consent"}}});if(C){logger.error("[Auth] Google sign-in error:",C);let A="Failed to sign in with Google.";C.message.includes("invalid_client")?A=`Google OAuth not configured correctly. Please check:
1. SHA-1 fingerprint added to Google Cloud Console
2. Android Client ID added to Supabase
3. Redirect URI added to Supabase`:C.message.includes("redirect_uri")?A="Redirect URI mismatch. Please add com.zenflow.app://login-callback to Supabase allowed URLs.":C.message.includes("unauthorized")&&(A="OAuth client not authorized. Please enable Google provider in Supabase."),o(A),c(`Error code: ${C.status||"unknown"}, Message: ${C.message}`),p.current&&clearTimeout(p.current),n(!1);return}k?.url&&(logger.log("[Auth] OAuth URL generated:",k.url),c("OAuth URL generated successfully"))}catch(T){logger.error("[Auth] Unexpected error during sign-in:",T),o("Unexpected error occurred. Please try again."),c(`Exception: ${T instanceof Error?T.message:String(T)}`),p.current&&clearTimeout(p.current),n(!1)}},x=async()=>{r()},S=()=>{r()},b=()=>{const T={timestamp:new Date().toISOString(),platform:isNativePlatform()?"native":"web",redirectUrl:getAuthRedirectUrl(),supabaseConfigured:!!supabase,error:a,debugInfo:l,userAgent:navigator.userAgent},N=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),k=URL.createObjectURL(N),C=document.createElement("a");C.href=k,C.download=`zenflow-auth-debug-${Date.now()}.json`,document.body.appendChild(C),C.click(),C.remove(),URL.revokeObjectURL(k)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen zen-gradient-hero flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md animate-fade-in",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center gap-3 mb-4",children:jsxRuntimeExports.jsx("div",{className:"p-3 zen-gradient rounded-2xl zen-shadow-glow",children:jsxRuntimeExports.jsx(Leaf,{className:"w-8 h-8 text-primary-foreground"})})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold zen-text-gradient mb-2",children:"Welcome to ZenFlow"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Sign in to sync your data across devices"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-2xl p-6 zen-shadow-card mb-4 space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-foreground text-center mb-4",children:"Continue with"}),jsxRuntimeExports.jsx("button",{onClick:y,disabled:i||!supabase,className:"w-full py-4 bg-white hover:bg-gray-50 text-gray-800 font-semibold rounded-2xl transition-all zen-shadow-soft text-lg flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:i?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),jsxRuntimeExports.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),jsxRuntimeExports.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),jsxRuntimeExports.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),!supabase&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-destructive/10 rounded-xl flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-destructive mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:"Authentication not configured. Configure Supabase to enable sign-in."})]}),a&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-destructive/10 rounded-xl flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-destructive mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive whitespace-pre-wrap",children:a}),l&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:l}),jsxRuntimeExports.jsx("button",{onClick:b,className:"text-xs text-primary underline mt-2",children:"Export debug info"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative my-4",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t border-border"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:jsxRuntimeExports.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"or"})})]}),jsxRuntimeExports.jsxs("button",{onClick:x,disabled:i,className:"w-full py-3 bg-secondary text-secondary-foreground font-medium rounded-2xl hover:bg-muted transition-colors flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5"}),"Continue with Email"]})]}),jsxRuntimeExports.jsx("button",{onClick:S,className:"w-full py-3 bg-transparent text-muted-foreground font-medium rounded-2xl hover:bg-secondary/50 transition-colors",children:"Skip for now"}),jsxRuntimeExports.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-4",children:["Your data is stored locally and optionally synced to the cloud.",jsxRuntimeExports.jsx("br",{}),"We respect your privacy."]})]})})}function getWeekDates(){const e=new Date,r=e.getDay(),i=new Date(e);i.setDate(e.getDate()-(r===0?6:r-1)),i.setHours(0,0,0,0);const n=[];for(let a=0;a<7;a++){const o=new Date(i);o.setDate(i.getDate()+a),n.push(formatDate$1(o))}return n}function getPreviousWeekDates(){const e=new Date,r=e.getDay(),i=new Date(e);i.setDate(e.getDate()-(r===0?13:r+6)),i.setHours(0,0,0,0);const n=[];for(let a=0;a<7;a++){const o=new Date(i);o.setDate(i.getDate()+a),n.push(formatDate$1(o))}return n}function WeeklyReport({moods:e,habits:r,focusSessions:i,gratitudeEntries:n,onClose:a}){const{t:o,language:l}=useLanguage(),c=reactExports.useMemo(()=>{const g=getWeekDates(),y=getPreviousWeekDates(),x=r.flatMap(z=>(z.completedDates||[]).filter(B=>g.includes(B))),S=i.filter(z=>g.includes(z.date)).reduce((z,B)=>z+B.duration,0),b=n.filter(z=>g.includes(z.date)).length,T=e.filter(z=>g.includes(z.date)),N={great:5,good:4,okay:3,bad:2,terrible:1},k=T.map(z=>N[z.mood]||3),C=k.length>0?safeAverage(k):3,A=r.flatMap(z=>(z.completedDates||[]).filter(B=>y.includes(B))).length,R=A>0?(x.length-A)/A*100:0,I=g.map(z=>({date:z,count:r.filter(B=>B.completedDates?.includes(z)).length})),F=I.reduce((z,B)=>B.count>z.count?B:z,I[0]);return{habitsCompleted:x.length,totalHabitsGoal:r.length*7,focusMinutes:S,gratitudeCount:b,moodAverage:C,bestDay:new Date(F.date).toLocaleDateString(l,{weekday:"long"}),improvement:R}},[e,r,i,n,l]),p=(()=>{const g=c.totalHabitsGoal>0?c.habitsCompleted/c.totalHabitsGoal*100:0;return g>=90?{emoji:"",title:o.incredibleWeek,message:o.pathToMastery}:g>=70?{emoji:"",title:o.greatWork,message:o.keepMomentum}:g>=50?{emoji:"",title:o.goodProgress,message:o.everyStepCounts}:{emoji:"",title:o.newWeekOpportunities,message:o.startSmall}})();return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",role:"dialog","aria-modal":"true","aria-labelledby":"weekly-report-title",children:jsxRuntimeExports.jsxs("div",{className:"relative max-w-2xl w-full bg-card rounded-3xl p-8 shadow-2xl border border-primary/20 max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-4",children:p.emoji}),jsxRuntimeExports.jsx("h2",{id:"weekly-report-title",className:"text-3xl font-bold mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:o.weeklyReport}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:new Date().toLocaleDateString(l,{month:"long",day:"numeric",year:"numeric"})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl border-2 border-primary/20",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:p.title}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:p.message})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-secondary rounded-xl p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:o.habits})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[c.habitsCompleted,"/",c.totalHabitsGoal]}),c.improvement!==0&&jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-1 text-sm mt-1",c.improvement>0?"text-mood-good":"text-mood-bad"),children:[c.improvement>0?jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(TrendingDown,{className:"w-4 h-4"}),jsxRuntimeExports.jsxs("span",{children:[Math.abs(Math.round(c.improvement)),"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-secondary rounded-xl p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:o.focus})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold",children:[c.focusMinutes," ",o.min]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-secondary rounded-xl p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:o.gratitude})]}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:c.gratitudeCount})]}),jsxRuntimeExports.jsxs("div",{className:"bg-secondary rounded-xl p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Award,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:o.bestDay})]}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold capitalize",children:c.bestDay})]})]}),jsxRuntimeExports.jsx("button",{onClick:a,className:"w-full py-4 bg-gradient-to-r from-primary to-accent text-white font-bold rounded-xl hover:shadow-lg transition-all",children:o.continueBtn})]})})}const state={context:null,isMuted:!1,volume:.3,activeTimeouts:[]};function scheduleTimeout(e,r){const i=window.setTimeout(()=>{e();const n=state.activeTimeouts.indexOf(i);n>-1&&state.activeTimeouts.splice(n,1)},r);state.activeTimeouts.push(i)}function getAudioContext(){if(state.context)return state.context;try{return state.context=new(window.AudioContext||window.webkitAudioContext),state.context}catch{return null}}function playTone(e,r,i="sine"){if(state.isMuted)return;const n=getAudioContext();if(n)try{const a=n.createOscillator(),o=n.createGain();a.connect(o),o.connect(n.destination),a.frequency.value=e,a.type=i;const l=state.volume*.5;o.gain.setValueAtTime(l,n.currentTime),o.gain.exponentialRampToValueAtTime(.01,n.currentTime+r),a.start(n.currentTime),a.stop(n.currentTime+r)}catch{}}function playSuccess(){if(!(state.isMuted||!getAudioContext()))try{[523.25,659.25,783.99].forEach((i,n)=>{scheduleTimeout(()=>playTone(i,.2),n*80)})}catch{}}function playStreakMilestone(){if(!(state.isMuted||!getAudioContext()))try{[392,493.88,587.33,783.99].forEach((i,n)=>{scheduleTimeout(()=>playTone(i,.3,"triangle"),n*100)})}catch{}}function playLevelUp(){if(!(state.isMuted||!getAudioContext()))try{[{freq:523.25,delay:0},{freq:659.25,delay:100},{freq:783.99,delay:200},{freq:1046.5,delay:350}].forEach(({freq:i,delay:n})=>{scheduleTimeout(()=>playTone(i,.4,"sine"),n)})}catch{}}function playNotification(){state.isMuted||playTone(880,.15,"sine")}function initAudioManager(){try{localStorage.getItem("zenflow-audio-muted")==="1"&&(state.isMuted=!0);const r=localStorage.getItem("zenflow-audio-volume");r&&(state.volume=safeParseFloat(r,.3,0,1))}catch{}}function TimeHelper({onClose:e}){const{t:r,language:i}=useLanguage(),[n,a]=reactExports.useState(60),[o,l]=reactExports.useState(n*60),[c,d]=reactExports.useState(!1),[p,g]=reactExports.useState(!0),[y,x]=reactExports.useState(15),S=reactExports.useRef(null),b=reactExports.useRef(0);reactExports.useEffect(()=>{l(n*60)},[n]),reactExports.useEffect(()=>{if(!c){S.current&&clearInterval(S.current);return}return S.current=setInterval(()=>{l(F=>{if(F<=1)return clearInterval(S.current),N(),0;const z=F-1,B=n*60-z;return p&&B>0&&B%(y*60)===0&&Date.now()-b.current>1e3&&(T(),b.current=Date.now()),z})},1e3),()=>{S.current&&clearInterval(S.current)}},[c,n,p,y]);const T=()=>{p&&playNotification()},N=()=>{p&&playLevelUp()},k=F=>{const z=Math.floor(F/3600),B=Math.floor(F%3600/60),Z=F%60;return z>0?`${z}:${B.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}`:`${B}:${Z.toString().padStart(2,"0")}`},C=()=>{const F=Math.floor(o/3600),z=Math.floor(o%3600/60);return F>0?(r.hoursMinutesLeft||"{hours}h {mins}m left").replace("{hours}",String(F)).replace("{mins}",String(z)):(r.minutesLeft||"{mins}m left").replace("{mins}",String(z))},A=()=>new Date(Date.now()+o*1e3).toLocaleTimeString(getLocale(i),{hour:"2-digit",minute:"2-digit"}),R=(n*60-o)/(n*60)*100,I=o<300?"text-red-500":o<900?"text-yellow-500":"text-primary";return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl max-w-lg w-full p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 zen-gradient rounded-xl",children:jsxRuntimeExports.jsx(Clock,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:r.timeBlindnessHelper||"Time Blindness Helper"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:r.visualTimeAwareness||"Visual time awareness for ADHD"})]})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-64 h-64 mx-auto",children:[jsxRuntimeExports.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[jsxRuntimeExports.jsx("circle",{cx:"128",cy:"128",r:"120",fill:"none",stroke:"rgba(139, 92, 246, 0.1)",strokeWidth:"12"}),jsxRuntimeExports.jsx("circle",{cx:"128",cy:"128",r:"120",fill:"none",stroke:"url(#timeGradient)",strokeWidth:"12",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*120}`,strokeDashoffset:`${2*Math.PI*120*(1-R/100)}`,className:"transition-all duration-1000"}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"timeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#EC4899"})]})})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:cn("text-5xl font-bold mb-2",I),children:k(o)}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:o>0?C():r.timesUp||"Time's up!"})]})})]}),c&&o>0&&jsxRuntimeExports.jsxs("div",{className:"text-center mt-4 p-3 bg-primary/10 rounded-xl",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:r.youllFinishAt||" You'll finish at:"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-primary",children:A()})]})]}),c?jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d(!1),className:"flex-1 py-3 bg-muted hover:bg-muted/70 font-medium rounded-xl transition-colors flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Pause,{className:"w-5 h-5"}),r.pauseTimer||"Pause"]}),jsxRuntimeExports.jsx("button",{onClick:()=>{d(!1),l(n*60)},className:"flex-1 py-3 bg-destructive/10 hover:bg-destructive/20 text-destructive font-medium rounded-xl transition-colors",children:r.resetTimer||"Reset"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium mb-2 block",children:r.durationMinutes||"Duration (minutes)"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[15,30,45,60].map(F=>jsxRuntimeExports.jsxs("button",{onClick:()=>a(F),className:cn("py-2 rounded-lg font-medium transition-all",n===F?"zen-gradient text-white zen-shadow":"bg-muted hover:bg-muted/70"),children:[F,"m"]},F))}),jsxRuntimeExports.jsx("input",{type:"range",min:"5",max:"180",step:"5",value:n,onChange:F=>a(safeParseInt(F.target.value,60,5,180)),className:"w-full"}),jsxRuntimeExports.jsx("div",{className:"text-center text-sm text-muted-foreground mt-1",children:(r.nMinutes||"{n} minutes").replace("{n}",String(n))})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium mb-2 block",children:r.pingEveryMinutes||"Ping Every (minutes)"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,15,30].map(F=>jsxRuntimeExports.jsxs("button",{onClick:()=>x(F),className:cn("py-2 rounded-lg font-medium transition-all text-sm",y===F?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/70"),children:[F,"m"]},F))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:r.audioPings||"Audio Pings"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:T,className:"px-3 py-2 rounded-lg bg-muted hover:bg-muted/70 transition-colors text-sm font-medium",title:"Test sound",children:r.testSound||" Test"}),jsxRuntimeExports.jsxs("button",{onClick:()=>g(!p),className:cn("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors",p?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:[p?jsxRuntimeExports.jsx(Bell,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(BellOff,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:p?r.soundOn||"On":r.soundOff||"Off"})]})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>d(!0),className:"w-full py-3 zen-gradient text-white font-bold rounded-xl hover:opacity-90 transition-opacity flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Play,{className:"w-5 h-5"}),r.startTimer||"Start Timer"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 p-4 bg-primary/5 border border-primary/20 rounded-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:""}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("div",{className:"font-medium mb-1",children:r.adhdTimeManagement||"ADHD Time Management"}),jsxRuntimeExports.jsxs("ul",{className:"text-muted-foreground space-y-1 list-disc list-inside",children:[jsxRuntimeExports.jsx("li",{children:r.adhdTip1||"Audio pings help track time passing"}),jsxRuntimeExports.jsx("li",{children:r.adhdTip2||"Visual countdown reduces anxiety"}),jsxRuntimeExports.jsx("li",{children:r.adhdTip3||"End time prediction = better planning"}),jsxRuntimeExports.jsx("li",{children:r.adhdTip4||"Color changes warn when time is low"})]})]})]})})]})})}const INITIAL_STATE={totalXp:0,unlockedAchievements:[],achievementProgress:{},shownAchievementToasts:[]};function useGamification(){const[e,r]=useIndexedDB({table:db.settings,localStorageKey:"gamification",initialValue:INITIAL_STATE,idField:"key"}),[i,n]=reactExports.useState([]),[a,o]=reactExports.useState([]),[l,c]=reactExports.useState([]),[d,p]=reactExports.useState([]);reactExports.useEffect(()=>{const T=async()=>{const[k,C,A,R]=await Promise.all([db.moods.toArray(),db.habits.toArray(),db.focusSessions.toArray(),db.gratitudeEntries.toArray()]);n(k),o(C),c(A),p(R)};T();const N=setInterval(T,5e3);return()=>clearInterval(N)},[]);const g={moods:i,habits:a,focusSessions:l,gratitudeEntries:d,totalXp:e.totalXp},y=reactExports.useRef(!0),x=reactExports.useRef("");reactExports.useEffect(()=>{if(i.length===0&&a.length===0)return;const T=`${i.length}-${a.length}-${l.length}-${d.length}`,N=x.current!==""&&x.current!==T;x.current=T;const{newAchievements:k,updatedProgress:C}=checkAchievements(g,e.unlockedAchievements),A=new Set(e.shownAchievementToasts||[]);if(k.length>0){const R=[...e.unlockedAchievements,...k.map(B=>B.id)],I=k.reduce((B,Z)=>B+Z.points,0),F=k.filter(B=>!A.has(B.id)),z=[...e.shownAchievementToasts||[],...k.map(B=>B.id)];r({...e,totalXp:e.totalXp+I,unlockedAchievements:R,achievementProgress:{...e.achievementProgress,...C},shownAchievementToasts:z}),!y.current&&N&&F.length>0&&F.forEach(B=>{ue.success(` ${B.name}`,{description:`${B.description} (+${B.points} XP)`,duration:5e3})})}else r({...e,achievementProgress:{...e.achievementProgress,...C}});y.current&&(y.current=!1)},[i,a,l,d]);const S=reactExports.useCallback(T=>{const N=getXpForAction(T);r(k=>({...k,totalXp:k.totalXp+N}))},[r]),b=calculateLevel(e.totalXp);return{stats:g,gamificationState:e,userLevel:b,awardXp:S}}const Widget=registerPlugin("Widget",{web:()=>__vitePreload(()=>import("./WidgetWeb-DQQaSxON.js"),__vite__mapDeps([9,1,2,3,4,5])).then(e=>new e.WidgetWeb)});function useWidgetSync(e,r,i,n,a){reactExports.useEffect(()=>{let o=!0;if(Capacitor.isNativePlatform()&&!a)return Widget.isSupported().then(({supported:l})=>{if(!(!o||!l))try{const c=formatDate$1(new Date),d=r.filter(g=>g.completedDates?g.completedDates.includes(c):!1),p={streak:e,habitsToday:d.length,habitsTotalToday:r.length,focusMinutes:i,lastBadge:n,habits:r.slice(0,5).map(g=>({name:g.name,completed:g.completedDates?.includes(c)??!1}))};logger.log("[Widget] Updating widget with data:",p),Widget.updateWidget(p).catch(g=>{o&&logger.error("[Widget] Failed to update widget:",g)})}catch(c){o&&logger.error("[Widget] Error preparing widget data:",c)}}).catch(l=>{o&&logger.error("[Widget] Failed to check widget support:",l)}),()=>{o=!1}},[e,r,i,n,a])}function useWidgetData(){const[e,r]=reactExports.useState(null);return reactExports.useEffect(()=>{let i=!0;return Widget.getWidgetData().then(n=>{i&&r(n)}).catch(n=>{i&&logger.error("Failed to get widget data:",n)}),()=>{i=!1}},[]),e}async function pushInnerWorldToCloud(e){if(!supabase)return;const{data:{user:r}}=await supabase.auth.getUser();if(r)try{const{error:i}=await supabase.from("user_inner_world").upsert({user_id:r.id,world_data:e,updated_at:new Date().toISOString()},{onConflict:"user_id"});i&&i.code!=="42P01"&&logger.error("[InnerWorld] Error pushing to cloud:",i)}catch(i){logger.error("[InnerWorld] Push error:",i)}}const TREE_STAGE_XP={1:0,2:100,3:300,4:700,5:1500};function getTreeStageFromXP(e){return e>=TREE_STAGE_XP[5]?5:e>=TREE_STAGE_XP[4]?4:e>=TREE_STAGE_XP[3]?3:e>=TREE_STAGE_XP[2]?2:1}const STREAK_MULTIPLIER={perDay:.1,maxMultiplier:2,daysToMax:10},COMPANION_COSTS={feed:{treatCost:10,fullnessGain:30,xpGain:50},pet:{treatCost:0,xpGain:10,cooldownMs:6e4}},COMPANION_LEVELING={xpPerLevel:e=>e*50,maxLevel:100};function getStreakMultiplier(e){const r=1+Math.min(e,STREAK_MULTIPLIER.daysToMax)*STREAK_MULTIPLIER.perDay;return Math.min(r,STREAK_MULTIPLIER.maxMultiplier)}function calculateTreatsEarned(e,r){const i=getStreakMultiplier(r),n=Math.round(e*i),a=n-e;return{base:e,bonus:a,total:n,multiplier:i}}const createDefaultCompanion=()=>({type:"fox",name:"",mood:"calm",level:1,experience:0,unlockedOutfits:["default"],lastInteraction:Date.now(),lastPetTime:void 0,lastFeedTime:void 0,interactionCount:0,fullness:70,happiness:50,hunger:30,personality:{energy:50,wisdom:50,warmth:70},treeStage:1,waterLevel:70,lastWateredAt:Date.now(),treeXP:0}),createDefaultTreatsWallet=()=>({balance:20,lifetimeEarned:20,lifetimeSpent:0,lastEarnedAt:Date.now(),transactions:[]}),createDefaultInnerWorld=()=>({treats:createDefaultTreatsWallet(),gardenStage:"empty",plants:[],creatures:[],weather:"sunny",season:getCurrentSeason(),companion:createDefaultCompanion(),totalPlantsGrown:0,totalCreaturesAttracted:0,daysActive:0,longestActiveStreak:0,currentActiveStreak:0,lastActiveDate:"",unlockedBackgrounds:["meadow"],unlockedDecorations:[],currentBackground:"meadow",decorations:[],seasonalItemsCollected:[],pendingGrowth:{plantsToGrow:0,creaturesArrived:0,companionMissedYou:!1},restDays:[]});function getCurrentSeason(){const e=new Date().getMonth();return e>=2&&e<=4?"spring":e>=5&&e<=7?"summer":e>=8&&e<=10?"autumn":"winter"}function getPlantStage(e){return e>=GROWTH_THRESHOLDS.magnificent?"magnificent":e>=GROWTH_THRESHOLDS.blooming?"blooming":e>=GROWTH_THRESHOLDS.growing?"growing":e>=GROWTH_THRESHOLDS.sprout?"sprout":"seed"}function getCreatureStage(e){return e>=CREATURE_THRESHOLDS.legendary?"legendary":e>=CREATURE_THRESHOLDS.adult?"adult":e>=CREATURE_THRESHOLDS.young?"young":e>=CREATURE_THRESHOLDS.baby?"baby":"egg"}function getGardenStage(e){return e>=GARDEN_STAGE_THRESHOLDS.legendary?"legendary":e>=GARDEN_STAGE_THRESHOLDS.magical?"magical":e>=GARDEN_STAGE_THRESHOLDS.flourishing?"flourishing":e>=GARDEN_STAGE_THRESHOLDS.growing?"growing":e>=GARDEN_STAGE_THRESHOLDS.sprouting?"sprouting":"empty"}function getRandomPosition(e){let r=0;for(;r<50;){const i=Math.random()*80+10,n=Math.random()*60+20;if(!e.some(o=>Math.abs(o.x-i)<10&&Math.abs(o.y-n)<10))return{x:i,y:n};r++}return{x:Math.random()*80+10,y:Math.random()*60+20}}function getCompanionMood(e){const r=getToday$1(),i=e.lastActiveDate===r,n=e.currentActiveStreak;if(!i&&e.lastActiveDate){const o=new Date(e.lastActiveDate),l=new Date(r);if(Math.floor((l.getTime()-o.getTime())/(1e3*60*60*24))>1)return"supportive"}if(n>=7)return"celebrating";if(n>=3)return"excited";if(i)return"happy";const a=new Date().getHours();return a>=22||a<6?"sleeping":"calm"}function useInnerWorld(){const[e,r,i]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-inner-world",initialValue:createDefaultInnerWorld(),idField:"key"});reactExports.useEffect(()=>{const U=getCurrentSeason();e.season!==U&&r({...e,season:U})},[e.season]),reactExports.useEffect(()=>{if(i)return;const U=getToday$1();if(e.lastActiveDate&&e.lastActiveDate!==U){const q=new Date(e.lastActiveDate),Y=new Date(U);Math.floor((Y.getTime()-q.getTime())/(1e3*60*60*24))>1&&r({...e,companion:{...e.companion,mood:"supportive"},pendingGrowth:{...e.pendingGrowth,companionMissedYou:!0}})}},[i,e.lastActiveDate]),reactExports.useEffect(()=>{if(i)return;const U=60*60*1e3,q=2,Y=()=>{const Q=e.companion.lastWateredAt||Date.now(),H=(Date.now()-Q)/(1e3*60*60),G=Math.floor(H)*q,_=Math.max(0,100-G);e.companion.waterLevel>_&&r({...e,companion:{...e.companion,waterLevel:_}})};Y();const fe=setInterval(Y,U);return()=>clearInterval(fe)},[i,e.companion.lastWateredAt]);const n=reactExports.useRef(null);reactExports.useEffect(()=>{if(!i)return n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{pushInnerWorldToCloud(e).catch(U=>logger.error("Failed to push inner world to cloud:",U))},5e3),()=>{n.current&&clearTimeout(n.current)}},[i,e]);const a=reactExports.useCallback((U,q)=>{const Y=U==="mood"?"flower":U==="habit"?"tree":U==="focus"?"crystal":"mushroom",fe=q?MOOD_COLORS[q]:"#22c55e",Q=e.plants.map(K=>K.position),H={id:generateId$1(),type:Y,stage:"seed",color:fe,plantedAt:Date.now(),lastWateredAt:Date.now(),growthPoints:0,position:getRandomPosition(Q),sourceActivity:U,isSpecial:Math.random()<.05},G=getToday$1(),_=e.lastActiveDate!==G,O=_?e.lastActiveDate&&new Date(G).getTime()-new Date(e.lastActiveDate).getTime()<2*24*60*60*1e3?e.currentActiveStreak+1:1:e.currentActiveStreak,V={...e,plants:[...e.plants,H],totalPlantsGrown:e.totalPlantsGrown+1,gardenStage:getGardenStage(e.totalPlantsGrown+1),lastActiveDate:G,daysActive:_?e.daysActive+1:e.daysActive,currentActiveStreak:O,longestActiveStreak:Math.max(e.longestActiveStreak,O),companion:{...e.companion,mood:getCompanionMood({...e,currentActiveStreak:O,lastActiveDate:G}),experience:e.companion.experience+10},pendingGrowth:{plantsToGrow:0,creaturesArrived:0,companionMissedYou:!1}},W=V.companion.level*100;return V.companion.experience>=W&&(V.companion.level+=1,V.companion.experience-=W),r(V),H},[e,r]),o=reactExports.useCallback(U=>{const q=e.plants.map(Y=>{if(Y.sourceActivity===U){const fe=Y.growthPoints+5;return{...Y,growthPoints:fe,stage:getPlantStage(fe),lastWateredAt:Date.now()}}return Y});r({...e,plants:q})},[e,r]),l=reactExports.useCallback(()=>{const U=["butterfly","bird","firefly","spirit"],q=U[Math.floor(Math.random()*U.length)],Y=[...e.plants.map(Q=>Q.position),...e.creatures.map(Q=>Q.position)],fe={id:generateId$1(),type:q,stage:"egg",color:"#fbbf24",arrivedAt:Date.now(),happiness:0,position:getRandomPosition(Y),isSpecial:Math.random()<.1};return r({...e,creatures:[...e.creatures,fe],totalCreaturesAttracted:e.totalCreaturesAttracted+1}),fe},[e,r]),c=reactExports.useCallback(()=>{const U=e.creatures.map(q=>{const Y=Math.min(100,q.happiness+10);return{...q,happiness:Y,stage:getCreatureStage(Y)}});r({...e,creatures:U})},[e,r]),d=reactExports.useCallback(U=>{r({...e,companion:{...e.companion,type:U}})},[e,r]),p=reactExports.useCallback(U=>{r({...e,companion:{...e.companion,name:U}})},[e,r]),g=reactExports.useCallback(()=>{r({...e,pendingGrowth:{plantsToGrow:0,creaturesArrived:0,companionMissedYou:!1}})},[e,r]),y=reactExports.useCallback((U,q,Y)=>{const fe=e.currentActiveStreak,{total:Q,bonus:H,multiplier:G}=calculateTreatsEarned(q,fe),O=[{id:generateId$1(),amount:Q,source:U,timestamp:Date.now(),description:Y||`${U} +${Q}`},...e.treats?.transactions||[]].slice(0,50),V={balance:(e.treats?.balance||0)+Q,lifetimeEarned:(e.treats?.lifetimeEarned||0)+Q,lifetimeSpent:e.treats?.lifetimeSpent||0,lastEarnedAt:Date.now(),transactions:O};return r({...e,treats:V}),{earned:Q,bonus:H,multiplier:G,newBalance:V.balance}},[e,r]),x=reactExports.useCallback((U,q)=>{const Y=e.treats?.balance||0;if(Y<U)return!1;const Q=[{id:generateId$1(),amount:-U,source:"mood",timestamp:Date.now(),description:q},...e.treats?.transactions||[]].slice(0,50),H={...e.treats,balance:Y-U,lifetimeSpent:(e.treats?.lifetimeSpent||0)+U,transactions:Q};return r({...e,treats:H}),!0},[e,r]),S=reactExports.useCallback(()=>{const U=Date.now(),Y=(e.companion.lastPetTime?U-e.companion.lastPetTime:1/0)>COMPANION_COSTS.pet.cooldownMs,fe=Y?COMPANION_COSTS.pet.xpGain:2;let Q=e.companion.experience+fe,H=e.companion.level;const G=COMPANION_LEVELING.xpPerLevel(H);return Q>=G&&(H+=1,Q-=G),r({...e,companion:{...e.companion,lastPetTime:U,lastInteraction:U,interactionCount:(e.companion.interactionCount||0)+1,experience:Q,level:H}}),{xpGain:fe,canPetAgain:Y,leveledUp:H>e.companion.level,newLevel:H}},[e,r]),b=reactExports.useCallback(()=>{const U=Date.now(),q=COMPANION_COSTS.feed.treatCost,Y=e.treats?.balance||0;if(Y<q)return{success:!1,reason:"not_enough_treats",needed:q,have:Y,fullnessGain:0,xpGain:0};const fe=COMPANION_COSTS.feed.fullnessGain,Q=COMPANION_COSTS.feed.xpGain,H=Math.min(100,(e.companion.fullness||50)+fe),G=100-H,_=Math.min(100,Math.max(30,H)),V=[{id:generateId$1(),amount:-q,source:"mood",timestamp:U,description:"Feed companion"},...e.treats?.transactions||[]].slice(0,50);let W=e.companion.experience+Q,K=e.companion.level;const Ee=COMPANION_LEVELING.xpPerLevel(K);return W>=Ee&&(K+=1,W-=Ee),r({...e,treats:{...e.treats,balance:Y-q,lifetimeSpent:(e.treats?.lifetimeSpent||0)+q,transactions:V},companion:{...e.companion,fullness:H,hunger:G,happiness:_,lastFeedTime:U,lastInteraction:U,interactionCount:(e.companion.interactionCount||0)+1,experience:W,level:K,mood:_>=80?"excited":_>=50?"happy":"calm"}}),{success:!0,fullnessGain:fe,xpGain:Q,treatCost:q,newBalance:Y-q,leveledUp:K>e.companion.level,newLevel:K}},[e,r]),T={water:{treatCost:10,waterGain:30,xpGain:50},touch:{xpGain:10,cooldownMs:6e4}},N=reactExports.useCallback(()=>{const U=Date.now(),q=T.water.treatCost,Y=e.treats?.balance||0;if(Y<q)return{success:!1,reason:"not_enough_treats",needed:q,have:Y,waterGain:0,xpGain:0};const fe=T.water.waterGain,Q=T.water.xpGain,H=Math.min(100,(e.companion.waterLevel||0)+fe),G=(e.companion.treeXP||0)+Q,_=getTreeStageFromXP(G),V=[{id:generateId$1(),amount:-q,source:"mood",timestamp:U,description:"Water tree"},...e.treats?.transactions||[]].slice(0,50),W=_>(e.companion.treeStage||1);return r({...e,treats:{...e.treats,balance:Y-q,lifetimeSpent:(e.treats?.lifetimeSpent||0)+q,transactions:V},companion:{...e.companion,waterLevel:H,treeXP:G,treeStage:_,lastWateredAt:U,lastInteraction:U,interactionCount:(e.companion.interactionCount||0)+1}}),{success:!0,waterGain:fe,xpGain:Q,treatCost:q,newBalance:Y-q,newWaterLevel:H,newTreeXP:G,stageUp:W,newStage:_}},[e,r]),k=reactExports.useCallback(()=>{const U=Date.now(),Y=(e.companion.lastPetTime?U-e.companion.lastPetTime:1/0)>T.touch.cooldownMs,fe=Y?T.touch.xpGain:2,Q=(e.companion.treeXP||0)+fe,H=getTreeStageFromXP(Q),G=H>(e.companion.treeStage||1);return r({...e,companion:{...e.companion,treeXP:Q,treeStage:H,lastPetTime:U,lastInteraction:U,interactionCount:(e.companion.interactionCount||0)+1}}),{xpGain:fe,canTouchAgain:Y,stageUp:G,newStage:H,newTreeXP:Q}},[e,r]),C=reactExports.useCallback(()=>{const U=Date.now(),q=2,Y=3,fe=Math.min(100,e.companion.personality.wisdom+q);return r({...e,companion:{...e.companion,lastInteraction:U,interactionCount:(e.companion.interactionCount||0)+1,experience:e.companion.experience+Y,personality:{...e.companion.personality,wisdom:fe}}}),{wisdomGain:q,xpGain:Y}},[e,r]),A=reactExports.useCallback((U,q)=>{const Y=Date.now();let fe=5,Q=3,H={energy:0,wisdom:0,warmth:0};switch(U){case"mood":q==="great"||q==="good"?(H.warmth=3,fe=10):(q==="bad"||q==="terrible")&&(fe=2,H.warmth=5);break;case"habit":H.energy=3,fe=8;break;case"focus":H.wisdom=3,H.energy=2,fe=10;break;case"gratitude":H.warmth=5,fe=12;break}const G=Math.min(100,(e.companion.happiness||50)+fe),_=Math.min(100,(e.companion.hunger||50)+Q);r({...e,companion:{...e.companion,happiness:G,hunger:_,lastInteraction:Y,mood:G>=80?"excited":G>=50?"happy":"calm",personality:{energy:Math.min(100,e.companion.personality.energy+H.energy),wisdom:Math.min(100,e.companion.personality.wisdom+H.wisdom),warmth:Math.min(100,e.companion.personality.warmth+H.warmth)}}})},[e,r]),R=reactExports.useMemo(()=>({totalPlants:e.plants.length,bloomingPlants:e.plants.filter(U=>U.stage==="blooming"||U.stage==="magnificent").length,totalCreatures:e.creatures.length,happyCreatures:e.creatures.filter(U=>U.happiness>=50).length,companionLevel:e.companion.level,daysActive:e.daysActive,currentStreak:e.currentActiveStreak}),[e]),I=getToday$1(),F=7,z=reactExports.useMemo(()=>(e.restDays||[]).includes(I),[e.restDays,I]),B=reactExports.useMemo(()=>{const U=e.restDays||[],q=new Date(I),Y=U.filter(H=>{if(H===I)return!1;const G=new Date(H),O=(q.getTime()-G.getTime())/(1e3*60*60*24);return O>=0&&O<F}),fe=Y.length===0;let Q=0;if(!fe&&Y.length>0){const H=Y.sort().reverse()[0],G=new Date(H),_=new Date(G.getTime()+F*24*60*60*1e3);Q=Math.ceil((_.getTime()-q.getTime())/(1e3*60*60*24))}return{canActivate:fe,daysUntilAvailable:Q,usedThisWeek:Y.length}},[e.restDays,I]),Z=reactExports.useCallback(()=>{const U=e.restDays||[];return U.includes(I)?{success:!1,reason:"already_resting"}:B.canActivate?(r({...e,restDays:[...U,I],lastActiveDate:I}),{success:!0}):{success:!1,reason:"cooldown",daysUntilAvailable:B.daysUntilAvailable}},[e,r,I,B]),re=reactExports.useCallback(()=>{const U=e.restDays||[];r({...e,restDays:U.filter(q=>q!==I)})},[e,r,I]);return{world:e,isLoading:i,earnTreats:y,spendTreats:x,treatsBalance:e.treats?.balance||0,plantSeed:a,waterPlants:o,attractCreature:l,feedCreatures:c,setCompanionType:d,renameCompanion:p,clearWelcomeBack:g,petCompanion:S,feedCompanion:b,talkToCompanion:C,updateCompanionFromActivity:A,waterTree:N,touchTree:k,gardenStats:R,getPlantEmoji:U=>PLANT_EMOJIS[U.type][U.stage],getCreatureEmoji:U=>CREATURE_EMOJIS[U.type][U.stage],getCompanionEmoji:()=>COMPANION_EMOJIS[e.companion.type],FEED_COST:COMPANION_COSTS.feed.treatCost,WATER_COST:10,treeStage:e.companion.treeStage||1,treeWaterLevel:e.companion.waterLevel||0,treeXP:e.companion.treeXP||0,isRestMode:z,activateRestMode:Z,deactivateRestMode:re,canActivateRestMode:B.canActivate,daysUntilRestAvailable:B.daysUntilAvailable}}const badgeDefinitions=[{id:"badge_streak_7",category:"streak",icon:"",title:{en:"Week Warrior",ru:" ",uk:" ",es:"Guerrero semanal",de:"Wochen-Krieger",fr:"Guerrier hebdomadaire"},description:{en:"Maintained a 7-day streak",ru:"  7 ",uk:"  7 ",es:"Mantuviste una racha de 7 das",de:"Habe einen 7-Tage-Streak gehalten",fr:"Maintenu une srie de 7 jours"},requirement:7,unlocked:!1,rarity:"common"},{id:"badge_streak_30",category:"streak",icon:"",title:{en:"Monthly Master",ru:" ",uk:" ",es:"Maestro mensual",de:"Monats-Meister",fr:"Matre mensuel"},description:{en:"Completed a full month streak",ru:"  ",uk:"  ",es:"Completaste una racha de un mes completo",de:"Habe einen ganzen Monat durchgehalten",fr:"Complt une srie d'un mois"},requirement:30,unlocked:!1,rarity:"rare"},{id:"badge_streak_100",category:"streak",icon:"",title:{en:"Century Legend",ru:" ",uk:" ",es:"Leyenda centenaria",de:"Jahrhundert-Legende",fr:"Lgende centenaire"},description:{en:"Achieved legendary 100-day streak",ru:"  100- ",uk:"  100- ",es:"Lograste una legendaria racha de 100 das",de:"Erreichte legendren 100-Tage-Streak",fr:"Atteint une srie lgendaire de 100 jours"},requirement:100,unlocked:!1,rarity:"legendary"},{id:"badge_focus_300",category:"focus",icon:"",title:{en:"Focus Initiate",ru:"  ",uk:"  ",es:"Iniciado en concentracin",de:"Fokus-Eingeweihter",fr:"Initi  la concentration"},description:{en:"Completed 5 hours of focus time",ru:" 5  -",uk:" 5  -",es:"Completaste 5 horas de tiempo de concentracin",de:"Habe 5 Stunden Fokuszeit abgeschlossen",fr:"Complt 5 heures de temps de concentration"},requirement:300,unlocked:!1,rarity:"common"},{id:"badge_focus_1000",category:"focus",icon:"",title:{en:"Deep Work Master",ru:"  ",uk:"  ",es:"Maestro del trabajo profundo",de:"Deep-Work-Meister",fr:"Matre du travail profond"},description:{en:"Accumulated 1000 minutes of deep work",ru:" 1000   ",uk:" 1000   ",es:"Acumulaste 1000 minutos de trabajo profundo",de:"Habe 1000 Minuten konzentrierte Arbeit gesammelt",fr:"Accumul 1000 minutes de travail profond"},requirement:1e3,unlocked:!1,rarity:"epic"},{id:"badge_focus_3000",category:"focus",icon:"",title:{en:"Concentration Virtuoso",ru:" ",uk:" ",es:"Virtuoso de la concentracin",de:"Konzentrations-Virtuose",fr:"Virtuose de la concentration"},description:{en:"Achieved 3000 minutes of focused work",ru:" 3000   ",uk:" 3000   ",es:"Lograste 3000 minutos de trabajo concentrado",de:"Habe 3000 Minuten fokussierte Arbeit erreicht",fr:"Atteint 3000 minutes de travail concentr"},requirement:3e3,unlocked:!1,rarity:"legendary"},{id:"badge_gratitude_30",category:"gratitude",icon:"",title:{en:"Grateful Soul",ru:" ",uk:" ",es:"Alma agradecida",de:"Dankbare Seele",fr:"me reconnaissante"},description:{en:"Wrote 30 gratitude entries",ru:" 30  ",uk:" 30  ",es:"Escribiste 30 entradas de gratitud",de:"Habe 30 Dankbarkeitseintrge geschrieben",fr:"crit 30 entres de gratitude"},requirement:30,unlocked:!1,rarity:"rare"},{id:"badge_gratitude_100",category:"gratitude",icon:"",title:{en:"Gratitude Guardian",ru:" ",uk:" ",es:"Guardin de gratitud",de:"Dankbarkeits-Wchter",fr:"Gardien de la gratitude"},description:{en:"Reached 100 gratitude reflections",ru:" 100   ",uk:" 100   ",es:"Alcanzaste 100 reflexiones de gratitud",de:"Habe 100 Dankbarkeitsreflexionen erreicht",fr:"Atteint 100 rflexions de gratitude"},requirement:100,unlocked:!1,rarity:"epic"},{id:"badge_habit_50",category:"habit",icon:"",title:{en:"Habit Builder",ru:" ",uk:" ",es:"Constructor de hbitos",de:"Gewohnheits-Erbauer",fr:"Constructeur d'habitudes"},description:{en:"Completed 50 habits",ru:" 50 ",uk:" 50 ",es:"Completaste 50 hbitos",de:"Habe 50 Gewohnheiten abgeschlossen",fr:"Complt 50 habitudes"},requirement:50,unlocked:!1,rarity:"common"},{id:"badge_habit_200",category:"habit",icon:"",title:{en:"Habit Hero",ru:" ",uk:" ",es:"Hroe de hbitos",de:"Gewohnheits-Held",fr:"Hros des habitudes"},description:{en:"Completed 200 habits",ru:" 200 ",uk:" 200 ",es:"Completaste 200 hbitos",de:"Habe 200 Gewohnheiten abgeschlossen",fr:"Complt 200 habitudes"},requirement:200,unlocked:!1,rarity:"rare"},{id:"badge_habit_500",category:"habit",icon:"",title:{en:"Habit Royalty",ru:" ",uk:" ",es:"Realeza de hbitos",de:"Gewohnheits-Knigtum",fr:"Royaut des habitudes"},description:{en:"Completed 500 habits",ru:" 500 ",uk:" 500 ",es:"Completaste 500 hbitos",de:"Habe 500 Gewohnheiten abgeschlossen",fr:"Complt 500 habitudes"},requirement:500,unlocked:!1,rarity:"epic"},{id:"badge_special_first_habit",category:"special",icon:"",title:{en:"First Steps",ru:" ",uk:" ",es:"Primeros pasos",de:"Erste Schritte",fr:"Premiers pas"},description:{en:"Completed your first habit",ru:"  ",uk:"  ",es:"Completaste tu primer hbito",de:"Habe deine erste Gewohnheit abgeschlossen",fr:"Complt ta premire habitude"},requirement:1,unlocked:!1,rarity:"common"},{id:"badge_special_perfectionist",category:"special",icon:"",title:{en:"Perfectionist",ru:"",uk:"",es:"Perfeccionista",de:"Perfektionist",fr:"Perfectionniste"},description:{en:"Completed all habits in a day 10 times",ru:"     10 ",uk:"     10 ",es:"Completaste todos los hbitos en un da 10 veces",de:"Habe alle Gewohnheiten an einem Tag 10 Mal abgeschlossen",fr:"Complt toutes les habitudes en un jour 10 fois"},requirement:10,unlocked:!1,rarity:"rare"},{id:"badge_special_early_bird",category:"special",icon:"",title:{en:"Early Bird",ru:" ",uk:" ",es:"Madrugador",de:"Frhaufsteher",fr:"Lve-tt"},description:{en:"Completed habits before 8 AM 20 times",ru:"   8  20 ",uk:"   8  20 ",es:"Completaste hbitos antes de las 8 AM 20 veces",de:"Habe Gewohnheiten vor 8 Uhr 20 Mal abgeschlossen",fr:"Complt des habitudes avant 8h 20 fois"},requirement:20,unlocked:!1,rarity:"epic"},{id:"badge_special_night_owl",category:"special",icon:"",title:{en:"Night Owl",ru:" ",uk:" ",es:"Ave nocturna",de:"Nachteule",fr:"Oiseau de nuit"},description:{en:"Completed habits after 10 PM 20 times",ru:"   10  20 ",uk:"   10  20 ",es:"Completaste hbitos despus de las 10 PM 20 veces",de:"Habe Gewohnheiten nach 22 Uhr 20 Mal abgeschlossen",fr:"Complt des habitudes aprs 22h 20 fois"},requirement:20,unlocked:!1,rarity:"epic"},{id:"badge_special_zen_master",category:"special",icon:"",title:{en:"Zen Master",ru:" ",uk:" ",es:"Maestro Zen",de:"Zen-Meister",fr:"Matre Zen"},description:{en:"Maintained perfect balance for 30 days",ru:"   30 ",uk:"   30 ",es:"Mantuviste el equilibrio perfecto durante 30 das",de:"Habe perfekte Balance 30 Tage gehalten",fr:"Maintenu un quilibre parfait pendant 30 jours"},requirement:30,unlocked:!1,rarity:"legendary"}];function getBadgeById(e){return badgeDefinitions.find(r=>r.id===e)}function getRarityColor(e){switch(e){case"common":return"text-gray-400";case"rare":return"text-blue-400";case"epic":return"text-purple-400";case"legendary":return"text-yellow-400";default:return"text-gray-400"}}const CHALLENGES_KEY="zenflow_challenges",BADGES_KEY="zenflow_badges";function getChallenges(){return safeLocalStorageGet(CHALLENGES_KEY,[])}function saveChallenges(e){try{localStorage.setItem(CHALLENGES_KEY,JSON.stringify(e))}catch(r){logger.error("Failed to save challenges:",r)}}function addChallenge(e){const r=getChallenges();r.push(e),saveChallenges(r)}function getBadges(){const e=safeLocalStorageGet(BADGES_KEY,null);return e||initializeBadges()}function initializeBadges(){const e=badgeDefinitions.map(r=>({...r,unlocked:!1}));return saveBadges(e),e}function saveBadges(e){try{localStorage.setItem(BADGES_KEY,JSON.stringify(e))}catch(r){logger.error("Failed to save badges:",r)}}function unlockBadge(e){const r=getBadges(),i=r.find(n=>n.id===e);return i&&!i.unlocked?(i.unlocked=!0,i.unlockedDate=formatDate$1(new Date),saveBadges(r),i):null}function updateChallengeProgress(e,r){const i=getChallenges(),n=i.find(a=>a.id===e);return n&&!n.completed?(n.progress=r,r>=n.target&&(n.completed=!0,n.completedDate=formatDate$1(new Date),n.reward&&unlockBadge(n.reward)),saveChallenges(i),n):null}function syncChallengeProgress(e,r,i){const n=getChallenges(),a=[];return n.forEach(o=>{if(o.completed)return;let l=o.progress;switch(o.type){case"streak":l=e.currentStreak;break;case"focus":l=r;break;case"gratitude":l=i;break;case"total":l=e.habitsCompleted;break}if(l!==o.progress){const c=updateChallengeProgress(o.id,l);if(c?.completed&&c.reward){const d=unlockBadge(c.reward);d&&a.push(d)}}}),a}function challengeToSupabase(e,r){return{user_id:r,challenge_id:e.id,type:e.type,progress:e.progress,target:e.target,completed:e.completed,started_at:e.startDate,completed_at:e.completedDate||null,icon:e.icon,title:e.title,description:e.description,habit_id:e.habitId||null,end_date:e.endDate||null,reward:e.reward||null}}function supabaseToChallengeLocal(e){return{id:e.challenge_id,type:e.type,progress:e.progress,target:e.target,completed:e.completed,startDate:e.started_at,completedDate:e.completed_at||void 0,icon:e.icon,title:e.title,description:e.description,habitId:e.habit_id||void 0,endDate:e.end_date||void 0,reward:e.reward||void 0}}function badgeToSupabase(e,r){return{user_id:r,badge_id:e.id,category:e.category,unlocked:e.unlocked,unlocked_at:e.unlockedDate||null,icon:e.icon,title:e.title,description:e.description,requirement:e.requirement,rarity:e.rarity}}function supabaseToBadgeLocal(e){return{id:e.badge_id,category:e.category,unlocked:e.unlocked,unlockedDate:e.unlocked_at||void 0,icon:e.icon,title:e.title,description:e.description,requirement:e.requirement,rarity:e.rarity}}async function syncChallengesWithCloud(e){let r={challenges:getChallenges()};return await syncOrchestrator.sync("challenges",async()=>{try{const i=getChallenges(),{data:n,error:a}=await supabase.from("user_challenges").select("*").eq("user_id",e);if(a)throw logger.error("Failed to fetch challenges from cloud:",a),r={challenges:i,error:a.message},new Error(a.message);const o=new Map;(n||[]).forEach(p=>{o.set(p.challenge_id,p)});const l=new Map;i.forEach(p=>{l.set(p.id,p)});const c=[],d=[];if(o.forEach((p,g)=>{c.push(supabaseToChallengeLocal(p))}),l.forEach((p,g)=>{o.has(g)||(c.push(p),d.push(challengeToSupabase(p,e)))}),d.length>0){const{error:p}=await supabase.from("user_challenges").upsert(d,{onConflict:"user_id,challenge_id"});if(p)throw logger.error("Failed to push challenges to cloud:",p),new Error(p.message)}saveChallenges(c),triggerDataRefresh(),logger.log("[ChallengesSync] Data refresh triggered after merge"),r={challenges:c}}catch(i){throw logger.error("Sync challenges error:",i),r={challenges:getChallenges(),error:i instanceof Error?i.message:"Unknown error"},i}},{priority:6,maxRetries:3}),r}async function syncBadgesWithCloud(e){let r={badges:getBadges()};return await syncOrchestrator.sync("badges",async()=>{try{const i=getBadges(),{data:n,error:a}=await supabase.from("user_badges").select("*").eq("user_id",e);if(a)throw logger.error("Failed to fetch badges from cloud:",a),r={badges:i,error:a.message},new Error(a.message);const o=new Map;(n||[]).forEach(p=>{o.set(p.badge_id,p)});const l=new Map;i.forEach(p=>{l.set(p.id,p)});const c=[],d=[];if(l.forEach((p,g)=>{const y=o.get(g);y?c.push(supabaseToBadgeLocal(y)):(c.push(p),p.unlocked&&d.push(badgeToSupabase(p,e)))}),d.length>0){const{error:p}=await supabase.from("user_badges").upsert(d,{onConflict:"user_id,badge_id"});if(p)throw logger.error("Failed to push badges to cloud:",p),new Error(p.message)}saveBadges(c),triggerDataRefresh(),logger.log("[BadgesSync] Data refresh triggered after merge"),r={badges:c}}catch(i){throw logger.error("Sync badges error:",i),r={badges:getBadges(),error:i instanceof Error?i.message:"Unknown error"},i}},{priority:6,maxRetries:3}),r}function subscribeToChallengeUpdates(e,r){const i=supabase.channel(`user_challenges-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"user_challenges",filter:`user_id=eq.${e}`},n=>{if(n.new){const a=supabaseToChallengeLocal(n.new);r(a)}}).subscribe();return()=>{i.unsubscribe(),supabase.removeChannel(i)}}function subscribeToBadgeUpdates(e,r){const i=supabase.channel(`user_badges-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"user_badges",filter:`user_id=eq.${e}`},n=>{if(n.new){const a=supabaseToBadgeLocal(n.new);r(a)}}).subscribe();return()=>{i.unsubscribe(),supabase.removeChannel(i)}}const TASKS_STORAGE_KEY="zenflow_tasks",QUESTS_STORAGE_KEY$1="zenflow_quests",UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,isValidUUID=e=>typeof e=="string"&&UUID_REGEX.test(e);function taskToRow(e,r){return{user_id:r,task_id:e.id,name:e.name,description:e.description,urgent:e.urgent,estimated_minutes:e.estimatedMinutes,user_rating:e.userRating,completed:e.completed,due_date:e.dueDate,category:e.category}}function rowToTask(e){return{id:e.task_id,name:e.name,description:e.description,urgent:e.urgent,estimatedMinutes:e.estimated_minutes,userRating:e.user_rating,completed:e.completed,dueDate:e.due_date,category:e.category}}function questToRow(e,r){return{user_id:r,quest_id:e.id,type:e.type,category:e.category,title:e.title,description:e.description,condition:e.condition,reward:e.reward,progress:e.progress,total:e.total,completed:e.completed,expires_at:new Date(e.expiresAt).toISOString()}}function rowToQuest(e){return{id:e.quest_id,type:e.type,category:e.category,title:e.title,description:e.description,condition:e.condition,reward:e.reward,progress:e.progress,total:e.total,completed:e.completed,expiresAt:new Date(e.expires_at).getTime(),createdAt:Date.now()}}async function pullTasksFromCloud(){const{data:{user:e}}=await supabase.auth.getUser();if(!e)return null;const{data:r,error:i}=await supabase.from("user_tasks").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});return i?(logger.error("Error pulling tasks:",i),null):(r||[]).map(rowToTask)}async function pushTasksToCloud(e){const{data:{user:r}}=await supabase.auth.getUser();if(!r)return;const i=e.map(a=>taskToRow(a,r.id)),{error:n}=await supabase.from("user_tasks").upsert(i,{onConflict:"user_id,task_id",ignoreDuplicates:!1});n&&logger.error("Error pushing tasks:",n)}async function syncTasks(){let e=[];return await syncOrchestrator.sync("tasks",async()=>{const r=safeLocalStorageGet(TASKS_STORAGE_KEY,[]),i=await pullTasksFromCloud();if(i===null){e=r;return}const n=new Map;r.forEach(a=>{n.set(a.id,a)}),i.forEach(a=>{n.set(a.id,a)}),e=Array.from(n.values()),safeLocalStorageSet(TASKS_STORAGE_KEY,e),triggerDataRefresh(),await pushTasksToCloud(e)},{priority:7,maxRetries:3}),e}async function pullQuestsFromCloud(){const{data:{user:e}}=await supabase.auth.getUser();if(!e)return;const{data:r,error:i}=await supabase.from("user_quests").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});if(i){logger.error("Error pulling quests:",i);return}const n=(r||[]).map(rowToQuest);return{daily:n.find(a=>a.type==="daily")||null,weekly:n.find(a=>a.type==="weekly")||null,bonus:n.find(a=>a.type==="bonus")||null}}async function pushQuestsToCloud(e){const{data:{user:r}}=await supabase.auth.getUser();if(!r)return;const i=[];if(e.daily&&i.push(questToRow(e.daily,r.id)),e.weekly&&i.push(questToRow(e.weekly,r.id)),e.bonus&&i.push(questToRow(e.bonus,r.id)),i.length===0)return;const{error:n}=await supabase.from("user_quests").upsert(i,{onConflict:"user_id,quest_id",ignoreDuplicates:!1});n&&logger.error("Error pushing quests:",n)}async function syncQuests(){const e={daily:null,weekly:null,bonus:null};let r=e;return await syncOrchestrator.sync("quests",async()=>{const i=safeLocalStorageGet(QUESTS_STORAGE_KEY$1,e),n=await pullQuestsFromCloud();if(n===void 0){r=i;return}r={daily:n.daily||i.daily,weekly:n.weekly||i.weekly,bonus:n.bonus||i.bonus},safeLocalStorageSet(QUESTS_STORAGE_KEY$1,r),triggerDataRefresh(),await pushQuestsToCloud(r)},{priority:7,maxRetries:3}),r}function subscribeToTaskUpdates(e,r){if(!e)return()=>{};if(!isValidUUID(e))return()=>{};const i=supabase.channel(`tasks-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"user_tasks",filter:`user_id=eq.${e}`},async()=>{const n=await pullTasksFromCloud();n!==null&&(safeLocalStorageSet(TASKS_STORAGE_KEY,n),triggerDataRefresh())}).subscribe();return()=>{i.unsubscribe(),supabase.removeChannel(i)}}function subscribeToQuestUpdates(e,r){if(!e)return()=>{};if(!isValidUUID(e))return()=>{};const i=supabase.channel(`quests-changes-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"user_quests",filter:`user_id=eq.${e}`},async()=>{const n=await pullQuestsFromCloud();n!==void 0&&(safeLocalStorageSet(QUESTS_STORAGE_KEY$1,n),triggerDataRefresh())}).subscribe();return()=>{i.unsubscribe(),supabase.removeChannel(i)}}function getCurrentLanguage(){try{return localStorage.getItem("zenflow-language")||"en"}catch{return"en"}}function getQuestTranslations(e){const r=getCurrentLanguage();return translations[r]||translations.en}const QUEST_TEMPLATES=[{category:"habits",difficulty:"easy",templates:[{titleKey:"questMorningMomentum",descriptionKey:"questMorningMomentumDesc",condition:{type:"complete_habits",beforeTime:"12:00"},baseReward:50},{titleKey:"questHabitMaster",descriptionKey:"questHabitMasterDesc",condition:{type:"complete_habits"},baseReward:75},{titleKey:"questSpeedDemon",descriptionKey:"questSpeedDemonDesc",condition:{type:"complete_habits",timeLimit:30},baseReward:100,badgeReward:"Speed Demon"}]},{category:"focus",difficulty:"medium",templates:[{titleKey:"questFocusFlow",descriptionKey:"questFocusFlowDesc",condition:{type:"focus_minutes"},baseReward:75},{titleKey:"questDeepWork",descriptionKey:"questDeepWorkDesc",condition:{type:"focus_minutes"},baseReward:150,badgeReward:"Deep Focus"},{titleKey:"questHyperfocusHero",descriptionKey:"questHyperfocusHeroDesc",condition:{type:"focus_minutes"},baseReward:250,badgeReward:"Hyperfocus Hero"}]},{category:"streak",difficulty:"hard",templates:[{titleKey:"questStreakKeeper",descriptionKey:"questStreakKeeperDesc",condition:{type:"maintain_streak"},baseReward:200,badgeReward:"Streak Keeper"},{titleKey:"questConsistencyKing",descriptionKey:"questConsistencyKingDesc",condition:{type:"maintain_streak"},baseReward:500,badgeReward:"Consistency King"}]},{category:"gratitude",difficulty:"easy",templates:[{titleKey:"questGratitudeSprint",descriptionKey:"questGratitudeSprintDesc",condition:{type:"gratitude_count",timeLimit:5},baseReward:50},{titleKey:"questThankfulHeart",descriptionKey:"questThankfulHeartDesc",condition:{type:"gratitude_count"},baseReward:100,badgeReward:"Thankful Heart"}]},{category:"speed",difficulty:"medium",templates:[{titleKey:"questLightningRound",descriptionKey:"questLightningRoundDesc",condition:{type:"speed_challenge",timeLimit:15},baseReward:125,badgeReward:"Lightning Fast"}]},{category:"consistency",difficulty:"hard",templates:[{titleKey:"questWeeklyWarrior",descriptionKey:"questWeeklyWarriorDesc",condition:{type:"consecutive_days"},baseReward:300,badgeReward:"Weekly Warrior"}]}];function generateDailyQuest(){const e=getQuestTranslations(),r=QUEST_TEMPLATES.filter(g=>g.difficulty==="easy"||g.difficulty==="medium"),i=r[Math.floor(Math.random()*r.length)],n=i.templates[Math.floor(Math.random()*i.templates.length)],a=e[n.titleKey],o=e[n.descriptionKey];let l=3,c=3;n.condition.type==="complete_habits"?(l=n.condition.beforeTime?3:5,c=l):n.condition.type==="focus_minutes"?(l=o.includes("30")?30:o.includes("60")?60:90,c=l):n.condition.type==="gratitude_count"&&(l=o.includes("5")?5:10,c=l);const d=Date.now(),p=new Date;return p.setHours(23,59,59,999),{id:`quest-daily-${d}`,type:"daily",category:i.category,title:a,description:o,condition:{...n.condition,count:l},reward:{xp:n.baseReward,badge:n.badgeReward,message:`${a} completed! +${n.baseReward} XP`},progress:0,total:c,completed:!1,expiresAt:p.getTime(),createdAt:d}}function generateWeeklyQuest(){const e=getQuestTranslations(),r=QUEST_TEMPLATES[Math.floor(Math.random()*QUEST_TEMPLATES.length)],i=r.templates[Math.floor(Math.random()*r.templates.length)],n=e[i.titleKey],a=e[i.descriptionKey];let o=7,l=7;i.condition.type==="maintain_streak"?(o=a.includes("14")?14:7,l=o):i.condition.type==="consecutive_days"?(o=7,l=7):i.condition.type==="focus_minutes"&&(o=300,l=300);const c=Date.now(),d=new Date;return d.setDate(d.getDate()+7),d.setHours(23,59,59,999),{id:`quest-weekly-${c}`,type:"weekly",category:r.category,title:`Weekly: ${n}`,description:a,condition:{...i.condition,count:o},reward:{xp:i.baseReward*3,badge:i.badgeReward,message:`Weekly ${n} completed! +${i.baseReward*3} XP`},progress:0,total:l,completed:!1,expiresAt:d.getTime(),createdAt:c}}function generateBonusQuest(){const e=getQuestTranslations(),r=QUEST_TEMPLATES.flatMap(g=>g.templates.filter(y=>y.badgeReward)),i=r[Math.floor(Math.random()*r.length)],n=QUEST_TEMPLATES.find(g=>g.templates.some(y=>y.titleKey===i.titleKey)),a=e[i.titleKey],o=e[i.descriptionKey];let l=10,c=10;i.condition.type==="focus_minutes"?(l=120,c=120):i.condition.type==="complete_habits"&&(l=10,c=10);const d=Date.now(),p=d+24*60*60*1e3;return{id:`quest-bonus-${d}`,type:"bonus",category:n.category,title:` BONUS: ${a}`,description:`${o} (Limited Time!)`,condition:{...i.condition,count:l},reward:{xp:i.baseReward*5,badge:i.badgeReward,message:`BONUS ${a} completed! +${i.baseReward*5} XP + Badge!`},progress:0,total:c,completed:!1,expiresAt:p,createdAt:d}}function updateQuestProgress(e,r){if(e.completed||Date.now()>e.expiresAt)return e;let i=e.progress;r.type==="habit_completed"&&e.condition.type==="complete_habits"||r.type==="focus_completed"&&e.condition.type==="focus_minutes"||r.type==="gratitude_added"&&e.condition.type==="gratitude_count"?i+=r.value:r.type==="streak_updated"&&e.condition.type==="maintain_streak"&&(i=r.value);const n=i>=e.total;return{...e,progress:Math.min(i,e.total),completed:n}}function shouldRegenerateQuest(e){return e.completed||Date.now()>e.expiresAt}function getQuestTimeRemaining(e){const r=Date.now(),i=e.expiresAt-r;if(i<=0)return"Expired";const n=Math.floor(i/(1e3*60*60)),a=Math.floor(n/24);return a>0?`${a}d ${n%24}h`:n>0?`${n}h`:`${Math.floor(i/(1e3*60))}m`}function getQuestCategoryEmoji(e){return{habits:"",focus:"",streak:"",gratitude:"",speed:"",consistency:""}[e]}function getQuestDifficultyColor(e){return{daily:"text-blue-500",weekly:"text-purple-500",bonus:"text-yellow-500"}[e]}const QUESTS_STORAGE_KEY="zenflow_quests";function updateAllQuestsProgress(e){try{const r=localStorage.getItem(QUESTS_STORAGE_KEY);if(!r)return[];const i=safeJsonParse(r,{}),n=[];return["daily","weekly","bonus"].forEach(a=>{const o=i[a];if(!o||o.completed||Date.now()>o.expiresAt)return;const l=o.completed,c=updateQuestProgress(o,e);c.completed&&!l&&n.push(c),i[a]=c}),localStorage.setItem(QUESTS_STORAGE_KEY,JSON.stringify(i)),n}catch(r){return logger.error("Failed to update quests progress:",r),[]}}const COMPANION_TYPES=["fox","cat","owl","rabbit","dragon"];function getContextualMessage(e,r,i,n,a,o,l,c,d){const p=new Date().getHours(),g=e.fullness??50;return g<30?r>=i?d.companionHungryCanFeed||" I'm hungry... Feed me?":d.companionHungryNoTreats||" I'm hungry... Do activities to earn treats!":c>=7?(d.companionStreakLegend||" {streak} days! You're a legend!").replace("{streak}",String(c)):c>=3?(d.companionStreakGood||" {streak} days! Keep it up!").replace("{streak}",String(c)):n?a?o?l?n&&a&&o&&l?d.companionAllDone||" Perfect day! You're amazing!":g>=70?d.companionHappy||" I love you!":p>=5&&p<12?d.companionMorning||" Good morning!":p>=12&&p<18?d.companionAfternoon||" How's your day going?":p>=18&&p<23?d.companionEvening||" Good evening!":d.companionNight||" Zzz...":d.companionAskGratitude||" What are you grateful for?":d.companionAskFocus||" Ready to focus?":d.companionAskHabits||" Time for habits!":d.companionAskMood||" How are you feeling today?"}function CompanionPanel({companion:e,isOpen:r,onClose:i,onRename:n,onChangeType:a,onPet:o,onFeed:l,treatsBalance:c,feedCost:d,streak:p,hasMoodToday:g,hasHabitsToday:y,hasFocusToday:x,hasGratitudeToday:S}){const{t:b}=useLanguage(),[T,N]=reactExports.useState(!1),[k,C]=reactExports.useState(e.name),[A,R]=reactExports.useState(""),[I,F]=reactExports.useState(null),[z,B]=reactExports.useState(!1);reactExports.useEffect(()=>{r&&R(getContextualMessage(e,c,d,g,y,x,S,p,b))},[r,e,c,d,g,y,x,S,p,b]);const Z=()=>{k.trim()&&(n(k.trim()),N(!1))},re=G=>{a(G)},U=()=>{if(z)return;B(!0);const G=o(),_=[b.petReaction1||" *purr*",b.petReaction2||" That feels nice!",b.petReaction3||" Thank you!",b.petReaction4||" I love you!"],O=_[Math.floor(Math.random()*_.length)];F(O+` +${G.xpGain} XP`),setTimeout(()=>{F(null),B(!1),G.leveledUp?R((b.companionLevelUp||" Level up! Now level {level}!").replace("{level}",String(G.newLevel))):R(getContextualMessage(e,c,d,g,y,x,S,p,b))},1500)},q=()=>{if(z)return;B(!0);const G=l();if(G.success){const _=[b.feedReaction1||" Yummy!",b.feedReaction2||" Delicious!",b.feedReaction3||" Thank you!",b.feedReaction4||" Energy!"],O=_[Math.floor(Math.random()*_.length)];F(O+` +${G.xpGain} XP`)}else{const _=(b.feedNotEnough||" Need {needed} treats, have {have}").replace("{needed}",String(G.needed)).replace("{have}",String(G.have));F(_)}setTimeout(()=>{F(null),B(!1),G.leveledUp?R((b.companionLevelUp||" Level up! Now level {level}!").replace("{level}",String(G.newLevel))):R(getContextualMessage({...e,fullness:(e.fullness||50)+(G.success?G.fullnessGain:0)},G.success&&G.newBalance||c,d,g,y,x,S,p,b))},1500)},Y=COMPANION_LEVELING.xpPerLevel(e.level),fe=e.experience/Y*100,Q=e.fullness??50,H=c>=d;return jsxRuntimeExports.jsx(AnimatePresence,{children:r&&jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 flex items-end justify-center bg-black/50 backdrop-blur-sm",style:{zIndex:"var(--z-overlay)",marginBottom:"var(--nav-height)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,role:"dialog","aria-modal":"true","aria-labelledby":"companion-panel-title",children:jsxRuntimeExports.jsxs(motion.div,{className:"w-full max-w-lg bg-gradient-to-b from-primary/10 to-background rounded-t-3xl max-h-[85vh] overflow-hidden",style:{paddingBottom:"calc(var(--nav-height) + var(--safe-bottom))"},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},onClick:G=>G.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border/50",children:[jsxRuntimeExports.jsx("h2",{id:"companion-panel-title",className:"text-lg font-semibold",children:b.myCompanion}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-500/20 rounded-full","aria-label":`${b.treats||"Treats"}: ${c}`,children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:""}),jsxRuntimeExports.jsx("span",{className:"font-bold text-orange-500",children:c})]}),jsxRuntimeExports.jsx("button",{onClick:i,"aria-label":b.close||"Close",className:"p-2 rounded-full hover:bg-muted transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(85vh-60px)]",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx(motion.div,{className:"inline-block relative mb-4",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring"},children:jsxRuntimeExports.jsxs("div",{className:cn("px-4 py-2 rounded-2xl relative",I?"bg-primary/20 text-primary":"bg-muted"),children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:I||A}),jsxRuntimeExports.jsx("div",{className:cn("absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 rotate-45",I?"bg-primary/20":"bg-muted")})]})},I||A),jsxRuntimeExports.jsx(motion.div,{className:"text-8xl mb-4",animate:z?{scale:[1,1.2,1],rotate:[-5,5,-5,0]}:{y:[0,-10,0],rotate:[-2,2,-2]},transition:{duration:z?.5:2,repeat:z?0:1/0,ease:"easeInOut"},children:COMPANION_EMOJIS[e.type]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:T?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:k,onChange:G=>C(G.target.value),className:"px-3 py-1 rounded-lg bg-muted border border-border text-center font-medium",maxLength:20,autoFocus:!0,"aria-label":b.companionName||"Companion name"}),jsxRuntimeExports.jsx("button",{onClick:Z,"aria-label":b.save||"Save",className:"p-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90",children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold",children:e.name}),jsxRuntimeExports.jsx("button",{onClick:()=>{C(e.name),N(!0)},"aria-label":b.editName||"Edit name",className:"p-2 min-w-[40px] min-h-[40px] flex items-center justify-center rounded-xl hover:bg-muted transition-colors",children:jsxRuntimeExports.jsx(PenLine,{className:"w-5 h-5 text-muted-foreground"})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("button",{onClick:U,disabled:z,className:cn("flex flex-col items-center gap-2 p-5 rounded-2xl transition-all","bg-gradient-to-br from-pink-500/20 to-red-500/20","hover:from-pink-500/30 hover:to-red-500/30 hover:scale-105","active:scale-95",z&&"opacity-50 cursor-not-allowed"),children:[jsxRuntimeExports.jsx(Hand,{className:"w-8 h-8 text-pink-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:b.pet||"Pet"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:b.free||"Free"})]}),jsxRuntimeExports.jsxs("button",{onClick:q,disabled:z||!H,className:cn("flex flex-col items-center gap-2 p-5 rounded-2xl transition-all","bg-gradient-to-br from-orange-500/20 to-yellow-500/20","hover:from-orange-500/30 hover:to-yellow-500/30 hover:scale-105","active:scale-95",Q<30&&H&&"ring-2 ring-orange-500 animate-pulse",(z||!H)&&"opacity-50 cursor-not-allowed"),children:[jsxRuntimeExports.jsx(Cookie,{className:"w-8 h-8 text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:b.feed||"Feed"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-orange-500 font-medium",children:[" ",d]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/50 rounded-2xl p-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Star,{className:"w-5 h-5 text-yellow-500"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[b.level||"Level"," ",e.level]})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.experience,"/",Y," XP"]})]}),jsxRuntimeExports.jsx("div",{className:"h-2.5 bg-muted rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-orange-500",initial:{width:0},animate:{width:`${fe}%`},transition:{duration:.5}})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/50 rounded-2xl p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium",children:[" ",b.fullness||"Fullness"]}),jsxRuntimeExports.jsxs("span",{className:cn("text-sm font-bold",Q>=70?"text-green-500":Q>=30?"text-yellow-500":"text-red-500"),children:[Q,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:cn("h-full rounded-full transition-all",Q>=70?"bg-gradient-to-r from-green-400 to-emerald-500":Q>=30?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gradient-to-r from-red-400 to-rose-500"),initial:{width:0},animate:{width:`${Q}%`},transition:{duration:.5}})}),Q<30&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:b.companionNeedsFood||"Your companion is hungry!"})]}),p>0&&jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-orange-500/20 to-red-500/20 rounded-2xl p-4 mb-6 text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-3xl mb-1",children:[" ",p]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:b.daysInRow||"days in a row"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-3 text-center",children:b.chooseCompanion||"Choose companion"}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:COMPANION_TYPES.map(G=>jsxRuntimeExports.jsx("button",{onClick:()=>re(G),"aria-label":`${b.selectCompanion||"Select"} ${G}`,"aria-pressed":e.type===G,className:cn("p-3 rounded-xl text-3xl transition-all",e.type===G?"bg-primary/20 ring-2 ring-primary scale-110":"bg-muted hover:bg-muted/80 hover:scale-105"),children:COMPANION_EMOJIS[G]},G))})]}),jsxRuntimeExports.jsx("div",{className:"text-center text-xs text-muted-foreground bg-muted/30 rounded-xl p-3",children:jsxRuntimeExports.jsxs("p",{children:[" ",b.earnTreatsHint||"Complete activities to earn treats for your companion!"]})})]})]})})})}const MOOD_SCORES={great:5,good:4,okay:3,bad:2,terrible:1};function getMoodScore(e){return MOOD_SCORES[e]}function getDayOfWeek(e){return new Date(e).getDay()}function getHourOfDay(e){return new Date(e).getHours()}function average(e){return e.length===0?0:e.reduce((r,i)=>r+i,0)/e.length}function getTimePeriod(e){return e>=5&&e<12?"morning":e>=12&&e<17?"afternoon":e>=17&&e<21?"evening":"night"}const DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],DAY_EMOJIS=["","","","","","",""];function analyzeBestMoodDay(e){if(e.length<7)return null;const r={};for(let l=0;l<7;l++)r[l]=[];e.forEach(l=>{const c=getDayOfWeek(l.date);r[c].push(getMoodScore(l.mood))});let i=-1,n=0,a=-1,o=6;return Object.entries(r).forEach(([l,c])=>{if(c.length>=2){const d=average(c);d>n&&(n=d,i=safeParseInt(l,0,0,6)),d<o&&(o=d,a=safeParseInt(l,0,0,6))}}),i===-1?null:{id:"best-mood-day",type:"pattern",icon:DAY_EMOJIS[i],titleKey:"insightBestDayTitle",descriptionKey:"insightBestDayDesc",params:{day:DAY_NAMES[i]},title:`${DAY_NAMES[i]}s are your best!`,description:`Your mood tends to be highest on ${DAY_NAMES[i]}s. Consider scheduling important tasks then.`,priority:8,data:{bestDay:i,bestAvg:n,worstDay:a,worstAvg:o}}}function analyzeMoodByTimeOfDay(e){if(e.length<10)return null;const r={morning:[],afternoon:[],evening:[],night:[]};e.forEach(o=>{const l=getTimePeriod(getHourOfDay(o.timestamp));r[l].push(getMoodScore(o.mood))});let i="",n=0;return Object.entries(r).forEach(([o,l])=>{if(l.length>=3){const c=average(l);c>n&&(n=c,i=o)}}),i?{id:"best-time-of-day",type:"pattern",icon:{morning:"",afternoon:"",evening:"",night:""}[i],titleKey:"insightBestTimeTitle",descriptionKey:"insightBestTimeDesc",params:{period:i},title:`You shine brightest in the ${i}`,description:`Your mood is typically better during ${i} hours. Schedule demanding tasks then!`,priority:7,data:{bestPeriod:i,bestAvg:n}}:null}function analyzeHabitMoodCorrelation(e,r){if(e.length<14||r.length===0)return null;const i={};e.forEach(o=>{(!i[o.date]||getMoodScore(o.mood)>i[o.date])&&(i[o.date]=getMoodScore(o.mood))});let n=null,a=0;return r.forEach(o=>{const l=o.completedDates,c=Object.keys(i).filter(g=>!l.includes(g)),d=l.filter(g=>i[g]!==void 0).map(g=>i[g]),p=c.filter(g=>i[g]!==void 0).map(g=>i[g]);if(d.length>=5&&p.length>=5){const g=average(d),y=average(p),x=g-y;x>a&&(a=x,n=o)}}),!n||a<.3?null:{id:"habit-mood-correlation",type:"correlation",icon:n.icon,titleKey:"insightHabitBoostsTitle",descriptionKey:"insightHabitBoostsDesc",params:{habit:n.name,percent:Math.round(a*20)},title:`${n.name} boosts your mood!`,description:`When you complete "${n.name}", your mood tends to be ${Math.round(a*20)}% better. Keep it up!`,priority:9,data:{habitId:n.id,correlation:a}}}function analyzeFocusMoodCorrelation(e,r){if(e.length<14||r.length<7)return null;const i={};r.forEach(y=>{i[y.date]=(i[y.date]||0)+(y.duration||0)});const n={};e.forEach(y=>{(!n[y.date]||getMoodScore(y.mood)>n[y.date])&&(n[y.date]=getMoodScore(y.mood))});const a=Object.keys(i),o=Object.keys(n).filter(y=>!a.includes(y)),l=a.filter(y=>n[y]!==void 0).map(y=>n[y]),c=o.filter(y=>n[y]!==void 0).map(y=>n[y]);if(l.length<5||c.length<5)return null;const d=average(l),p=average(c),g=d-p;return g<.2?null:{id:"focus-mood-correlation",type:"correlation",icon:"",titleKey:"insightFocusMoodTitle",descriptionKey:"insightFocusMoodDesc",params:{percent:Math.round(g*20)},title:"Focus time = Better mood!",description:`On days you do focus sessions, your mood is ${Math.round(g*20)}% better. Deep work pays off!`,priority:8,data:{avgWithFocus:d,avgWithoutFocus:p,diff:g}}}function analyzeGratitudeMoodCorrelation(e,r){if(e.length<14||r.length<7)return null;const i={};r.forEach(y=>{i[y.date]=(i[y.date]||0)+1});const n={};e.forEach(y=>{(!n[y.date]||getMoodScore(y.mood)>n[y.date])&&(n[y.date]=getMoodScore(y.mood))});const a=Object.keys(i),o=Object.keys(n).filter(y=>!a.includes(y)),l=a.filter(y=>n[y]!==void 0).map(y=>n[y]),c=o.filter(y=>n[y]!==void 0).map(y=>n[y]);if(l.length<5||c.length<5)return null;const d=average(l),p=average(c),g=d-p;return g<.2?null:{id:"gratitude-mood-correlation",type:"correlation",icon:"",titleKey:"insightGratitudeMoodTitle",descriptionKey:"insightGratitudeMoodDesc",params:{percent:Math.round(g*20)},title:"Gratitude lifts your mood!",description:`Days with gratitude entries show ${Math.round(g*20)}% better mood. Keep practicing gratitude!`,priority:7,data:{avgWithGratitude:d,avgWithoutGratitude:p,diff:g}}}function analyzeMoodTrend(e){if(e.length<7)return null;const r=new Date(getToday$1()),i=[];for(let p=6;p>=0;p--){const g=new Date(r);g.setDate(g.getDate()-p),i.push(formatDate$1(g))}const n=[];for(let p=13;p>=7;p--){const g=new Date(r);g.setDate(g.getDate()-p),n.push(formatDate$1(g))}const a=e.filter(p=>i.includes(p.date)).map(p=>getMoodScore(p.mood)),o=e.filter(p=>n.includes(p.date)).map(p=>getMoodScore(p.mood));if(a.length<3||o.length<3)return null;const l=average(a),c=average(o),d=l-c;return Math.abs(d)<.3?null:d>0?{id:"mood-trend-up",type:"achievement",icon:"",titleKey:"insightMoodUpTitle",descriptionKey:"insightMoodUpDesc",params:{percent:Math.round(d*20)},title:"Your mood is improving!",description:`Your average mood this week is ${Math.round(d*20)}% better than last week. You're doing great!`,priority:9,data:{recentAvg:l,previousAvg:c,change:d}}:{id:"mood-trend-down",type:"tip",icon:"",titleKey:"insightMoodDownTitle",descriptionKey:"insightMoodDownDesc",params:{},title:"Let's boost your mood!",description:"Your mood has dipped a bit. Try focusing on habits that usually make you feel good.",priority:10,data:{recentAvg:l,previousAvg:c,change:d}}}function analyzeConsistency(e,r){if(e.length<14)return null;const i=new Date(getToday$1()),n=[];for(let l=13;l>=0;l--){const c=new Date(i);c.setDate(c.getDate()-l),n.push(formatDate$1(c))}const a=new Set(e.filter(l=>n.includes(l.date)).map(l=>l.date)),o=a.size/14;return o>=.85?{id:"high-consistency",type:"achievement",icon:"",titleKey:"insightHighConsistencyTitle",descriptionKey:"insightHighConsistencyDesc",params:{days:a.size},title:"Amazing consistency!",description:`You've logged your mood ${a.size} of the last 14 days. This self-awareness is powerful!`,priority:8,data:{daysLogged:a.size,total:14,consistency:o}}:o<.5?{id:"low-consistency",type:"tip",icon:"",titleKey:"insightLowConsistencyTitle",descriptionKey:"insightLowConsistencyDesc",params:{},title:"Build your logging habit",description:"Try logging your mood at the same time each day. Consistency helps you spot patterns!",priority:6,data:{daysLogged:a.size,total:14,consistency:o}}:null}function generateMoodInsights(e,r,i,n){const a=Date.now()-7776e6,o=e.filter(x=>x.timestamp>=a),l=i.filter(x=>x.completedAt>=a),c=n.filter(x=>x.timestamp>=a),d=new Date(a).toISOString().split("T")[0],p=r.map(x=>({...x,completedDates:(x.completedDates||[]).filter(S=>S>=d)})),g=[];return[analyzeMoodTrend(o),analyzeHabitMoodCorrelation(o,p),analyzeFocusMoodCorrelation(o,l),analyzeGratitudeMoodCorrelation(o,c),analyzeBestMoodDay(o),analyzeMoodByTimeOfDay(o),analyzeConsistency(o)].forEach(x=>{x&&g.push(x)}),g.sort((x,S)=>S.priority-x.priority),g.slice(0,5)}function getInsightIcon(e){switch(e){case"pattern":return TrendingUp;case"correlation":return Brain;case"tip":return Target;case"achievement":return Sparkles;case"warning":return Heart;default:return Brain}}function getInsightColor(e){switch(e){case"pattern":return"from-blue-500/20 to-cyan-500/20 border-blue-500/30";case"correlation":return"from-purple-500/20 to-pink-500/20 border-purple-500/30";case"tip":return"from-amber-500/20 to-orange-500/20 border-amber-500/30";case"achievement":return"from-green-500/20 to-emerald-500/20 border-green-500/30";case"warning":return"from-red-500/20 to-rose-500/20 border-red-500/30";default:return"from-blue-500/20 to-cyan-500/20 border-blue-500/30"}}function interpolate(e,r){return e.replace(/\{(\w+)\}/g,(i,n)=>String(r[n]??n))}function getInsightText(e,r,i){const n=i==="title"?e.titleKey:e.descriptionKey,a=i==="title"?e.title:e.description,o=n?r[n]:void 0;return o?e.params?interpolate(o,e.params):o:a}function MoodInsights({moods:e,habits:r,focusSessions:i,gratitudeEntries:n}){const{t:a}=useLanguage(),[o,l]=reactExports.useState(!1),[c,d]=reactExports.useState(new Set),p=reactExports.useMemo(()=>generateMoodInsights(e,r,i,n).filter(b=>!c.has(b.id)),[e,r,i,n,c]),g=b=>{d(T=>new Set([...T,b]))};if(p.length===0)return e.length<7?jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-2xl p-5 zen-shadow-card",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:a.aiInsights||"AI Insights"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl mb-2",children:""}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:a.insightsNeedMoreData||"Log your mood for a week to unlock personalized insights!"}),jsxRuntimeExports.jsx("div",{className:"mt-3 flex justify-center gap-1",children:Array.from({length:7}).map((b,T)=>jsxRuntimeExports.jsx("div",{className:cn("w-3 h-3 rounded-full",T<e.length?"bg-primary":"bg-muted")},T))}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[e.length,"/7 ",a.daysLogged||"days logged"]})]})]}):null;const y=p[0],x=p.slice(1),S=getInsightIcon(y.type);return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:cn("relative bg-gradient-to-br rounded-2xl p-5 border overflow-hidden",getInsightColor(y.type)),children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),jsxRuntimeExports.jsx("button",{onClick:()=>g(y.id),"aria-label":a.insightsDismiss||"Dismiss insight",className:"absolute top-3 right-3 p-1.5 hover:bg-black/10 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4 text-muted-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2.5 bg-primary/20 rounded-xl",children:jsxRuntimeExports.jsx(S,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-medium text-primary uppercase tracking-wide",children:a.aiInsight||"AI Insight"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:a.personalizedForYou||"Personalized for you"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl",children:y.icon}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-foreground mb-1",children:getInsightText(y,a,"title")}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:getInsightText(y,a,"description")})]})]}),x.length>0&&jsxRuntimeExports.jsxs("button",{onClick:()=>l(!o),"aria-expanded":o,"aria-label":o?a.hideInsights||"Hide insights":a.moreInsights||"Show more insights",className:"mt-4 flex items-center gap-2 text-sm font-medium text-primary hover:text-primary/80 transition-colors",children:[jsxRuntimeExports.jsx("span",{children:o?a.hideInsights||"Hide insights":`${a.showMore||"Show"} ${x.length} ${a.moreInsights||"more insights"}`}),jsxRuntimeExports.jsx(ChevronRight,{className:cn("w-4 h-4 transition-transform",o&&"rotate-90")})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:o&&x.map((b,T)=>(getInsightIcon(b.type),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{delay:T*.1},className:cn("relative bg-gradient-to-br rounded-xl p-4 border",getInsightColor(b.type)),children:[jsxRuntimeExports.jsx("button",{onClick:()=>g(b.id),"aria-label":a.insightsDismiss||"Dismiss insight",className:"absolute top-2 right-2 p-1 hover:bg-black/10 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-3 h-3 text-muted-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:b.icon}),jsxRuntimeExports.jsxs("div",{className:"flex-1 pr-6",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-foreground text-sm mb-0.5",children:getInsightText(b,a,"title")}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:getInsightText(b,a,"description")})]})]})]},b.id)))})]})}const Share=registerPlugin("Share",{web:()=>__vitePreload(()=>import("./web-CCLLt_A-.js"),__vite__mapDeps([10,1,2,3,4,5])).then(e=>new e.ShareWeb)});function s(e){e.CapacitorUtils.Synapse=new Proxy({},{get(r,i){return new Proxy({},{get(n,a){return(o,l,c)=>{const d=e.Capacitor.Plugins[i];if(d===void 0){c(new Error(`Capacitor plugin ${i} not found`));return}if(typeof d[a]!="function"){c(new Error(`Method ${a} not found in Capacitor plugin ${i}`));return}(async()=>{try{const p=await d[a](o);l(p)}catch(p){c(p)}})()}}})}})}function u(e){e.CapacitorUtils.Synapse=new Proxy({},{get(r,i){return e.cordova.plugins[i]}})}function f(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?s(window):window.cordova!==void 0&&u(window))}var Directory;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE",e.ExternalCache="EXTERNAL_CACHE",e.LibraryNoCloud="LIBRARY_NO_CLOUD",e.Temporary="TEMPORARY"})(Directory||(Directory={}));var Encoding;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(Encoding||(Encoding={}));const Filesystem=registerPlugin("Filesystem",{web:()=>__vitePreload(()=>import("./web-CZXDuTFW.js"),__vite__mapDeps([11,1,2,3,4,5])).then(e=>new e.FilesystemWeb)});f();let html2canvasModule=null;async function getHtml2Canvas(){return html2canvasModule||(html2canvasModule=(await __vitePreload(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).default),html2canvasModule}function preloadShareCardAssets(){getHtml2Canvas().catch(()=>{})}function sanitizeText(e){return e?purify.sanitize(e,{ALLOWED_TAGS:[]}):""}function createStyledSpan(e,r){const i=document.createElement("span");return i.textContent=sanitizeText(e),r&&(i.style.cssText=r),i}const CARD_GRADIENTS={achievement:"linear-gradient(135deg, #10B981 0%, #059669 50%, #047857 100%)",streak:"linear-gradient(135deg, #F59E0B 0%, #D97706 50%, #B45309 100%)",progress:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%)",weekly:"linear-gradient(135deg, #3B82F6 0%, #2563EB 50%, #1D4ED8 100%)"},RARITY_COLORS={common:{border:"#9CA3AF",glow:"rgba(156, 163, 175, 0.3)"},rare:{border:"#3B82F6",glow:"rgba(59, 130, 246, 0.4)"},epic:{border:"#8B5CF6",glow:"rgba(139, 92, 246, 0.4)"},legendary:{border:"#F59E0B",glow:"rgba(245, 158, 11, 0.5)"}};function createCardElement(e){const r=document.createElement("div"),i=CARD_GRADIENTS[e.type],n=e.rarity||"common",a=RARITY_COLORS[n];r.style.cssText=`
    width: 1080px;
    height: 1080px;
    background: ${i};
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80px;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color: white;
    position: relative;
    overflow: hidden;
  `;const o=document.createElement("div");o.style.cssText=`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: radial-gradient(circle at 20% 80%, rgba(255,255,255,0.1) 0%, transparent 50%),
                      radial-gradient(circle at 80% 20%, rgba(255,255,255,0.08) 0%, transparent 40%);
    pointer-events: none;
  `,r.appendChild(o);const l=document.createElement("div");if(l.style.cssText=`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 1;
    text-align: center;
    gap: 40px;
  `,e.icon){const p=document.createElement("div");p.style.cssText=`
      font-size: 140px;
      line-height: 1;
      filter: drop-shadow(0 0 30px ${a.glow});
    `,p.textContent=e.icon,l.appendChild(p)}const c=document.createElement("div");if(c.style.cssText=`
    font-size: 72px;
    font-weight: 800;
    letter-spacing: -1px;
    text-shadow: 0 4px 20px rgba(0,0,0,0.3);
    max-width: 900px;
  `,c.textContent=e.title,l.appendChild(c),e.subtitle||e.value){const p=document.createElement("div");p.style.cssText=`
      font-size: 48px;
      font-weight: 600;
      opacity: 0.95;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    `,p.textContent=e.subtitle||String(e.value),l.appendChild(p)}if(e.stats&&e.stats.length>0){const p=document.createElement("div");p.style.cssText=`
      display: flex;
      gap: 60px;
      margin-top: 20px;
    `,e.stats.forEach(g=>{const y=document.createElement("div");y.style.cssText=`
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 24px 40px;
        background: rgba(255,255,255,0.15);
        border-radius: 20px;
        backdrop-filter: blur(10px);
      `;const x=document.createElement("div");x.style.cssText="font-size: 48px; font-weight: 700;",x.textContent=String(g.value);const S=document.createElement("div");S.style.cssText="font-size: 24px; opacity: 0.9; margin-top: 8px;",S.textContent=g.label,y.appendChild(x),y.appendChild(S),p.appendChild(y)}),l.appendChild(p)}if(e.type==="achievement"&&e.rarity&&e.rarity!=="common"){const p=document.createElement("div");p.style.cssText=`
      padding: 12px 32px;
      background: rgba(255,255,255,0.2);
      border: 3px solid ${a.border};
      border-radius: 50px;
      font-size: 28px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 2px;
      box-shadow: 0 0 20px ${a.glow};
    `,p.textContent=e.rarity,l.appendChild(p)}r.appendChild(l);const d=document.createElement("div");return d.style.cssText=`
    position: absolute;
    bottom: 60px;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 16px;
    font-size: 28px;
    opacity: 0.8;
  `,e.username&&(d.appendChild(createStyledSpan(`@${e.username}`)),d.appendChild(createStyledSpan("","opacity: 0.5"))),d.appendChild(createStyledSpan("ZenFlow","font-weight: 600;")),e.date&&d.appendChild(createStyledSpan(e.date,"opacity: 0.5; margin-left: 8px;")),r.appendChild(d),r}function createStreakCard(e,r,i){const n=document.createElement("div");n.style.cssText=`
    width: 1080px;
    height: 1080px;
    background: linear-gradient(135deg, #FF6B35 0%, #F7931E 50%, #FFB347 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80px;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color: white;
    position: relative;
    overflow: hidden;
  `;const a=document.createElement("div");a.style.cssText=`
    font-size: 60px;
    margin-bottom: 40px;
    filter: drop-shadow(0 0 20px rgba(255,107,53,0.5));
  `;const o=Math.min(e,10);a.textContent="".repeat(o),n.appendChild(a);const l=document.createElement("div");l.style.cssText=`
    font-size: 200px;
    font-weight: 900;
    line-height: 1;
    text-shadow: 0 8px 40px rgba(0,0,0,0.3);
  `,l.textContent=String(e),n.appendChild(l);const c=document.createElement("div");if(c.style.cssText=`
    font-size: 56px;
    font-weight: 700;
    letter-spacing: 8px;
    text-transform: uppercase;
    margin-top: 20px;
  `,c.textContent="DAY STREAK",n.appendChild(c),r){const p=document.createElement("div");p.style.cssText=`
      font-size: 36px;
      margin-top: 40px;
      padding: 16px 40px;
      background: rgba(255,255,255,0.2);
      border-radius: 50px;
    `,p.textContent=`"${r}"`,n.appendChild(p)}const d=document.createElement("div");return d.style.cssText=`
    position: absolute;
    bottom: 60px;
    font-size: 28px;
    opacity: 0.9;
    display: flex;
    align-items: center;
    gap: 16px;
  `,i?(d.appendChild(createStyledSpan(`@${i}`)),d.appendChild(createStyledSpan("","opacity: 0.5")),d.appendChild(createStyledSpan("ZenFlow","font-weight: 600;"))):d.appendChild(createStyledSpan("Track your habits with ZenFlow","font-weight: 600;")),n.appendChild(d),n}function createWeeklyCard(e,r,i="en"){const n=document.createElement("div");n.style.cssText=`
    width: 1080px;
    height: 1350px;
    background: linear-gradient(180deg, #1E293B 0%, #0F172A 100%);
    display: flex;
    flex-direction: column;
    padding: 80px;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color: white;
    position: relative;
  `;const a=document.createElement("div");a.style.cssText="margin-bottom: 60px; text-align: center;";const o=document.createElement("div");o.style.cssText="font-size: 28px; opacity: 0.7; margin-bottom: 12px;",o.textContent="WEEKLY REVIEW",a.appendChild(o);const l=document.createElement("div");l.style.cssText="font-size: 48px; font-weight: 700;",l.textContent=sanitizeText(e.weekRange),a.appendChild(l),n.appendChild(a);const c=document.createElement("div");if(c.style.cssText=`
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 60px;
  `,[{icon:"",label:"Mood",value:getMoodEmoji(e.moodAverage),color:"#10B981"},{icon:"",label:"Habits",value:`${e.habitsCompleted}/${e.habitsTotal}`,color:"#3B82F6"},{icon:"",label:"Focus",value:formatMinutes(e.focusMinutes),color:"#8B5CF6"},{icon:"",label:"Streak",value:`${e.streak} days`,color:"#F59E0B"}].forEach(x=>{const S=document.createElement("div");S.style.cssText=`
      background: rgba(255,255,255,0.05);
      border-radius: 24px;
      padding: 32px;
      border: 1px solid rgba(255,255,255,0.1);
    `;const b=document.createElement("div");b.style.cssText="font-size: 48px; margin-bottom: 16px;",b.textContent=x.icon,S.appendChild(b);const T=document.createElement("div");T.style.cssText=`font-size: 36px; font-weight: 700; color: ${x.color};`,T.textContent=sanitizeText(x.value),S.appendChild(T);const N=document.createElement("div");N.style.cssText="font-size: 24px; opacity: 0.7; margin-top: 8px;",N.textContent=x.label,S.appendChild(N),c.appendChild(S)}),n.appendChild(c),e.newBadges.length>0){const x=document.createElement("div");x.style.cssText="margin-bottom: 60px;";const S=document.createElement("div");S.style.cssText="font-size: 28px; opacity: 0.7; margin-bottom: 24px; text-align: center;",S.textContent="NEW ACHIEVEMENTS",x.appendChild(S);const b=document.createElement("div");b.style.cssText="display: flex; justify-content: center; gap: 24px; flex-wrap: wrap;",e.newBadges.slice(0,4).forEach(T=>{const N=document.createElement("div");N.style.cssText=`
        background: rgba(255,255,255,0.1);
        border-radius: 16px;
        padding: 24px;
        text-align: center;
        min-width: 140px;
      `;const k=document.createElement("div");k.style.cssText="font-size: 48px;",k.textContent=T.icon,N.appendChild(k);const C=document.createElement("div");C.style.cssText="font-size: 18px; margin-top: 12px; opacity: 0.9;",C.textContent=sanitizeText(T.title[i]||T.title.en),N.appendChild(C),b.appendChild(N)}),x.appendChild(b),n.appendChild(x)}const p=document.createElement("div");p.style.cssText=`
    margin-top: auto;
    text-align: center;
    padding-top: 40px;
    border-top: 1px solid rgba(255,255,255,0.1);
  `;const g=document.createElement("div");g.style.cssText="font-size: 32px; font-weight: 600; margin-bottom: 8px;",g.textContent="ZenFlow",p.appendChild(g);const y=document.createElement("div");return y.style.cssText="font-size: 20px; opacity: 0.6;",y.textContent=r?`@${sanitizeText(r)}  zenflow.app`:"zenflow.app",p.appendChild(y),n.appendChild(p),n}function getMoodEmoji(e){return e>=4.5?" Great":e>=3.5?" Good":e>=2.5?" Okay":e>=1.5?" Low":" Tough"}function formatMinutes(e){if(e>=60){const r=Math.floor(e/60),i=e%60;return i>0?`${r}h ${i}m`:`${r}h`}return`${e}m`}async function generateShareCard(e){const r=createCardElement(e);r.style.position="fixed",r.style.left="-9999px",r.style.top="0",document.body.appendChild(r);try{const n=await(await getHtml2Canvas())(r,{width:1080,height:1080,scale:2,backgroundColor:null,logging:!1});return new Promise((a,o)=>{n.toBlob(l=>{l?a(l):o(new Error("Failed to generate image"))},"image/png",1)})}finally{document.body.removeChild(r)}}async function generateStreakCard(e,r,i){const n=createStreakCard(e,r,i);n.style.position="fixed",n.style.left="-9999px",n.style.top="0",document.body.appendChild(n);try{const o=await(await getHtml2Canvas())(n,{width:1080,height:1080,scale:2,backgroundColor:null,logging:!1});return new Promise((l,c)=>{o.toBlob(d=>{d?l(d):c(new Error("Failed to generate image"))},"image/png",1)})}finally{document.body.removeChild(n)}}async function generateWeeklyCard(e,r,i="en"){const n=createWeeklyCard(e,r,i);n.style.position="fixed",n.style.left="-9999px",n.style.top="0",document.body.appendChild(n);try{const o=await(await getHtml2Canvas())(n,{width:1080,height:1350,scale:2,backgroundColor:null,logging:!1});return new Promise((l,c)=>{o.toBlob(d=>{d?l(d):c(new Error("Failed to generate image"))},"image/png",1)})}finally{document.body.removeChild(n)}}async function generateAchievementCard(e,r="en",i){return generateShareCard({type:"achievement",icon:e.icon,title:e.title[r]||e.title.en,subtitle:e.description[r]||e.description.en,rarity:e.rarity,username:i,date:e.unlockedDate?new Date(e.unlockedDate).toLocaleDateString():new Date().toLocaleDateString()})}function downloadImage(e,r="zenflow-share.png"){const i=URL.createObjectURL(e),n=document.createElement("a");n.href=i,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)}async function shareImage(e,r,i){if(Capacitor.isNativePlatform())try{const n=await new Promise((l,c)=>{const d=new FileReader;d.readAsDataURL(e),d.onloadend=()=>{const g=d.result.split(",")[1];l(g)},d.onerror=c}),a=`zenflow-share-${Date.now()}.png`,o=await Filesystem.writeFile({path:a,data:n,directory:Directory.Cache});logger.log("[ShareCards] File saved to:",o.uri),await Share.share({title:r,text:i||r,files:[o.uri],dialogTitle:r});try{await Filesystem.deleteFile({path:a,directory:Directory.Cache})}catch(l){logger.warn("[ShareCards] Failed to cleanup cached file:",l)}return!0}catch(n){return logger.error("[ShareCards] Native share failed:",n),!1}if(navigator.share&&navigator.canShare){const a={files:[new File([e],"zenflow-share.png",{type:"image/png"})],title:r,text:i};if(navigator.canShare(a))try{return await navigator.share(a),!0}catch(o){return o.name!=="AbortError"&&logger.error("[ShareCards] Web share failed:",o),!1}}return downloadImage(e,"zenflow-share.png"),!1}async function copyImageToClipboard(e){try{return await navigator.clipboard.write([new ClipboardItem({"image/png":e})]),!0}catch(r){return console.error("Failed to copy image:",r),!1}}function ShareModal(e){const{open:r,onOpenChange:i,username:n,mode:a}=e,{t:o,language:l}=useLanguage(),[c,d]=reactExports.useState(null),[p,g]=reactExports.useState(null),[y,x]=reactExports.useState(!1),[S,b]=reactExports.useState(!1),[T,N]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!r){p&&(URL.revokeObjectURL(p),g(null)),d(null),b(!1),N(!1);return}k()},[r,a,l]);const k=async()=>{x(!0);try{let B;switch(a){case"achievement":B=await generateAchievementCard(e.badge,l,n);break;case"streak":B=await generateStreakCard(e.streak,e.habitName,n);break;case"weekly":B=await generateWeeklyCard(e.data,n,l);break;case"progress":case"custom":default:B=await generateShareCard(e.data);break}d(B),g(URL.createObjectURL(B))}catch(B){logger.error("Failed to generate share image:",B)}finally{x(!1)}},C=()=>{if(!c)return;hapticTap();const B=`zenflow-${a}-${Date.now()}.png`;downloadImage(c,B)},A=async()=>{if(!c)return;hapticTap();const B=I(),Z=F();await shareImage(c,B,Z)&&(hapticSuccess(),N(!0),setTimeout(()=>N(!1),2e3))},R=async()=>{if(!c)return;hapticTap(),await copyImageToClipboard(c)&&(hapticSuccess(),b(!0),setTimeout(()=>b(!1),2e3))},I=()=>{switch(a){case"achievement":return o.shareTitle||"Achievement Unlocked!";case"streak":return`${e.streak} ${o.shareStreak||"Day Streak"}`;case"weekly":return o.myProgress||"My Weekly Progress";default:return o.myProgress||"My Progress"}},F=()=>{switch(a){case"achievement":const B=e.badge;return`${B.title[l]||B.title.en} - ZenFlow`;case"streak":return`${e.streak} ${o.shareStreak||"day streak"} `;case"weekly":return o.shareText||"Check out my weekly wellness progress!";default:return o.shareText||"Track your wellness journey with ZenFlow"}},z=()=>{switch(a){case"achievement":return o.shareAchievements||"Share Achievement";case"streak":return`${o.shareStreak||"Share Streak"}`;case"weekly":return o.myProgress||"Share Weekly Report";default:return o.shareAchievements||"Share Progress"}};return jsxRuntimeExports.jsx(Sheet,{open:r,onOpenChange:i,children:jsxRuntimeExports.jsxs(SheetContent,{side:"bottom",className:"h-[85vh] rounded-t-3xl pb-safe",children:[jsxRuntimeExports.jsxs(SheetHeader,{className:"pb-4",children:[jsxRuntimeExports.jsx(SheetTitle,{className:"text-center",children:z()}),jsxRuntimeExports.jsx(SheetDescription,{className:"text-center text-sm",children:o.sharePrivacyNote||"Share your progress with friends"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center py-4",children:jsxRuntimeExports.jsx("div",{className:"relative w-full max-w-[300px] aspect-square rounded-2xl overflow-hidden bg-muted shadow-xl",children:y?jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):p?jsxRuntimeExports.jsx("img",{src:p,alt:"Share preview",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Image$1,{className:"w-12 h-12 text-muted-foreground"})})})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-4 pb-8",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"flex-col h-20 gap-2",onClick:C,disabled:!c||y,children:[jsxRuntimeExports.jsx(Download,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:o.shareDownload||"Download"})]}),jsxRuntimeExports.jsx(Button,{variant:"outline",className:cn("flex-col h-20 gap-2 transition-colors",S&&"bg-emerald-500/10 border-emerald-500 text-emerald-600"),onClick:R,disabled:!c||y,children:S?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:o.shareCopied||"Copied!"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:o.shareCopyLink||"Copy"})]})}),jsxRuntimeExports.jsx(Button,{className:cn("flex-col h-20 gap-2 transition-colors",T&&"bg-emerald-500"),onClick:A,disabled:!c||y,children:T?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:o.shareCopied||"Shared!"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Share2,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:o.shareButton||"Share"})]})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-center text-muted-foreground pb-4",children:o.shareFooter||"Share your progress on social media to inspire others!"})]})})}var lottie$1={exports:{}};(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(e,r){module.exports=r()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(r){_useWebWorker=!!r},getWebWorker=function(){return _useWebWorker},setLocationHref=function(r){locationHref=r},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,r){var i,n=e.length,a;for(i=0;i<n;i+=1){a=e[i].prototype;for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r.prototype[o]=a[o])}}function getDescriptor(e,r){return Object.getOwnPropertyDescriptor(e,r)}function createProxyFunction(e){function r(){}return r.prototype=e,r}var audioControllerFactory=function(){function e(r){this.audios=[],this.audioFactory=r,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(i){this.audios.push(i)},pause:function(){var i,n=this.audios.length;for(i=0;i<n;i+=1)this.audios[i].pause()},resume:function(){var i,n=this.audios.length;for(i=0;i<n;i+=1)this.audios[i].resume()},setRate:function(i){var n,a=this.audios.length;for(n=0;n<a;n+=1)this.audios[n].setRate(i)},createAudio:function(i){return this.audioFactory?this.audioFactory(i):window.Howl?new window.Howl({src:[i]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(i){this.audioFactory=i},setVolume:function(i){this._volume=i,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var i,n=this.audios.length;for(i=0;i<n;i+=1)this.audios[i].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(i,n){var a=0,o=[],l;switch(i){case"int16":case"uint8c":l=1;break;default:l=1.1;break}for(a=0;a<n;a+=1)o.push(l);return o}function r(i,n){return i==="float32"?new Float32Array(n):i==="int16"?new Int16Array(n):i==="uint8c"?new Uint8ClampedArray(n):e(i,n)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?r:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$6(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r,i=e.length;for(r=0;r<i;r+=1)BMMath[e[r]]=Math[e[r]]})(),BMMath.random=Math.random,BMMath.abs=function(e){var r=_typeof$6(e);if(r==="object"&&e.length){var i=createSizedArray(e.length),n,a=e.length;for(n=0;n<a;n+=1)i[n]=Math.abs(e[n]);return i}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,r,i,n){this.type=e,this.currentTime=r,this.totalTime=i,this.direction=n<0?-1:1}function BMCompleteEvent(e,r){this.type=e,this.direction=r<0?-1:1}function BMCompleteLoopEvent(e,r,i,n){this.type=e,this.currentLoop=i,this.totalLoops=r,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,r,i){this.type=e,this.firstFrame=r,this.totalFrames=i}function BMDestroyEvent(e,r){this.type=e,this.target=r}function BMRenderFrameErrorEvent(e,r){this.type="renderFrameError",this.nativeError=e,this.currentTime=r}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=function(){var e=0;return function(){return e+=1,idPrefix$1+"__lottie_element_"+e}}();function HSVtoRGB(e,r,i){var n,a,o,l,c,d,p,g;switch(l=Math.floor(e*6),c=e*6-l,d=i*(1-r),p=i*(1-c*r),g=i*(1-(1-c)*r),l%6){case 0:n=i,a=g,o=d;break;case 1:n=p,a=i,o=d;break;case 2:n=d,a=i,o=g;break;case 3:n=d,a=p,o=i;break;case 4:n=g,a=d,o=i;break;case 5:n=i,a=d,o=p;break}return[n,a,o]}function RGBtoHSV(e,r,i){var n=Math.max(e,r,i),a=Math.min(e,r,i),o=n-a,l,c=n===0?0:o/n,d=n/255;switch(n){case a:l=0;break;case e:l=r-i+o*(r<i?6:0),l/=6*o;break;case r:l=i-e+o*2,l/=6*o;break;case i:l=e-r+o*4,l/=6*o;break}return[l,c,d]}function addSaturationToRGB(e,r){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[1]+=r,i[1]>1?i[1]=1:i[1]<=0&&(i[1]=0),HSVtoRGB(i[0],i[1],i[2])}function addBrightnessToRGB(e,r){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[2]+=r,i[2]>1?i[2]=1:i[2]<0&&(i[2]=0),HSVtoRGB(i[0],i[1],i[2])}function addHueToRGB(e,r){var i=RGBtoHSV(e[0]*255,e[1]*255,e[2]*255);return i[0]+=r/360,i[0]>1?i[0]-=1:i[0]<0&&(i[0]+=1),HSVtoRGB(i[0],i[1],i[2])}var rgbToHex=function(){var e=[],r,i;for(r=0;r<256;r+=1)i=r.toString(16),e[r]=i.length===1?"0"+i:i;return function(n,a,o){return n<0&&(n=0),a<0&&(a=0),o<0&&(o=0),"#"+e[n]+e[a]+e[o]}}(),setSubframeEnabled=function(r){subframeEnabled=!!r},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(r){expressionsPlugin=r},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(r){expressionsInterfaces=r},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(r){defaultCurveSegments=r},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(r){idPrefix$1=r};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$5(e)}var dataManager=function(){var e=1,r=[],i,n,a={onmessage:function(){},postMessage:function(S){i({data:S})}},o={postMessage:function(S){a.onmessage({data:S})}};function l(x){if(window.Worker&&window.Blob&&getWebWorker()){var S=new Blob(["var _workerSelf = self; self.onmessage = ",x.toString()],{type:"text/javascript"}),b=URL.createObjectURL(S);return new Worker(b)}return i=x,a}function c(){n||(n=l(function(S){function b(){function N(Q,H){var G,_,O=Q.length,V,W,K,Ee;for(_=0;_<O;_+=1)if(G=Q[_],"ks"in G&&!G.completed){if(G.completed=!0,G.hasMask){var Se=G.masksProperties;for(W=Se.length,V=0;V<W;V+=1)if(Se[V].pt.k.i)I(Se[V].pt.k);else for(Ee=Se[V].pt.k.length,K=0;K<Ee;K+=1)Se[V].pt.k[K].s&&I(Se[V].pt.k[K].s[0]),Se[V].pt.k[K].e&&I(Se[V].pt.k[K].e[0])}G.ty===0?(G.layers=A(G.refId,H),N(G.layers,H)):G.ty===4?R(G.shapes):G.ty===5&&Y(G)}}function k(Q,H){if(Q){var G=0,_=Q.length;for(G=0;G<_;G+=1)Q[G].t===1&&(Q[G].data.layers=A(Q[G].data.refId,H),N(Q[G].data.layers,H))}}function C(Q,H){for(var G=0,_=H.length;G<_;){if(H[G].id===Q)return H[G];G+=1}return null}function A(Q,H){var G=C(Q,H);return G?G.layers.__used?JSON.parse(JSON.stringify(G.layers)):(G.layers.__used=!0,G.layers):null}function R(Q){var H,G=Q.length,_,O;for(H=G-1;H>=0;H-=1)if(Q[H].ty==="sh")if(Q[H].ks.k.i)I(Q[H].ks.k);else for(O=Q[H].ks.k.length,_=0;_<O;_+=1)Q[H].ks.k[_].s&&I(Q[H].ks.k[_].s[0]),Q[H].ks.k[_].e&&I(Q[H].ks.k[_].e[0]);else Q[H].ty==="gr"&&R(Q[H].it)}function I(Q){var H,G=Q.i.length;for(H=0;H<G;H+=1)Q.i[H][0]+=Q.v[H][0],Q.i[H][1]+=Q.v[H][1],Q.o[H][0]+=Q.v[H][0],Q.o[H][1]+=Q.v[H][1]}function F(Q,H){var G=H?H.split("."):[100,100,100];return Q[0]>G[0]?!0:G[0]>Q[0]?!1:Q[1]>G[1]?!0:G[1]>Q[1]?!1:Q[2]>G[2]?!0:G[2]>Q[2]?!1:null}var z=function(){var Q=[4,4,14];function H(_){var O=_.t.d;_.t.d={k:[{s:O,t:0}]}}function G(_){var O,V=_.length;for(O=0;O<V;O+=1)_[O].ty===5&&H(_[O])}return function(_){if(F(Q,_.v)&&(G(_.layers),_.assets)){var O,V=_.assets.length;for(O=0;O<V;O+=1)_.assets[O].layers&&G(_.assets[O].layers)}}}(),B=function(){var Q=[4,7,99];return function(H){if(H.chars&&!F(Q,H.v)){var G,_=H.chars.length;for(G=0;G<_;G+=1){var O=H.chars[G];O.data&&O.data.shapes&&(R(O.data.shapes),O.data.ip=0,O.data.op=99999,O.data.st=0,O.data.sr=1,O.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},H.chars[G].t||(O.data.shapes.push({ty:"no"}),O.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Z=function(){var Q=[5,7,15];function H(_){var O=_.t.p;typeof O.a=="number"&&(O.a={a:0,k:O.a}),typeof O.p=="number"&&(O.p={a:0,k:O.p}),typeof O.r=="number"&&(O.r={a:0,k:O.r})}function G(_){var O,V=_.length;for(O=0;O<V;O+=1)_[O].ty===5&&H(_[O])}return function(_){if(F(Q,_.v)&&(G(_.layers),_.assets)){var O,V=_.assets.length;for(O=0;O<V;O+=1)_.assets[O].layers&&G(_.assets[O].layers)}}}(),re=function(){var Q=[4,1,9];function H(_){var O,V=_.length,W,K;for(O=0;O<V;O+=1)if(_[O].ty==="gr")H(_[O].it);else if(_[O].ty==="fl"||_[O].ty==="st")if(_[O].c.k&&_[O].c.k[0].i)for(K=_[O].c.k.length,W=0;W<K;W+=1)_[O].c.k[W].s&&(_[O].c.k[W].s[0]/=255,_[O].c.k[W].s[1]/=255,_[O].c.k[W].s[2]/=255,_[O].c.k[W].s[3]/=255),_[O].c.k[W].e&&(_[O].c.k[W].e[0]/=255,_[O].c.k[W].e[1]/=255,_[O].c.k[W].e[2]/=255,_[O].c.k[W].e[3]/=255);else _[O].c.k[0]/=255,_[O].c.k[1]/=255,_[O].c.k[2]/=255,_[O].c.k[3]/=255}function G(_){var O,V=_.length;for(O=0;O<V;O+=1)_[O].ty===4&&H(_[O].shapes)}return function(_){if(F(Q,_.v)&&(G(_.layers),_.assets)){var O,V=_.assets.length;for(O=0;O<V;O+=1)_.assets[O].layers&&G(_.assets[O].layers)}}}(),U=function(){var Q=[4,4,18];function H(_){var O,V=_.length,W,K;for(O=V-1;O>=0;O-=1)if(_[O].ty==="sh")if(_[O].ks.k.i)_[O].ks.k.c=_[O].closed;else for(K=_[O].ks.k.length,W=0;W<K;W+=1)_[O].ks.k[W].s&&(_[O].ks.k[W].s[0].c=_[O].closed),_[O].ks.k[W].e&&(_[O].ks.k[W].e[0].c=_[O].closed);else _[O].ty==="gr"&&H(_[O].it)}function G(_){var O,V,W=_.length,K,Ee,Se,Ce;for(V=0;V<W;V+=1){if(O=_[V],O.hasMask){var De=O.masksProperties;for(Ee=De.length,K=0;K<Ee;K+=1)if(De[K].pt.k.i)De[K].pt.k.c=De[K].cl;else for(Ce=De[K].pt.k.length,Se=0;Se<Ce;Se+=1)De[K].pt.k[Se].s&&(De[K].pt.k[Se].s[0].c=De[K].cl),De[K].pt.k[Se].e&&(De[K].pt.k[Se].e[0].c=De[K].cl)}O.ty===4&&H(O.shapes)}}return function(_){if(F(Q,_.v)&&(G(_.layers),_.assets)){var O,V=_.assets.length;for(O=0;O<V;O+=1)_.assets[O].layers&&G(_.assets[O].layers)}}}();function q(Q){Q.__complete||(re(Q),z(Q),B(Q),Z(Q),U(Q),N(Q.layers,Q.assets),k(Q.chars,Q.assets),Q.__complete=!0)}function Y(Q){Q.t.a.length===0&&"m"in Q.t.p}var fe={};return fe.completeData=q,fe.checkColors=re,fe.checkChars=B,fe.checkPathProperties=Z,fe.checkShapes=U,fe.completeLayers=N,fe}if(o.dataManager||(o.dataManager=b()),o.assetLoader||(o.assetLoader=function(){function N(C){var A=C.getResponseHeader("content-type");return A&&C.responseType==="json"&&A.indexOf("json")!==-1||C.response&&_typeof$5(C.response)==="object"?C.response:C.response&&typeof C.response=="string"?JSON.parse(C.response):C.responseText?JSON.parse(C.responseText):null}function k(C,A,R,I){var F,z=new XMLHttpRequest;try{z.responseType="json"}catch{}z.onreadystatechange=function(){if(z.readyState===4)if(z.status===200)F=N(z),R(F);else try{F=N(z),R(F)}catch(B){I&&I(B)}};try{z.open(["G","E","T"].join(""),C,!0)}catch{z.open(["G","E","T"].join(""),A+"/"+C,!0)}z.send()}return{load:k}}()),S.data.type==="loadAnimation")o.assetLoader.load(S.data.path,S.data.fullPath,function(N){o.dataManager.completeData(N),o.postMessage({id:S.data.id,payload:N,status:"success"})},function(){o.postMessage({id:S.data.id,status:"error"})});else if(S.data.type==="complete"){var T=S.data.animation;o.dataManager.completeData(T),o.postMessage({id:S.data.id,payload:T,status:"success"})}else S.data.type==="loadData"&&o.assetLoader.load(S.data.path,S.data.fullPath,function(N){o.postMessage({id:S.data.id,payload:N,status:"success"})},function(){o.postMessage({id:S.data.id,status:"error"})})}),n.onmessage=function(x){var S=x.data,b=S.id,T=r[b];r[b]=null,S.status==="success"?T.onComplete(S.payload):T.onError&&T.onError()})}function d(x,S){e+=1;var b="processId_"+e;return r[b]={onComplete:x,onError:S},b}function p(x,S,b){c();var T=d(S,b);n.postMessage({type:"loadAnimation",path:x,fullPath:window.location.origin+window.location.pathname,id:T})}function g(x,S,b){c();var T=d(S,b);n.postMessage({type:"loadData",path:x,fullPath:window.location.origin+window.location.pathname,id:T})}function y(x,S,b){c();var T=d(S,b);n.postMessage({type:"complete",animation:x,id:T})}return{loadAnimation:p,loadData:g,completeAnimation:y}}(),ImagePreloader=function(){var e=function(){var k=createTag("canvas");k.width=1,k.height=1;var C=k.getContext("2d");return C.fillStyle="rgba(0,0,0,0)",C.fillRect(0,0,1,1),k}();function r(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(k,C,A){var R="";if(k.e)R=k.p;else if(C){var I=k.p;I.indexOf("images/")!==-1&&(I=I.split("/")[1]),R=C+I}else R=A,R+=k.u?k.u:"",R+=k.p;return R}function a(k){var C=0,A=setInterval(function(){var R=k.getBBox();(R.width||C>500)&&(this._imageLoaded(),clearInterval(A)),C+=1}.bind(this),50)}function o(k){var C=n(k,this.assetsPath,this.path),A=createNS("image");isSafari?this.testImageLoaded(A):A.addEventListener("load",this._imageLoaded,!1),A.addEventListener("error",function(){R.img=e,this._imageLoaded()}.bind(this),!1),A.setAttributeNS("http://www.w3.org/1999/xlink","href",C),this._elementHelper.append?this._elementHelper.append(A):this._elementHelper.appendChild(A);var R={img:A,assetData:k};return R}function l(k){var C=n(k,this.assetsPath,this.path),A=createTag("img");A.crossOrigin="anonymous",A.addEventListener("load",this._imageLoaded,!1),A.addEventListener("error",function(){R.img=e,this._imageLoaded()}.bind(this),!1),A.src=C;var R={img:A,assetData:k};return R}function c(k){var C={assetData:k},A=n(k,this.assetsPath,this.path);return dataManager.loadData(A,function(R){C.img=R,this._footageLoaded()}.bind(this),function(){C.img={},this._footageLoaded()}.bind(this)),C}function d(k,C){this.imagesLoadedCb=C;var A,R=k.length;for(A=0;A<R;A+=1)k[A].layers||(!k[A].t||k[A].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(k[A]))):k[A].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(k[A]))))}function p(k){this.path=k||""}function g(k){this.assetsPath=k||""}function y(k){for(var C=0,A=this.images.length;C<A;){if(this.images[C].assetData===k)return this.images[C].img;C+=1}return null}function x(){this.imagesLoadedCb=null,this.images.length=0}function S(){return this.totalImages===this.loadedAssets}function b(){return this.totalFootages===this.loadedFootagesCount}function T(k,C){k==="svg"?(this._elementHelper=C,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function N(){this._imageLoaded=r.bind(this),this._footageLoaded=i.bind(this),this.testImageLoaded=a.bind(this),this.createFootageData=c.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return N.prototype={loadAssets:d,setAssetsPath:g,setPath:p,loadedImages:S,loadedFootages:b,destroy:x,getAsset:y,createImgData:l,createImageData:o,imageLoaded:r,footageLoaded:i,setCacheType:T},N}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(r,i){if(this._cbs[r])for(var n=this._cbs[r],a=0;a<n.length;a+=1)n[a](i)},addEventListener:function(r,i){return this._cbs[r]||(this._cbs[r]=[]),this._cbs[r].push(i),function(){this.removeEventListener(r,i)}.bind(this)},removeEventListener:function(r,i){if(!i)this._cbs[r]=null;else if(this._cbs[r]){for(var n=0,a=this._cbs[r].length;n<a;)this._cbs[r][n]===i&&(this._cbs[r].splice(n,1),n-=1,a-=1),n+=1;this._cbs[r].length||(this._cbs[r]=null)}}};var markerParser=function(){function e(r){for(var i=r.split(`\r
`),n={},a,o=0,l=0;l<i.length;l+=1)a=i[l].split(":"),a.length===2&&(n[a[0]]=a[1].trim(),o+=1);if(o===0)throw new Error;return n}return function(r){for(var i=[],n=0;n<r.length;n+=1){var a=r[n],o={time:a.tm,duration:a.dr};try{o.payload=JSON.parse(r[n].cm)}catch{try{o.payload=e(r[n].cm)}catch{o.payload={name:r[n].cm}}}i.push(o)}return i}}(),ProjectInterface=function(){function e(r){this.compositions.push(r)}return function(){function r(i){for(var n=0,a=this.compositions.length;n<a;){if(this.compositions[n].data&&this.compositions[n].data.nm===i)return this.compositions[n].prepareFrame&&this.compositions[n].data.xt&&this.compositions[n].prepareFrame(this.currentFrame),this.compositions[n].compInterface;n+=1}return null}return r.compositions=[],r.currentFrame=0,r.registerComposition=e,r}}(),renderers={},registerRenderer=function(r,i){renderers[r]=i};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$4(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var r="svg";e.animType?r=e.animType:e.renderer&&(r=e.renderer);var i=getRenderer(r);this.renderer=new i(this,e.rendererSettings),this.imagePreloader.setCacheType(r,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=r,e.loop===""||e.loop===null||e.loop===void 0||e.loop===!0?this.loop=!0:e.loop===!1?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay="autoplay"in e?e.autoplay:!0,this.name=e.name?e.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(e,"autoloadSegments")?e.autoloadSegments:!0,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(e.path.lastIndexOf("\\")!==-1?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,r){r&&_typeof$4(r)!=="object"&&(r=JSON.parse(r));var i={wrapper:e,animationData:r},n=e.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var a=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";a==="false"?i.loop=!1:a==="true"?i.loop=!0:a!==""&&(i.loop=parseInt(a,10));var o=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:n.getNamedItem("bm-autoplay")?n.getNamedItem("bm-autoplay").value:!0;i.autoplay=o!=="false",i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"";var l=n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"";l==="false"&&(i.prerender=!1),i.path?this.setParams(i):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var r=this.animationData.layers,i,n=r.length,a=e.layers,o,l=a.length;for(o=0;o<l;o+=1)for(i=0;i<n;){if(r[i].id===a[o].id){r[i]=a[o];break}i+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(n=e.assets.length,i=0;i<n;i+=1)this.animationData.assets.push(e.assets[i]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var r=getExpressionsPlugin();r&&r.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||e.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var r=e.shift();this.timeCompleted=r.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(i,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var e=this.animationData.segments;e||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(r){this.triggerConfigError(r)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,r){var i=typeof e=="number"?e:void 0,n=typeof r=="number"?r:void 0;this.renderer.updateContainerSize(i,n)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var r,i=0;i<this.markers.length;i+=1)if(r=this.markers[i],r.payload&&r.payload.name===e)return r;return null},AnimationItem.prototype.goToAndStop=function(e,r,i){if(!(i&&this.name!==i)){var n=Number(e);if(isNaN(n)){var a=this.getMarkerData(e);a&&this.goToAndStop(a.time,!0)}else r?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,r,i){if(!(i&&this.name!==i)){var n=Number(e);if(isNaN(n)){var a=this.getMarkerData(e);a&&(a.duration?this.playSegments([a.time,a.time+a.duration],!0):this.goToAndStop(a.time,!0))}else this.goToAndStop(n,r,i);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!(this.isPaused===!0||this.isLoaded===!1)){var r=this.currentRawFrame+e*this.frameModifier,i=!1;r>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(r>this.totalFrames?r%this.totalFrames:0)||(i=!0,r=this.totalFrames-1):r>=this.totalFrames?(this.playCount+=1,this.checkSegments(r%this.totalFrames)||(this.setCurrentRawFrameValue(r%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(r):r<0?this.checkSegments(r%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+r%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(i=!0,r=0)):this.setCurrentRawFrameValue(r),i&&(this.setCurrentRawFrameValue(r),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,r){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-r)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+r)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,r){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?i=e:this.currentRawFrame+this.firstFrame>r&&(i=r-e)),this.firstFrame=e,this.totalFrames=r-e,this.timeCompleted=this.totalFrames,i!==-1&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(e,r){if(r&&(this.segments.length=0),_typeof$4(e[0])==="object"){var i,n=e.length;for(i=0;i<n;i+=1)this.segments.push(e[i])}else this.segments.push(e);this.segments.length&&r&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return this.segments.length?(this.adjustSegment(this.segments.shift(),e),!0):!1},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,r){r&&this.name!==r||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var r="";if(e.e)r=e.p;else if(this.assetsPath){var i=e.p;i.indexOf("images/")!==-1&&(i=i.split("/")[1]),r=this.assetsPath+i}else r=this.path,r+=e.u?e.u:"",r+=e.p;return r},AnimationItem.prototype.getAssetData=function(e){for(var r=0,i=this.assets.length;r<i;){if(e===this.assets[r].id)return this.assets[r];r+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,r,i){try{var n=this.renderer.getElementByPath(e);n.updateDocumentData(r,i)}catch{}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}e==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),e==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),e==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),e==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),e==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var r=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",r),this.onError&&this.onError.call(this,r)},AnimationItem.prototype.triggerConfigError=function(e){var r=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",r),this.onError&&this.onError.call(this,r)};var animationManager=function(){var e={},r=[],i=0,n=0,a=0,o=!0,l=!1;function c(H){for(var G=0,_=H.target;G<n;)r[G].animation===_&&(r.splice(G,1),G-=1,n-=1,_.isPaused||y()),G+=1}function d(H,G){if(!H)return null;for(var _=0;_<n;){if(r[_].elem===H&&r[_].elem!==null)return r[_].animation;_+=1}var O=new AnimationItem;return x(O,H),O.setData(H,G),O}function p(){var H,G=r.length,_=[];for(H=0;H<G;H+=1)_.push(r[H].animation);return _}function g(){a+=1,re()}function y(){a-=1}function x(H,G){H.addEventListener("destroy",c),H.addEventListener("_active",g),H.addEventListener("_idle",y),r.push({elem:G,animation:H}),n+=1}function S(H){var G=new AnimationItem;return x(G,null),G.setParams(H),G}function b(H,G){var _;for(_=0;_<n;_+=1)r[_].animation.setSpeed(H,G)}function T(H,G){var _;for(_=0;_<n;_+=1)r[_].animation.setDirection(H,G)}function N(H){var G;for(G=0;G<n;G+=1)r[G].animation.play(H)}function k(H){var G=H-i,_;for(_=0;_<n;_+=1)r[_].animation.advanceTime(G);i=H,a&&!l?window.requestAnimationFrame(k):o=!0}function C(H){i=H,window.requestAnimationFrame(k)}function A(H){var G;for(G=0;G<n;G+=1)r[G].animation.pause(H)}function R(H,G,_){var O;for(O=0;O<n;O+=1)r[O].animation.goToAndStop(H,G,_)}function I(H){var G;for(G=0;G<n;G+=1)r[G].animation.stop(H)}function F(H){var G;for(G=0;G<n;G+=1)r[G].animation.togglePause(H)}function z(H){var G;for(G=n-1;G>=0;G-=1)r[G].animation.destroy(H)}function B(H,G,_){var O=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),V,W=O.length;for(V=0;V<W;V+=1)_&&O[V].setAttribute("data-bm-type",_),d(O[V],H);if(G&&W===0){_||(_="svg");var K=document.getElementsByTagName("body")[0];K.innerText="";var Ee=createTag("div");Ee.style.width="100%",Ee.style.height="100%",Ee.setAttribute("data-bm-type",_),K.appendChild(Ee),d(Ee,H)}}function Z(){var H;for(H=0;H<n;H+=1)r[H].animation.resize()}function re(){!l&&a&&o&&(window.requestAnimationFrame(C),o=!1)}function U(){l=!0}function q(){l=!1,re()}function Y(H,G){var _;for(_=0;_<n;_+=1)r[_].animation.setVolume(H,G)}function fe(H){var G;for(G=0;G<n;G+=1)r[G].animation.mute(H)}function Q(H){var G;for(G=0;G<n;G+=1)r[G].animation.unmute(H)}return e.registerAnimation=d,e.loadAnimation=S,e.setSpeed=b,e.setDirection=T,e.play=N,e.pause=A,e.stop=I,e.togglePause=F,e.searchAnimations=B,e.resize=Z,e.goToAndStop=R,e.destroy=z,e.freeze=U,e.unfreeze=q,e.setVolume=Y,e.mute=fe,e.unmute=Q,e.getRegisteredAnimations=p,e}(),BezierFactory=function(){var e={};e.getBezierEasing=i;var r={};function i(C,A,R,I,F){var z=F||("bez_"+C+"_"+A+"_"+R+"_"+I).replace(/\./g,"p");if(r[z])return r[z];var B=new k([C,A,R,I]);return r[z]=B,B}var n=4,a=.001,o=1e-7,l=10,c=11,d=1/(c-1),p=typeof Float32Array=="function";function g(C,A){return 1-3*A+3*C}function y(C,A){return 3*A-6*C}function x(C){return 3*C}function S(C,A,R){return((g(A,R)*C+y(A,R))*C+x(A))*C}function b(C,A,R){return 3*g(A,R)*C*C+2*y(A,R)*C+x(A)}function T(C,A,R,I,F){var z,B,Z=0;do B=A+(R-A)/2,z=S(B,I,F)-C,z>0?R=B:A=B;while(Math.abs(z)>o&&++Z<l);return B}function N(C,A,R,I){for(var F=0;F<n;++F){var z=b(A,R,I);if(z===0)return A;var B=S(A,R,I)-C;A-=B/z}return A}function k(C){this._p=C,this._mSampleValues=p?new Float32Array(c):new Array(c),this._precomputed=!1,this.get=this.get.bind(this)}return k.prototype={get:function(A){var R=this._p[0],I=this._p[1],F=this._p[2],z=this._p[3];return this._precomputed||this._precompute(),R===I&&F===z?A:A===0?0:A===1?1:S(this._getTForX(A),I,z)},_precompute:function(){var A=this._p[0],R=this._p[1],I=this._p[2],F=this._p[3];this._precomputed=!0,(A!==R||I!==F)&&this._calcSampleValues()},_calcSampleValues:function(){for(var A=this._p[0],R=this._p[2],I=0;I<c;++I)this._mSampleValues[I]=S(I*d,A,R)},_getTForX:function(A){for(var R=this._p[0],I=this._p[2],F=this._mSampleValues,z=0,B=1,Z=c-1;B!==Z&&F[B]<=A;++B)z+=d;--B;var re=(A-F[B])/(F[B+1]-F[B]),U=z+re*d,q=b(U,R,I);return q>=a?N(A,U,R,I):q===0?U:T(A,z,z+d,R,I)}},e}(),pooling=function(){function e(r){return r.concat(createSizedArray(r.length))}return{double:e}}(),poolFactory=function(){return function(e,r,i){var n=0,a=e,o=createSizedArray(a),l={newElement:c,release:d};function c(){var p;return n?(n-=1,p=o[n]):p=r(),p}function d(p){n===a&&(o=pooling.double(o),a*=2),i&&i(p),o[n]=p,n+=1}return l}}(),bezierLengthPool=function(){function e(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,e)}(),segmentsLengthPool=function(){function e(){return{lengths:[],totalLength:0}}function r(i){var n,a=i.lengths.length;for(n=0;n<a;n+=1)bezierLengthPool.release(i.lengths[n]);i.lengths.length=0}return poolFactory(8,e,r)}();function bezFunction(){var e=Math;function r(x,S,b,T,N,k){var C=x*T+S*N+b*k-N*T-k*x-b*S;return C>-.001&&C<.001}function i(x,S,b,T,N,k,C,A,R){if(b===0&&k===0&&R===0)return r(x,S,T,N,C,A);var I=e.sqrt(e.pow(T-x,2)+e.pow(N-S,2)+e.pow(k-b,2)),F=e.sqrt(e.pow(C-x,2)+e.pow(A-S,2)+e.pow(R-b,2)),z=e.sqrt(e.pow(C-T,2)+e.pow(A-N,2)+e.pow(R-k,2)),B;return I>F?I>z?B=I-F-z:B=z-F-I:z>F?B=z-F-I:B=F-I-z,B>-1e-4&&B<1e-4}var n=function(){return function(x,S,b,T){var N=getDefaultCurveSegments(),k,C,A,R,I,F=0,z,B=[],Z=[],re=bezierLengthPool.newElement();for(A=b.length,k=0;k<N;k+=1){for(I=k/(N-1),z=0,C=0;C<A;C+=1)R=bmPow(1-I,3)*x[C]+3*bmPow(1-I,2)*I*b[C]+3*(1-I)*bmPow(I,2)*T[C]+bmPow(I,3)*S[C],B[C]=R,Z[C]!==null&&(z+=bmPow(B[C]-Z[C],2)),Z[C]=B[C];z&&(z=bmSqrt(z),F+=z),re.percents[k]=I,re.lengths[k]=F}return re.addedLength=F,re}}();function a(x){var S=segmentsLengthPool.newElement(),b=x.c,T=x.v,N=x.o,k=x.i,C,A=x._length,R=S.lengths,I=0;for(C=0;C<A-1;C+=1)R[C]=n(T[C],T[C+1],N[C],k[C+1]),I+=R[C].addedLength;return b&&A&&(R[C]=n(T[C],T[0],N[C],k[0]),I+=R[C].addedLength),S.totalLength=I,S}function o(x){this.segmentLength=0,this.points=new Array(x)}function l(x,S){this.partialLength=x,this.point=S}var c=function(){var x={};return function(S,b,T,N){var k=(S[0]+"_"+S[1]+"_"+b[0]+"_"+b[1]+"_"+T[0]+"_"+T[1]+"_"+N[0]+"_"+N[1]).replace(/\./g,"p");if(!x[k]){var C=getDefaultCurveSegments(),A,R,I,F,z,B=0,Z,re,U=null;S.length===2&&(S[0]!==b[0]||S[1]!==b[1])&&r(S[0],S[1],b[0],b[1],S[0]+T[0],S[1]+T[1])&&r(S[0],S[1],b[0],b[1],b[0]+N[0],b[1]+N[1])&&(C=2);var q=new o(C);for(I=T.length,A=0;A<C;A+=1){for(re=createSizedArray(I),z=A/(C-1),Z=0,R=0;R<I;R+=1)F=bmPow(1-z,3)*S[R]+3*bmPow(1-z,2)*z*(S[R]+T[R])+3*(1-z)*bmPow(z,2)*(b[R]+N[R])+bmPow(z,3)*b[R],re[R]=F,U!==null&&(Z+=bmPow(re[R]-U[R],2));Z=bmSqrt(Z),B+=Z,q.points[A]=new l(Z,re),U=re}q.segmentLength=B,x[k]=q}return x[k]}}();function d(x,S){var b=S.percents,T=S.lengths,N=b.length,k=bmFloor((N-1)*x),C=x*S.addedLength,A=0;if(k===N-1||k===0||C===T[k])return b[k];for(var R=T[k]>C?-1:1,I=!0;I;)if(T[k]<=C&&T[k+1]>C?(A=(C-T[k])/(T[k+1]-T[k]),I=!1):k+=R,k<0||k>=N-1){if(k===N-1)return b[k];I=!1}return b[k]+(b[k+1]-b[k])*A}function p(x,S,b,T,N,k){var C=d(N,k),A=1-C,R=e.round((A*A*A*x[0]+(C*A*A+A*C*A+A*A*C)*b[0]+(C*C*A+A*C*C+C*A*C)*T[0]+C*C*C*S[0])*1e3)/1e3,I=e.round((A*A*A*x[1]+(C*A*A+A*C*A+A*A*C)*b[1]+(C*C*A+A*C*C+C*A*C)*T[1]+C*C*C*S[1])*1e3)/1e3;return[R,I]}var g=createTypedArray("float32",8);function y(x,S,b,T,N,k,C){N<0?N=0:N>1&&(N=1);var A=d(N,C);k=k>1?1:k;var R=d(k,C),I,F=x.length,z=1-A,B=1-R,Z=z*z*z,re=A*z*z*3,U=A*A*z*3,q=A*A*A,Y=z*z*B,fe=A*z*B+z*A*B+z*z*R,Q=A*A*B+z*A*R+A*z*R,H=A*A*R,G=z*B*B,_=A*B*B+z*R*B+z*B*R,O=A*R*B+z*R*R+A*B*R,V=A*R*R,W=B*B*B,K=R*B*B+B*R*B+B*B*R,Ee=R*R*B+B*R*R+R*B*R,Se=R*R*R;for(I=0;I<F;I+=1)g[I*4]=e.round((Z*x[I]+re*b[I]+U*T[I]+q*S[I])*1e3)/1e3,g[I*4+1]=e.round((Y*x[I]+fe*b[I]+Q*T[I]+H*S[I])*1e3)/1e3,g[I*4+2]=e.round((G*x[I]+_*b[I]+O*T[I]+V*S[I])*1e3)/1e3,g[I*4+3]=e.round((W*x[I]+K*b[I]+Ee*T[I]+Se*S[I])*1e3)/1e3;return g}return{getSegmentsLength:a,getNewSegment:y,getPointInSegment:p,buildBezierData:c,pointOnLine2D:r,pointOnLine3D:i}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,r){var i=this.offsetTime,n;this.propType==="multidimensional"&&(n=createTypedArray("float32",this.pv.length));for(var a=r.lastIndex,o=a,l=this.keyframes.length-1,c=!0,d,p,g;c;){if(d=this.keyframes[o],p=this.keyframes[o+1],o===l-1&&e>=p.t-i){d.h&&(d=p),a=0;break}if(p.t-i>e){a=o;break}o<l-1?o+=1:(a=0,c=!1)}g=this.keyframesMetadata[o]||{};var y,x,S,b,T,N,k=p.t-i,C=d.t-i,A;if(d.to){g.bezierData||(g.bezierData=bez.buildBezierData(d.s,p.s||d.e,d.to,d.ti));var R=g.bezierData;if(e>=k||e<C){var I=e>=k?R.points.length-1:0;for(x=R.points[I].point.length,y=0;y<x;y+=1)n[y]=R.points[I].point[y]}else{g.__fnct?N=g.__fnct:(N=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y,d.n).get,g.__fnct=N),S=N((e-C)/(k-C));var F=R.segmentLength*S,z,B=r.lastFrame<e&&r._lastKeyframeIndex===o?r._lastAddedLength:0;for(T=r.lastFrame<e&&r._lastKeyframeIndex===o?r._lastPoint:0,c=!0,b=R.points.length;c;){if(B+=R.points[T].partialLength,F===0||S===0||T===R.points.length-1){for(x=R.points[T].point.length,y=0;y<x;y+=1)n[y]=R.points[T].point[y];break}else if(F>=B&&F<B+R.points[T+1].partialLength){for(z=(F-B)/R.points[T+1].partialLength,x=R.points[T].point.length,y=0;y<x;y+=1)n[y]=R.points[T].point[y]+(R.points[T+1].point[y]-R.points[T].point[y])*z;break}T<b-1?T+=1:c=!1}r._lastPoint=T,r._lastAddedLength=B-R.points[T].partialLength,r._lastKeyframeIndex=o}}else{var Z,re,U,q,Y;if(l=d.s.length,A=p.s||d.e,this.sh&&d.h!==1)if(e>=k)n[0]=A[0],n[1]=A[1],n[2]=A[2];else if(e<=C)n[0]=d.s[0],n[1]=d.s[1],n[2]=d.s[2];else{var fe=createQuaternion(d.s),Q=createQuaternion(A),H=(e-C)/(k-C);quaternionToEuler(n,slerp(fe,Q,H))}else for(o=0;o<l;o+=1)d.h!==1&&(e>=k?S=1:e<C?S=0:(d.o.x.constructor===Array?(g.__fnct||(g.__fnct=[]),g.__fnct[o]?N=g.__fnct[o]:(Z=d.o.x[o]===void 0?d.o.x[0]:d.o.x[o],re=d.o.y[o]===void 0?d.o.y[0]:d.o.y[o],U=d.i.x[o]===void 0?d.i.x[0]:d.i.x[o],q=d.i.y[o]===void 0?d.i.y[0]:d.i.y[o],N=BezierFactory.getBezierEasing(Z,re,U,q).get,g.__fnct[o]=N)):g.__fnct?N=g.__fnct:(Z=d.o.x,re=d.o.y,U=d.i.x,q=d.i.y,N=BezierFactory.getBezierEasing(Z,re,U,q).get,d.keyframeMetadata=N),S=N((e-C)/(k-C)))),A=p.s||d.e,Y=d.h===1?d.s[o]:d.s[o]+(A[o]-d.s[o])*S,this.propType==="multidimensional"?n[o]=Y:n=Y}return r.lastIndex=a,n}function slerp(e,r,i){var n=[],a=e[0],o=e[1],l=e[2],c=e[3],d=r[0],p=r[1],g=r[2],y=r[3],x,S,b,T,N;return S=a*d+o*p+l*g+c*y,S<0&&(S=-S,d=-d,p=-p,g=-g,y=-y),1-S>1e-6?(x=Math.acos(S),b=Math.sin(x),T=Math.sin((1-i)*x)/b,N=Math.sin(i*x)/b):(T=1-i,N=i),n[0]=T*a+N*d,n[1]=T*o+N*p,n[2]=T*l+N*g,n[3]=T*c+N*y,n}function quaternionToEuler(e,r){var i=r[0],n=r[1],a=r[2],o=r[3],l=Math.atan2(2*n*o-2*i*a,1-2*n*n-2*a*a),c=Math.asin(2*i*n+2*a*o),d=Math.atan2(2*i*o-2*n*a,1-2*i*i-2*a*a);e[0]=l/degToRads,e[1]=c/degToRads,e[2]=d/degToRads}function createQuaternion(e){var r=e[0]*degToRads,i=e[1]*degToRads,n=e[2]*degToRads,a=Math.cos(r/2),o=Math.cos(i/2),l=Math.cos(n/2),c=Math.sin(r/2),d=Math.sin(i/2),p=Math.sin(n/2),g=a*o*l-c*d*p,y=c*d*l+a*o*p,x=c*o*l+a*d*p,S=a*d*l-c*o*p;return[y,x,S,g]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=i&&e>=i||this._caching.lastFrame<r&&e<r))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,this.pv}function setVValue(e){var r;if(this.propType==="unidimensional")r=e*this.mult,mathAbs(this.v-r)>1e-5&&(this.v=r,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)r=e[i]*this.mult,mathAbs(this.v[i]-r)>1e-5&&(this.v[i]=r,this._mdf=!0),i+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var e,r=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(e=0;e<r;e+=1)i=this.effectsSequence[e](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,r,i,n){this.propType="unidimensional",this.mult=i||1,this.data=r,this.v=i?r.k*i:r.k,this.pv=r.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,r,i,n){this.propType="multidimensional",this.mult=i||1,this.data=r,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var a,o=r.k.length;for(this.v=createTypedArray("float32",o),this.pv=createTypedArray("float32",o),this.vel=createTypedArray("float32",o),a=0;a<o;a+=1)this.v[a]=r.k[a]*this.mult,this.pv[a]=r.k[a];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,r,i,n){this.propType="unidimensional",this.keyframes=r.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=i||1,this.elem=e,this.container=n,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,r,i,n){this.propType="multidimensional";var a,o=r.k.length,l,c,d,p;for(a=0;a<o-1;a+=1)r.k[a].to&&r.k[a].s&&r.k[a+1]&&r.k[a+1].s&&(l=r.k[a].s,c=r.k[a+1].s,d=r.k[a].to,p=r.k[a].ti,(l.length===2&&!(l[0]===c[0]&&l[1]===c[1])&&bez.pointOnLine2D(l[0],l[1],c[0],c[1],l[0]+d[0],l[1]+d[1])&&bez.pointOnLine2D(l[0],l[1],c[0],c[1],c[0]+p[0],c[1]+p[1])||l.length===3&&!(l[0]===c[0]&&l[1]===c[1]&&l[2]===c[2])&&bez.pointOnLine3D(l[0],l[1],l[2],c[0],c[1],c[2],l[0]+d[0],l[1]+d[1],l[2]+d[2])&&bez.pointOnLine3D(l[0],l[1],l[2],c[0],c[1],c[2],c[0]+p[0],c[1]+p[1],c[2]+p[2]))&&(r.k[a].to=null,r.k[a].ti=null),l[0]===c[0]&&l[1]===c[1]&&d[0]===0&&d[1]===0&&p[0]===0&&p[1]===0&&(l.length===2||l[2]===c[2]&&d[2]===0&&p[2]===0)&&(r.k[a].to=null,r.k[a].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=r,this.keyframes=r.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=e,this.container=n,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var g=r.k[0].s.length;for(this.v=createTypedArray("float32",g),this.pv=createTypedArray("float32",g),a=0;a<g;a+=1)this.v[a]=initFrame,this.pv[a]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",g)},this.addEffect=addEffect}var PropertyFactory=function(){function e(i,n,a,o,l){n.sid&&(n=i.globalData.slotManager.getProp(n));var c;if(!n.k.length)c=new ValueProperty(i,n,o,l);else if(typeof n.k[0]=="number")c=new MultiDimensionalProperty(i,n,o,l);else switch(a){case 0:c=new KeyframedValueProperty(i,n,o,l);break;case 1:c=new KeyframedMultidimensionalProperty(i,n,o,l);break}return c.effectsSequence.length&&l.addDynamicProperty(c),c}var r={getProp:e};return r}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&(this.dynamicProperties.push(r),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var r,i=this.dynamicProperties.length;for(r=0;r<i;r+=1)this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(r){this.container=r,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function e(){return createTypedArray("float32",2)}return poolFactory(8,e)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,r){this.c=e,this.setLength(r);for(var i=0;i<r;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,r,i,n,a){var o;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o;break;default:o=[];break}(!o[n]||o[n]&&!a)&&(o[n]=pointPool.newElement()),o[n][0]=e,o[n][1]=r},ShapePath.prototype.setTripleAt=function(e,r,i,n,a,o,l,c){this.setXYAt(e,r,"v",l,c),this.setXYAt(i,n,"o",l,c),this.setXYAt(a,o,"i",l,c)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var r=this.v,i=this.o,n=this.i,a=0;this.c&&(e.setTripleAt(r[0][0],r[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),a=1);var o=this._length-1,l=this._length,c;for(c=a;c<l;c+=1)e.setTripleAt(r[o][0],r[o][1],n[o][0],n[o][1],i[o][0],i[o][1],c,!1),o-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function e(){return new ShapePath}function r(a){var o=a._length,l;for(l=0;l<o;l+=1)pointPool.release(a.v[l]),pointPool.release(a.i[l]),pointPool.release(a.o[l]),a.v[l]=null,a.i[l]=null,a.o[l]=null;a._length=0,a.c=!1}function i(a){var o=n.newElement(),l,c=a._length===void 0?a.v.length:a._length;for(o.setLength(c),o.c=a.c,l=0;l<c;l+=1)o.setTripleAt(a.v[l][0],a.v[l][1],a.o[l][0],a.o[l][1],a.i[l][0],a.i[l][1],l);return o}var n=poolFactory(4,e,r);return n.clone=i,n}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=function(){var e={newShapeCollection:a,release:o},r=0,i=4,n=createSizedArray(i);function a(){var l;return r?(r-=1,l=n[r]):l=new ShapeCollection,l}function o(l){var c,d=l._length;for(c=0;c<d;c+=1)shapePool.release(l.shapes[c]);l._length=0,r===i&&(n=pooling.double(n),i*=2),n[r]=l,r+=1}return e}(),ShapePropertyFactory=function(){var e=-999999;function r(k,C,A){var R=A.lastIndex,I,F,z,B,Z,re,U,q,Y,fe=this.keyframes;if(k<fe[0].t-this.offsetTime)I=fe[0].s[0],z=!0,R=0;else if(k>=fe[fe.length-1].t-this.offsetTime)I=fe[fe.length-1].s?fe[fe.length-1].s[0]:fe[fe.length-2].e[0],z=!0;else{for(var Q=R,H=fe.length-1,G=!0,_,O,V;G&&(_=fe[Q],O=fe[Q+1],!(O.t-this.offsetTime>k));)Q<H-1?Q+=1:G=!1;if(V=this.keyframesMetadata[Q]||{},z=_.h===1,R=Q,!z){if(k>=O.t-this.offsetTime)q=1;else if(k<_.t-this.offsetTime)q=0;else{var W;V.__fnct?W=V.__fnct:(W=BezierFactory.getBezierEasing(_.o.x,_.o.y,_.i.x,_.i.y).get,V.__fnct=W),q=W((k-(_.t-this.offsetTime))/(O.t-this.offsetTime-(_.t-this.offsetTime)))}F=O.s?O.s[0]:_.e[0]}I=_.s[0]}for(re=C._length,U=I.i[0].length,A.lastIndex=R,B=0;B<re;B+=1)for(Z=0;Z<U;Z+=1)Y=z?I.i[B][Z]:I.i[B][Z]+(F.i[B][Z]-I.i[B][Z])*q,C.i[B][Z]=Y,Y=z?I.o[B][Z]:I.o[B][Z]+(F.o[B][Z]-I.o[B][Z])*q,C.o[B][Z]=Y,Y=z?I.v[B][Z]:I.v[B][Z]+(F.v[B][Z]-I.v[B][Z])*q,C.v[B][Z]=Y}function i(){var k=this.comp.renderedFrame-this.offsetTime,C=this.keyframes[0].t-this.offsetTime,A=this.keyframes[this.keyframes.length-1].t-this.offsetTime,R=this._caching.lastFrame;return R!==e&&(R<C&&k<C||R>A&&k>A)||(this._caching.lastIndex=R<k?this._caching.lastIndex:0,this.interpolateShape(k,this.pv,this._caching)),this._caching.lastFrame=k,this.pv}function n(){this.paths=this.localShapeCollection}function a(k,C){if(k._length!==C._length||k.c!==C.c)return!1;var A,R=k._length;for(A=0;A<R;A+=1)if(k.v[A][0]!==C.v[A][0]||k.v[A][1]!==C.v[A][1]||k.o[A][0]!==C.o[A][0]||k.o[A][1]!==C.o[A][1]||k.i[A][0]!==C.i[A][0]||k.i[A][1]!==C.i[A][1])return!1;return!0}function o(k){a(this.v,k)||(this.v=shapePool.clone(k),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function l(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var k;this.kf?k=this.pv:this.data.ks?k=this.data.ks.k:k=this.data.pt.k;var C,A=this.effectsSequence.length;for(C=0;C<A;C+=1)k=this.effectsSequence[C](k);this.setVValue(k),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function c(k,C,A){this.propType="shape",this.comp=k.comp,this.container=k,this.elem=k,this.data=C,this.k=!1,this.kf=!1,this._mdf=!1;var R=A===3?C.pt.k:C.ks.k;this.v=shapePool.clone(R),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function d(k){this.effectsSequence.push(k),this.container.addDynamicProperty(this)}c.prototype.interpolateShape=r,c.prototype.getValue=l,c.prototype.setVValue=o,c.prototype.addEffect=d;function p(k,C,A){this.propType="shape",this.comp=k.comp,this.elem=k,this.container=k,this.offsetTime=k.data.st,this.keyframes=A===3?C.pt.k:C.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var R=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,R),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=n,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[i.bind(this)]}p.prototype.getValue=l,p.prototype.interpolateShape=r,p.prototype.setVValue=o,p.prototype.addEffect=d;var g=function(){var k=roundCorner;function C(A,R){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=R.d,this.elem=A,this.comp=A.comp,this.frameId=-1,this.initDynamicPropertyContainer(A),this.p=PropertyFactory.getProp(A,R.p,1,0,this),this.s=PropertyFactory.getProp(A,R.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return C.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var R=this.p.v[0],I=this.p.v[1],F=this.s.v[0]/2,z=this.s.v[1]/2,B=this.d!==3,Z=this.v;Z.v[0][0]=R,Z.v[0][1]=I-z,Z.v[1][0]=B?R+F:R-F,Z.v[1][1]=I,Z.v[2][0]=R,Z.v[2][1]=I+z,Z.v[3][0]=B?R-F:R+F,Z.v[3][1]=I,Z.i[0][0]=B?R-F*k:R+F*k,Z.i[0][1]=I-z,Z.i[1][0]=B?R+F:R-F,Z.i[1][1]=I-z*k,Z.i[2][0]=B?R+F*k:R-F*k,Z.i[2][1]=I+z,Z.i[3][0]=B?R-F:R+F,Z.i[3][1]=I+z*k,Z.o[0][0]=B?R+F*k:R-F*k,Z.o[0][1]=I-z,Z.o[1][0]=B?R+F:R-F,Z.o[1][1]=I+z*k,Z.o[2][0]=B?R-F*k:R+F*k,Z.o[2][1]=I+z,Z.o[3][0]=B?R-F:R+F,Z.o[3][1]=I-z*k}},extendPrototype([DynamicPropertyContainer],C),C}(),y=function(){function k(C,A){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=C,this.comp=C.comp,this.data=A,this.frameId=-1,this.d=A.d,this.initDynamicPropertyContainer(C),A.sy===1?(this.ir=PropertyFactory.getProp(C,A.ir,0,0,this),this.is=PropertyFactory.getProp(C,A.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(C,A.pt,0,0,this),this.p=PropertyFactory.getProp(C,A.p,1,0,this),this.r=PropertyFactory.getProp(C,A.r,0,degToRads,this),this.or=PropertyFactory.getProp(C,A.or,0,0,this),this.os=PropertyFactory.getProp(C,A.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return k.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var A=Math.floor(this.pt.v)*2,R=Math.PI*2/A,I=!0,F=this.or.v,z=this.ir.v,B=this.os.v,Z=this.is.v,re=2*Math.PI*F/(A*2),U=2*Math.PI*z/(A*2),q,Y,fe,Q,H=-Math.PI/2;H+=this.r.v;var G=this.data.d===3?-1:1;for(this.v._length=0,q=0;q<A;q+=1){Y=I?F:z,fe=I?B:Z,Q=I?re:U;var _=Y*Math.cos(H),O=Y*Math.sin(H),V=_===0&&O===0?0:O/Math.sqrt(_*_+O*O),W=_===0&&O===0?0:-_/Math.sqrt(_*_+O*O);_+=+this.p.v[0],O+=+this.p.v[1],this.v.setTripleAt(_,O,_-V*Q*fe*G,O-W*Q*fe*G,_+V*Q*fe*G,O+W*Q*fe*G,q,!0),I=!I,H+=R*G}},convertPolygonToPath:function(){var A=Math.floor(this.pt.v),R=Math.PI*2/A,I=this.or.v,F=this.os.v,z=2*Math.PI*I/(A*4),B,Z=-Math.PI*.5,re=this.data.d===3?-1:1;for(Z+=this.r.v,this.v._length=0,B=0;B<A;B+=1){var U=I*Math.cos(Z),q=I*Math.sin(Z),Y=U===0&&q===0?0:q/Math.sqrt(U*U+q*q),fe=U===0&&q===0?0:-U/Math.sqrt(U*U+q*q);U+=+this.p.v[0],q+=+this.p.v[1],this.v.setTripleAt(U,q,U-Y*z*F*re,q-fe*z*F*re,U+Y*z*F*re,q+fe*z*F*re,B,!0),Z+=R*re}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],k),k}(),x=function(){function k(C,A){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=C,this.comp=C.comp,this.frameId=-1,this.d=A.d,this.initDynamicPropertyContainer(C),this.p=PropertyFactory.getProp(C,A.p,1,0,this),this.s=PropertyFactory.getProp(C,A.s,1,0,this),this.r=PropertyFactory.getProp(C,A.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return k.prototype={convertRectToPath:function(){var A=this.p.v[0],R=this.p.v[1],I=this.s.v[0]/2,F=this.s.v[1]/2,z=bmMin(I,F,this.r.v),B=z*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(A+I,R-F+z,A+I,R-F+z,A+I,R-F+B,0,!0),this.v.setTripleAt(A+I,R+F-z,A+I,R+F-B,A+I,R+F-z,1,!0),z!==0?(this.v.setTripleAt(A+I-z,R+F,A+I-z,R+F,A+I-B,R+F,2,!0),this.v.setTripleAt(A-I+z,R+F,A-I+B,R+F,A-I+z,R+F,3,!0),this.v.setTripleAt(A-I,R+F-z,A-I,R+F-z,A-I,R+F-B,4,!0),this.v.setTripleAt(A-I,R-F+z,A-I,R-F+B,A-I,R-F+z,5,!0),this.v.setTripleAt(A-I+z,R-F,A-I+z,R-F,A-I+B,R-F,6,!0),this.v.setTripleAt(A+I-z,R-F,A+I-B,R-F,A+I-z,R-F,7,!0)):(this.v.setTripleAt(A-I,R+F,A-I+B,R+F,A-I,R+F,2),this.v.setTripleAt(A-I,R-F,A-I,R-F+B,A-I,R-F,3))):(this.v.setTripleAt(A+I,R-F+z,A+I,R-F+B,A+I,R-F+z,0,!0),z!==0?(this.v.setTripleAt(A+I-z,R-F,A+I-z,R-F,A+I-B,R-F,1,!0),this.v.setTripleAt(A-I+z,R-F,A-I+B,R-F,A-I+z,R-F,2,!0),this.v.setTripleAt(A-I,R-F+z,A-I,R-F+z,A-I,R-F+B,3,!0),this.v.setTripleAt(A-I,R+F-z,A-I,R+F-B,A-I,R+F-z,4,!0),this.v.setTripleAt(A-I+z,R+F,A-I+z,R+F,A-I+B,R+F,5,!0),this.v.setTripleAt(A+I-z,R+F,A+I-B,R+F,A+I-z,R+F,6,!0),this.v.setTripleAt(A+I,R+F-z,A+I,R+F-z,A+I,R+F-B,7,!0)):(this.v.setTripleAt(A-I,R-F,A-I+B,R-F,A-I,R-F,1,!0),this.v.setTripleAt(A-I,R+F,A-I,R+F-B,A-I,R+F,2,!0),this.v.setTripleAt(A+I,R+F,A+I-B,R+F,A+I,R+F,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],k),k}();function S(k,C,A){var R;if(A===3||A===4){var I=A===3?C.pt:C.ks,F=I.k;F.length?R=new p(k,C,A):R=new c(k,C,A)}else A===5?R=new x(k,C):A===6?R=new g(k,C):A===7&&(R=new y(k,C));return R.k&&k.addDynamicProperty(R),R}function b(){return c}function T(){return p}var N={};return N.getShapeProp=S,N.getConstructorFunction=b,N.getKeyframedConstructorFunction=T,N}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var e=Math.cos,r=Math.sin,i=Math.tan,n=Math.round;function a(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(_){if(_===0)return this;var O=e(_),V=r(_);return this._t(O,-V,0,0,V,O,0,0,0,0,1,0,0,0,0,1)}function l(_){if(_===0)return this;var O=e(_),V=r(_);return this._t(1,0,0,0,0,O,-V,0,0,V,O,0,0,0,0,1)}function c(_){if(_===0)return this;var O=e(_),V=r(_);return this._t(O,0,V,0,0,1,0,0,-V,0,O,0,0,0,0,1)}function d(_){if(_===0)return this;var O=e(_),V=r(_);return this._t(O,-V,0,0,V,O,0,0,0,0,1,0,0,0,0,1)}function p(_,O){return this._t(1,O,_,1,0,0)}function g(_,O){return this.shear(i(_),i(O))}function y(_,O){var V=e(O),W=r(O);return this._t(V,W,0,0,-W,V,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,i(_),1,0,0,0,0,1,0,0,0,0,1)._t(V,-W,0,0,W,V,0,0,0,0,1,0,0,0,0,1)}function x(_,O,V){return!V&&V!==0&&(V=1),_===1&&O===1&&V===1?this:this._t(_,0,0,0,0,O,0,0,0,0,V,0,0,0,0,1)}function S(_,O,V,W,K,Ee,Se,Ce,De,Fe,qe,Je,et,Ke,ct,Ve){return this.props[0]=_,this.props[1]=O,this.props[2]=V,this.props[3]=W,this.props[4]=K,this.props[5]=Ee,this.props[6]=Se,this.props[7]=Ce,this.props[8]=De,this.props[9]=Fe,this.props[10]=qe,this.props[11]=Je,this.props[12]=et,this.props[13]=Ke,this.props[14]=ct,this.props[15]=Ve,this}function b(_,O,V){return V=V||0,_!==0||O!==0||V!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,_,O,V,1):this}function T(_,O,V,W,K,Ee,Se,Ce,De,Fe,qe,Je,et,Ke,ct,Ve){var Me=this.props;if(_===1&&O===0&&V===0&&W===0&&K===0&&Ee===1&&Se===0&&Ce===0&&De===0&&Fe===0&&qe===1&&Je===0)return Me[12]=Me[12]*_+Me[15]*et,Me[13]=Me[13]*Ee+Me[15]*Ke,Me[14]=Me[14]*qe+Me[15]*ct,Me[15]*=Ve,this._identityCalculated=!1,this;var at=Me[0],st=Me[1],ot=Me[2],lt=Me[3],Ae=Me[4],Ne=Me[5],He=Me[6],Qe=Me[7],Ue=Me[8],it=Me[9],Pe=Me[10],ze=Me[11],Ye=Me[12],Tt=Me[13],At=Me[14],Nt=Me[15];return Me[0]=at*_+st*K+ot*De+lt*et,Me[1]=at*O+st*Ee+ot*Fe+lt*Ke,Me[2]=at*V+st*Se+ot*qe+lt*ct,Me[3]=at*W+st*Ce+ot*Je+lt*Ve,Me[4]=Ae*_+Ne*K+He*De+Qe*et,Me[5]=Ae*O+Ne*Ee+He*Fe+Qe*Ke,Me[6]=Ae*V+Ne*Se+He*qe+Qe*ct,Me[7]=Ae*W+Ne*Ce+He*Je+Qe*Ve,Me[8]=Ue*_+it*K+Pe*De+ze*et,Me[9]=Ue*O+it*Ee+Pe*Fe+ze*Ke,Me[10]=Ue*V+it*Se+Pe*qe+ze*ct,Me[11]=Ue*W+it*Ce+Pe*Je+ze*Ve,Me[12]=Ye*_+Tt*K+At*De+Nt*et,Me[13]=Ye*O+Tt*Ee+At*Fe+Nt*Ke,Me[14]=Ye*V+Tt*Se+At*qe+Nt*ct,Me[15]=Ye*W+Tt*Ce+At*Je+Nt*Ve,this._identityCalculated=!1,this}function N(_){var O=_.props;return this.transform(O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],O[8],O[9],O[10],O[11],O[12],O[13],O[14],O[15])}function k(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function C(_){for(var O=0;O<16;){if(_.props[O]!==this.props[O])return!1;O+=1}return!0}function A(_){var O;for(O=0;O<16;O+=1)_.props[O]=this.props[O];return _}function R(_){var O;for(O=0;O<16;O+=1)this.props[O]=_[O]}function I(_,O,V){return{x:_*this.props[0]+O*this.props[4]+V*this.props[8]+this.props[12],y:_*this.props[1]+O*this.props[5]+V*this.props[9]+this.props[13],z:_*this.props[2]+O*this.props[6]+V*this.props[10]+this.props[14]}}function F(_,O,V){return _*this.props[0]+O*this.props[4]+V*this.props[8]+this.props[12]}function z(_,O,V){return _*this.props[1]+O*this.props[5]+V*this.props[9]+this.props[13]}function B(_,O,V){return _*this.props[2]+O*this.props[6]+V*this.props[10]+this.props[14]}function Z(){var _=this.props[0]*this.props[5]-this.props[1]*this.props[4],O=this.props[5]/_,V=-this.props[1]/_,W=-this.props[4]/_,K=this.props[0]/_,Ee=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/_,Se=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/_,Ce=new Matrix;return Ce.props[0]=O,Ce.props[1]=V,Ce.props[4]=W,Ce.props[5]=K,Ce.props[12]=Ee,Ce.props[13]=Se,Ce}function re(_){var O=this.getInverseMatrix();return O.applyToPointArray(_[0],_[1],_[2]||0)}function U(_){var O,V=_.length,W=[];for(O=0;O<V;O+=1)W[O]=re(_[O]);return W}function q(_,O,V){var W=createTypedArray("float32",6);if(this.isIdentity())W[0]=_[0],W[1]=_[1],W[2]=O[0],W[3]=O[1],W[4]=V[0],W[5]=V[1];else{var K=this.props[0],Ee=this.props[1],Se=this.props[4],Ce=this.props[5],De=this.props[12],Fe=this.props[13];W[0]=_[0]*K+_[1]*Se+De,W[1]=_[0]*Ee+_[1]*Ce+Fe,W[2]=O[0]*K+O[1]*Se+De,W[3]=O[0]*Ee+O[1]*Ce+Fe,W[4]=V[0]*K+V[1]*Se+De,W[5]=V[0]*Ee+V[1]*Ce+Fe}return W}function Y(_,O,V){var W;return this.isIdentity()?W=[_,O,V]:W=[_*this.props[0]+O*this.props[4]+V*this.props[8]+this.props[12],_*this.props[1]+O*this.props[5]+V*this.props[9]+this.props[13],_*this.props[2]+O*this.props[6]+V*this.props[10]+this.props[14]],W}function fe(_,O){if(this.isIdentity())return _+","+O;var V=this.props;return Math.round((_*V[0]+O*V[4]+V[12])*100)/100+","+Math.round((_*V[1]+O*V[5]+V[13])*100)/100}function Q(){for(var _=0,O=this.props,V="matrix3d(",W=1e4;_<16;)V+=n(O[_]*W)/W,V+=_===15?")":",",_+=1;return V}function H(_){var O=1e4;return _<1e-6&&_>0||_>-1e-6&&_<0?n(_*O)/O:_}function G(){var _=this.props,O=H(_[0]),V=H(_[1]),W=H(_[4]),K=H(_[5]),Ee=H(_[12]),Se=H(_[13]);return"matrix("+O+","+V+","+W+","+K+","+Ee+","+Se+")"}return function(){this.reset=a,this.rotate=o,this.rotateX=l,this.rotateY=c,this.rotateZ=d,this.skew=g,this.skewFromAxis=y,this.shear=p,this.scale=x,this.setTransform=S,this.translate=b,this.transform=T,this.multiply=N,this.applyToPoint=I,this.applyToX=F,this.applyToY=z,this.applyToZ=B,this.applyToPointArray=Y,this.applyToTriplePoints=q,this.applyToPointStringified=fe,this.toCSS=Q,this.to2dCSS=G,this.clone=A,this.cloneFromProps=R,this.equals=C,this.inversePoints=U,this.inversePoint=re,this.getInverseMatrix=Z,this._t=this.transform,this.isIdentity=k,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$3(e)}var lottie={};function setLocation(e){setLocationHref(e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if(typeof e=="string")switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e)}function inBrowser(){return typeof navigator<"u"}function installPlugin(e,r){e==="expressions"&&setExpressionsPlugin(r)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var r=queryString.split("&"),i=0;i<r.length;i+=1){var n=r[i].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(e){}var ShapeModifiers=function(){var e={},r={};e.registerModifier=i,e.getModifier=n;function i(a,o){r[a]||(r[a]=o)}function n(a,o,l){return new r[a](o,l)}return e}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var r={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(r),this.addShapeToModifier(r),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,r){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,r),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,r){this.s=PropertyFactory.getProp(e,r.s,0,.01,this),this.e=PropertyFactory.getProp(e,r.e,0,.01,this),this.o=PropertyFactory.getProp(e,r.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=r.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,r,i,n,a){var o=[];r<=1?o.push({s:e,e:r}):e>=1?o.push({s:e-1,e:r-1}):(o.push({s:e,e:1}),o.push({s:0,e:r-1}));var l=[],c,d=o.length,p;for(c=0;c<d;c+=1)if(p=o[c],!(p.e*a<n||p.s*a>n+i)){var g,y;p.s*a<=n?g=0:g=(p.s*a-n)/i,p.e*a>=n+i?y=1:y=(p.e*a-n)/i,l.push([g,y])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var r,i=e.length;for(r=0;r<i;r+=1)segmentsLengthPool.release(e[r]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var r,i;if(this._mdf||e){var n=this.o.v%360/360;if(n<0&&(n+=1),this.s.v>1?r=1+n:this.s.v<0?r=0+n:r=this.s.v+n,this.e.v>1?i=1+n:this.e.v<0?i=0+n:i=this.e.v+n,r>i){var a=r;r=i,i=a}r=Math.round(r*1e4)*1e-4,i=Math.round(i*1e4)*1e-4,this.sValue=r,this.eValue=i}else r=this.sValue,i=this.eValue;var o,l,c=this.shapes.length,d,p,g,y,x,S=0;if(i===r)for(l=0;l<c;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(i===1&&r===0||i===0&&r===1){if(this._mdf)for(l=0;l<c;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var b=[],T,N;for(l=0;l<c;l+=1)if(T=this.shapes[l],!T.shape._mdf&&!this._mdf&&!e&&this.m!==2)T.shape.paths=T.localShapeCollection;else{if(o=T.shape.paths,p=o._length,x=0,!T.shape._mdf&&T.pathsData.length)x=T.totalShapeLength;else{for(g=this.releasePathsData(T.pathsData),d=0;d<p;d+=1)y=bez.getSegmentsLength(o.shapes[d]),g.push(y),x+=y.totalLength;T.totalShapeLength=x,T.pathsData=g}S+=x,T.shape._mdf=!0}var k=r,C=i,A=0,R;for(l=c-1;l>=0;l-=1)if(T=this.shapes[l],T.shape._mdf){for(N=T.localShapeCollection,N.releaseShapes(),this.m===2&&c>1?(R=this.calculateShapeEdges(r,i,T.totalShapeLength,A,S),A+=T.totalShapeLength):R=[[k,C]],p=R.length,d=0;d<p;d+=1){k=R[d][0],C=R[d][1],b.length=0,C<=1?b.push({s:T.totalShapeLength*k,e:T.totalShapeLength*C}):k>=1?b.push({s:T.totalShapeLength*(k-1),e:T.totalShapeLength*(C-1)}):(b.push({s:T.totalShapeLength*k,e:T.totalShapeLength}),b.push({s:0,e:T.totalShapeLength*(C-1)}));var I=this.addShapes(T,b[0]);if(b[0].s!==b[0].e){if(b.length>1){var F=T.shape.paths.shapes[T.shape.paths._length-1];if(F.c){var z=I.pop();this.addPaths(I,N),I=this.addShapes(T,b[1],z)}else this.addPaths(I,N),I=this.addShapes(T,b[1])}this.addPaths(I,N)}}T.shape.paths=N}}},TrimModifier.prototype.addPaths=function(e,r){var i,n=e.length;for(i=0;i<n;i+=1)r.addShape(e[i])},TrimModifier.prototype.addSegment=function(e,r,i,n,a,o,l){a.setXYAt(r[0],r[1],"o",o),a.setXYAt(i[0],i[1],"i",o+1),l&&a.setXYAt(e[0],e[1],"v",o),a.setXYAt(n[0],n[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(e,r,i,n){r.setXYAt(e[1],e[5],"o",i),r.setXYAt(e[2],e[6],"i",i+1),n&&r.setXYAt(e[0],e[4],"v",i),r.setXYAt(e[3],e[7],"v",i+1)},TrimModifier.prototype.addShapes=function(e,r,i){var n=e.pathsData,a=e.shape.paths.shapes,o,l=e.shape.paths._length,c,d,p=0,g,y,x,S,b=[],T,N=!0;for(i?(y=i._length,T=i._length):(i=shapePool.newElement(),y=0,T=0),b.push(i),o=0;o<l;o+=1){for(x=n[o].lengths,i.c=a[o].c,d=a[o].c?x.length:x.length+1,c=1;c<d;c+=1)if(g=x[c-1],p+g.addedLength<r.s)p+=g.addedLength,i.c=!1;else if(p>r.e){i.c=!1;break}else r.s<=p&&r.e>=p+g.addedLength?(this.addSegment(a[o].v[c-1],a[o].o[c-1],a[o].i[c],a[o].v[c],i,y,N),N=!1):(S=bez.getNewSegment(a[o].v[c-1],a[o].v[c],a[o].o[c-1],a[o].i[c],(r.s-p)/g.addedLength,(r.e-p)/g.addedLength,x[c-1]),this.addSegmentFromArray(S,i,y,N),N=!1,i.c=!1),p+=g.addedLength,y+=1;if(a[o].c&&x.length){if(g=x[c-1],p<=r.e){var k=x[c-1].addedLength;r.s<=p&&r.e>=p+k?(this.addSegment(a[o].v[c-1],a[o].o[c-1],a[o].i[0],a[o].v[0],i,y,N),N=!1):(S=bez.getNewSegment(a[o].v[c-1],a[o].v[0],a[o].o[c-1],a[o].i[0],(r.s-p)/k,(r.e-p)/k,x[c-1]),this.addSegmentFromArray(S,i,y,N),N=!1,i.c=!1)}else i.c=!1;p+=g.addedLength,y+=1}if(i._length&&(i.setXYAt(i.v[T][0],i.v[T][1],"i",T),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),p>r.e)break;o<l-1&&(i=shapePool.newElement(),N=!0,b.push(i),y=0)}return b};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,r){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,r.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,r){var i=r/100,n=[0,0],a=e._length,o=0;for(o=0;o<a;o+=1)n[0]+=e.v[o][0],n[1]+=e.v[o][1];n[0]/=a,n[1]/=a;var l=shapePool.newElement();l.c=e.c;var c,d,p,g,y,x;for(o=0;o<a;o+=1)c=e.v[o][0]+(n[0]-e.v[o][0])*i,d=e.v[o][1]+(n[1]-e.v[o][1])*i,p=e.o[o][0]+(n[0]-e.o[o][0])*-i,g=e.o[o][1]+(n[1]-e.o[o][1])*-i,y=e.i[o][0]+(n[0]-e.i[o][0])*-i,x=e.i[o][1]+(n[1]-e.i[o][1])*-i,l.setTripleAt(c,d,p,g,y,x,o);return l},PuckerAndBloatModifier.prototype.processShapes=function(e){var r,i,n=this.shapes.length,a,o,l=this.amount.v;if(l!==0){var c,d;for(i=0;i<n;i+=1){if(c=this.shapes[i],d=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!e))for(d.releaseShapes(),c.shape._mdf=!0,r=c.shape.paths.shapes,o=c.shape.paths._length,a=0;a<o;a+=1)d.addShape(this.processPath(r[a],l));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function r(d){var p=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||p,this.a&&d.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&d.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&d.skewFromAxis(-this.sk.v,this.sa.v),this.r?d.rotate(-this.r.v):d.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?d.translate(this.px.v,this.py.v,-this.pz.v):d.translate(this.px.v,this.py.v,0):d.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function i(d){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||d){var p;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var g,y;if(p=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(g=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/p,0),y=this.p.getValueAtTime(this.p.keyframes[0].t/p,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(g=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/p,0),y=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/p,0)):(g=this.p.pv,y=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/p,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){g=[],y=[];var x=this.px,S=this.py;x._caching.lastFrame+x.offsetTime<=x.keyframes[0].t?(g[0]=x.getValueAtTime((x.keyframes[0].t+.01)/p,0),g[1]=S.getValueAtTime((S.keyframes[0].t+.01)/p,0),y[0]=x.getValueAtTime(x.keyframes[0].t/p,0),y[1]=S.getValueAtTime(S.keyframes[0].t/p,0)):x._caching.lastFrame+x.offsetTime>=x.keyframes[x.keyframes.length-1].t?(g[0]=x.getValueAtTime(x.keyframes[x.keyframes.length-1].t/p,0),g[1]=S.getValueAtTime(S.keyframes[S.keyframes.length-1].t/p,0),y[0]=x.getValueAtTime((x.keyframes[x.keyframes.length-1].t-.01)/p,0),y[1]=S.getValueAtTime((S.keyframes[S.keyframes.length-1].t-.01)/p,0)):(g=[x.pv,S.pv],y[0]=x.getValueAtTime((x._caching.lastFrame+x.offsetTime-.01)/p,x.offsetTime),y[1]=S.getValueAtTime((S._caching.lastFrame+S.offsetTime-.01)/p,S.offsetTime))}else y=e,g=y;this.v.rotate(-Math.atan2(g[1]-y[1],g[0]-y[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function n(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function a(){}function o(d){this._addDynamicProperty(d),this.elem.addDynamicProperty(d),this._isDirty=!0}function l(d,p,g){if(this.elem=d,this.frameId=-1,this.propType="transform",this.data=p,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(g||d),p.p&&p.p.s?(this.px=PropertyFactory.getProp(d,p.p.x,0,0,this),this.py=PropertyFactory.getProp(d,p.p.y,0,0,this),p.p.z&&(this.pz=PropertyFactory.getProp(d,p.p.z,0,0,this))):this.p=PropertyFactory.getProp(d,p.p||{k:[0,0,0]},1,0,this),p.rx){if(this.rx=PropertyFactory.getProp(d,p.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(d,p.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(d,p.rz,0,degToRads,this),p.or.k[0].ti){var y,x=p.or.k.length;for(y=0;y<x;y+=1)p.or.k[y].to=null,p.or.k[y].ti=null}this.or=PropertyFactory.getProp(d,p.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(d,p.r||{k:0},0,degToRads,this);p.sk&&(this.sk=PropertyFactory.getProp(d,p.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(d,p.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(d,p.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(d,p.s||{k:[100,100,100]},1,.01,this),p.o?this.o=PropertyFactory.getProp(d,p.o,0,.01,d):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}l.prototype={applyToMatrix:r,getValue:i,precalculateMatrix:n,autoOrient:a},extendPrototype([DynamicPropertyContainer],l),l.prototype.addDynamicProperty=o,l.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function c(d,p,g){return new l(d,p,g)}return{getTransformProperty:c}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,r){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,r.c,0,null,this),this.o=PropertyFactory.getProp(e,r.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,r.tr,this),this.so=PropertyFactory.getProp(e,r.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,r.tr.eo,0,.01,this),this.data=r,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,r,i,n,a,o){var l=o?-1:1,c=n.s.v[0]+(1-n.s.v[0])*(1-a),d=n.s.v[1]+(1-n.s.v[1])*(1-a);e.translate(n.p.v[0]*l*a,n.p.v[1]*l*a,n.p.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.rotate(-n.r.v*l*a),r.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(o?1/c:c,o?1/d:d),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,r,i,n){for(this.elem=e,this.arr=r,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,r[i]);i>0;)i-=1,this._elements.unshift(r[i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var r,i=e.length;for(r=0;r<i;r+=1)e[r]._processed=!1,e[r].ty==="gr"&&this.resetElements(e[r].it)},RepeaterModifier.prototype.cloneElements=function(e){var r=JSON.parse(JSON.stringify(e));return this.resetElements(r),r},RepeaterModifier.prototype.changeGroupRender=function(e,r){var i,n=e.length;for(i=0;i<n;i+=1)e[i]._render=r,e[i].ty==="gr"&&this.changeGroupRender(e[i].it,r)},RepeaterModifier.prototype.processShapes=function(e){var r,i,n,a,o,l=!1;if(this._mdf||e){var c=Math.ceil(this.c.v);if(this._groups.length<c){for(;this._groups.length<c;){var d={it:this.cloneElements(this._elements),ty:"gr"};d.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,d),this._groups.splice(0,0,d),this._currentCopies+=1}this.elem.reloadShapes(),l=!0}o=0;var p;for(n=0;n<=this._groups.length-1;n+=1){if(p=o<c,this._groups[n]._render=p,this.changeGroupRender(this._groups[n].it,p),!p){var g=this.elemsData[n].it,y=g[g.length-1];y.transform.op.v!==0?(y.transform.op._mdf=!0,y.transform.op.v=0):y.transform.op._mdf=!1}o+=1}this._currentCopies=c;var x=this.o.v,S=x%1,b=x>0?Math.floor(x):Math.ceil(x),T=this.pMatrix.props,N=this.rMatrix.props,k=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var C=0;if(x>0){for(;C<b;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),C+=1;S&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,S,!1),C+=S)}else if(x<0){for(;C>b;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),C-=1;S&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-S,!0),C-=S)}n=this.data.m===1?0:this._currentCopies-1,a=this.data.m===1?1:-1,o=this._currentCopies;for(var A,R;o;){if(r=this.elemsData[n].it,i=r[r.length-1].transform.mProps.v.props,R=i.length,r[r.length-1].transform.mProps._mdf=!0,r[r.length-1].transform.op._mdf=!0,r[r.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),C!==0){for((n!==0&&a===1||n!==this._currentCopies-1&&a===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],N[8],N[9],N[10],N[11],N[12],N[13],N[14],N[15]),this.matrix.transform(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15]),this.matrix.transform(T[0],T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15]),A=0;A<R;A+=1)i[A]=this.matrix.props[A];this.matrix.reset()}else for(this.matrix.reset(),A=0;A<R;A+=1)i[A]=this.matrix.props[A];C+=1,o-=1,n+=a}}else for(o=this._currentCopies,n=0,a=1;o;)r=this.elemsData[n].it,i=r[r.length-1].transform.mProps.v.props,r[r.length-1].transform.mProps._mdf=!1,r[r.length-1].transform.op._mdf=!1,o-=1,n+=a;return l},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,r){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,r.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,r){var i=shapePool.newElement();i.c=e.c;var n,a=e._length,o,l,c,d,p,g,y=0,x,S,b,T,N,k;for(n=0;n<a;n+=1)o=e.v[n],c=e.o[n],l=e.i[n],o[0]===c[0]&&o[1]===c[1]&&o[0]===l[0]&&o[1]===l[1]?(n===0||n===a-1)&&!e.c?(i.setTripleAt(o[0],o[1],c[0],c[1],l[0],l[1],y),y+=1):(n===0?d=e.v[a-1]:d=e.v[n-1],p=Math.sqrt(Math.pow(o[0]-d[0],2)+Math.pow(o[1]-d[1],2)),g=p?Math.min(p/2,r)/p:0,N=o[0]+(d[0]-o[0])*g,x=N,k=o[1]-(o[1]-d[1])*g,S=k,b=x-(x-o[0])*roundCorner,T=S-(S-o[1])*roundCorner,i.setTripleAt(x,S,b,T,N,k,y),y+=1,n===a-1?d=e.v[0]:d=e.v[n+1],p=Math.sqrt(Math.pow(o[0]-d[0],2)+Math.pow(o[1]-d[1],2)),g=p?Math.min(p/2,r)/p:0,b=o[0]+(d[0]-o[0])*g,x=b,T=o[1]+(d[1]-o[1])*g,S=T,N=x-(x-o[0])*roundCorner,k=S-(S-o[1])*roundCorner,i.setTripleAt(x,S,b,T,N,k,y),y+=1):(i.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],y),y+=1);return i},RoundCornersModifier.prototype.processShapes=function(e){var r,i,n=this.shapes.length,a,o,l=this.rd.v;if(l!==0){var c,d;for(i=0;i<n;i+=1){if(c=this.shapes[i],d=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!e))for(d.releaseShapes(),c.shape._mdf=!0,r=c.shape.paths.shapes,o=c.shape.paths._length,a=0;a<o;a+=1)d.addShape(this.processPath(r[a],l));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(e,r){return Math.abs(e-r)*1e5<=Math.min(Math.abs(e),Math.abs(r))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,r,i){return e*(1-i)+r*i}function lerpPoint(e,r,i){return[lerp(e[0],r[0],i),lerp(e[1],r[1],i)]}function quadRoots(e,r,i){if(e===0)return[];var n=r*r-4*e*i;if(n<0)return[];var a=-r/(2*e);if(n===0)return[a];var o=Math.sqrt(n)/(2*e);return[a-o,a+o]}function polynomialCoefficients(e,r,i,n){return[-e+3*r-3*i+n,3*e-6*r+3*i,-3*e+3*r,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,r,i,n,a){a&&pointEqual(e,r)&&(r=lerpPoint(e,n,1/3)),a&&pointEqual(i,n)&&(i=lerpPoint(e,n,2/3));var o=polynomialCoefficients(e[0],r[0],i[0],n[0]),l=polynomialCoefficients(e[1],r[1],i[1],n[1]);this.a=[o[0],l[0]],this.b=[o[1],l[1]],this.c=[o[2],l[2]],this.d=[o[3],l[3]],this.points=[e,r,i,n]}PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var r=this.derivative(e);return Math.atan2(r[1],r[0])},PolynomialBezier.prototype.normalAngle=function(e){var r=this.derivative(e);return Math.atan2(r[0],r[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var r=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,i=r*r-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(i<0)return[];var n=Math.sqrt(i);return floatZero(n)?n>0&&n<1?[r]:[]:[r-n,r+n].filter(function(a){return a>0&&a<1})},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var r=lerpPoint(this.points[0],this.points[1],e),i=lerpPoint(this.points[1],this.points[2],e),n=lerpPoint(this.points[2],this.points[3],e),a=lerpPoint(r,i,e),o=lerpPoint(i,n,e),l=lerpPoint(a,o,e);return[new PolynomialBezier(this.points[0],r,a,l,!0),new PolynomialBezier(l,o,n,this.points[3],!0)]};function extrema(e,r){var i=e.points[0][r],n=e.points[e.points.length-1][r];if(i>n){var a=n;n=i,i=a}for(var o=quadRoots(3*e.a[r],2*e.b[r],e.c[r]),l=0;l<o.length;l+=1)if(o[l]>0&&o[l]<1){var c=e.point(o[l])[r];c<i?i=c:c>n&&(n=c)}return{min:i,max:n}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}};function intersectData(e,r,i){var n=e.boundingBox();return{cx:n.cx,cy:n.cy,width:n.width,height:n.height,bez:e,t:(r+i)/2,t1:r,t2:i}}function splitData(e){var r=e.bez.split(.5);return[intersectData(r[0],e.t1,e.t),intersectData(r[1],e.t,e.t2)]}function boxIntersect(e,r){return Math.abs(e.cx-r.cx)*2<e.width+r.width&&Math.abs(e.cy-r.cy)*2<e.height+r.height}function intersectsImpl(e,r,i,n,a,o){if(boxIntersect(e,r)){if(i>=o||e.width<=n&&e.height<=n&&r.width<=n&&r.height<=n){a.push([e.t,r.t]);return}var l=splitData(e),c=splitData(r);intersectsImpl(l[0],c[0],i+1,n,a,o),intersectsImpl(l[0],c[1],i+1,n,a,o),intersectsImpl(l[1],c[0],i+1,n,a,o),intersectsImpl(l[1],c[1],i+1,n,a,o)}}PolynomialBezier.prototype.intersections=function(e,r,i){r===void 0&&(r=2),i===void 0&&(i=7);var n=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,r,n,i),n},PolynomialBezier.shapeSegment=function(e,r){var i=(r+1)%e.length();return new PolynomialBezier(e.v[r],e.o[r],e.i[i],e.v[i],!0)},PolynomialBezier.shapeSegmentInverted=function(e,r){var i=(r+1)%e.length();return new PolynomialBezier(e.v[i],e.i[i],e.o[r],e.v[r],!0)};function crossProduct(e,r){return[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]]}function lineIntersection(e,r,i,n){var a=[e[0],e[1],1],o=[r[0],r[1],1],l=[i[0],i[1],1],c=[n[0],n[1],1],d=crossProduct(crossProduct(a,o),crossProduct(l,c));return floatZero(d[2])?null:[d[0]/d[2],d[1]/d[2]]}function polarOffset(e,r,i){return[e[0]+Math.cos(r)*i,e[1]-Math.sin(r)*i]}function pointDistance(e,r){return Math.hypot(e[0]-r[0],e[1]-r[1])}function pointEqual(e,r){return floatEqual(e[0],r[0])&&floatEqual(e[1],r[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,r){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,r.s,0,null,this),this.frequency=PropertyFactory.getProp(e,r.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,r.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(e,r,i,n,a,o,l){var c=i-Math.PI/2,d=i+Math.PI/2,p=r[0]+Math.cos(i)*n*a,g=r[1]-Math.sin(i)*n*a;e.setTripleAt(p,g,p+Math.cos(c)*o,g-Math.sin(c)*o,p+Math.cos(d)*l,g-Math.sin(d)*l,e.length())}function getPerpendicularVector(e,r){var i=[r[0]-e[0],r[1]-e[1]],n=-Math.PI*.5,a=[Math.cos(n)*i[0]-Math.sin(n)*i[1],Math.sin(n)*i[0]+Math.cos(n)*i[1]];return a}function getProjectingAngle(e,r){var i=r===0?e.length()-1:r-1,n=(r+1)%e.length(),a=e.v[i],o=e.v[n],l=getPerpendicularVector(a,o);return Math.atan2(0,1)-Math.atan2(l[1],l[0])}function zigZagCorner(e,r,i,n,a,o,l){var c=getProjectingAngle(r,i),d=r.v[i%r._length],p=r.v[i===0?r._length-1:i-1],g=r.v[(i+1)%r._length],y=o===2?Math.sqrt(Math.pow(d[0]-p[0],2)+Math.pow(d[1]-p[1],2)):0,x=o===2?Math.sqrt(Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2)):0;setPoint(e,r.v[i%r._length],c,l,n,x/((a+1)*2),y/((a+1)*2))}function zigZagSegment(e,r,i,n,a,o){for(var l=0;l<n;l+=1){var c=(l+1)/(n+1),d=a===2?Math.sqrt(Math.pow(r.points[3][0]-r.points[0][0],2)+Math.pow(r.points[3][1]-r.points[0][1],2)):0,p=r.normalAngle(c),g=r.point(c);setPoint(e,g,p,o,i,d/((n+1)*2),d/((n+1)*2)),o=-o}return o}ZigZagModifier.prototype.processPath=function(e,r,i,n){var a=e._length,o=shapePool.newElement();if(o.c=e.c,e.c||(a-=1),a===0)return o;var l=-1,c=PolynomialBezier.shapeSegment(e,0);zigZagCorner(o,e,0,r,i,n,l);for(var d=0;d<a;d+=1)l=zigZagSegment(o,c,r,i,n,-l),d===a-1&&!e.c?c=null:c=PolynomialBezier.shapeSegment(e,(d+1)%a),zigZagCorner(o,e,d+1,r,i,n,l);return o},ZigZagModifier.prototype.processShapes=function(e){var r,i,n=this.shapes.length,a,o,l=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),d=this.pointsType.v;if(l!==0){var p,g;for(i=0;i<n;i+=1){if(p=this.shapes[i],g=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!e))for(g.releaseShapes(),p.shape._mdf=!0,r=p.shape.paths.shapes,o=p.shape.paths._length,a=0;a<o;a+=1)g.addShape(this.processPath(r[a],l,c,d));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(e,r,i){var n=Math.atan2(r[0]-e[0],r[1]-e[1]);return[polarOffset(e,n,i),polarOffset(r,n,i)]}function offsetSegment(e,r){var i,n,a,o,l,c,d;d=linearOffset(e.points[0],e.points[1],r),i=d[0],n=d[1],d=linearOffset(e.points[1],e.points[2],r),a=d[0],o=d[1],d=linearOffset(e.points[2],e.points[3],r),l=d[0],c=d[1];var p=lineIntersection(i,n,a,o);p===null&&(p=n);var g=lineIntersection(l,c,a,o);return g===null&&(g=l),new PolynomialBezier(i,p,g,c)}function joinLines(e,r,i,n,a){var o=r.points[3],l=i.points[0];if(n===3||pointEqual(o,l))return o;if(n===2){var c=-r.tangentAngle(1),d=-i.tangentAngle(0)+Math.PI,p=lineIntersection(o,polarOffset(o,c+Math.PI/2,100),l,polarOffset(l,c+Math.PI/2,100)),g=p?pointDistance(p,o):pointDistance(o,l)/2,y=polarOffset(o,c,2*g*roundCorner);return e.setXYAt(y[0],y[1],"o",e.length()-1),y=polarOffset(l,d,2*g*roundCorner),e.setTripleAt(l[0],l[1],l[0],l[1],y[0],y[1],e.length()),l}var x=pointEqual(o,r.points[2])?r.points[0]:r.points[2],S=pointEqual(l,i.points[1])?i.points[3]:i.points[1],b=lineIntersection(x,o,l,S);return b&&pointDistance(b,o)<a?(e.setTripleAt(b[0],b[1],b[0],b[1],b[0],b[1],e.length()),b):o}function getIntersection(e,r){var i=e.intersections(r);return i.length&&floatEqual(i[0][0],1)&&i.shift(),i.length?i[0]:null}function pruneSegmentIntersection(e,r){var i=e.slice(),n=r.slice(),a=getIntersection(e[e.length-1],r[0]);return a&&(i[e.length-1]=e[e.length-1].split(a[0])[0],n[0]=r[0].split(a[1])[1]),e.length>1&&r.length>1&&(a=getIntersection(e[0],r[r.length-1]),a)?[[e[0].split(a[0])[0]],[r[r.length-1].split(a[1])[1]]]:[i,n]}function pruneIntersections(e){for(var r,i=1;i<e.length;i+=1)r=pruneSegmentIntersection(e[i-1],e[i]),e[i-1]=r[0],e[i]=r[1];return e.length>1&&(r=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=r[0],e[0]=r[1]),e}function offsetSegmentSplit(e,r){var i=e.inflectionPoints(),n,a,o,l;if(i.length===0)return[offsetSegment(e,r)];if(i.length===1||floatEqual(i[1],1))return o=e.split(i[0]),n=o[0],a=o[1],[offsetSegment(n,r),offsetSegment(a,r)];o=e.split(i[0]),n=o[0];var c=(i[1]-i[0])/(1-i[0]);return o=o[1].split(c),l=o[0],a=o[1],[offsetSegment(n,r),offsetSegment(l,r),offsetSegment(a,r)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,r){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,r.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,r.ml,0,null,this),this.lineJoin=r.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(e,r,i,n){var a=shapePool.newElement();a.c=e.c;var o=e.length();e.c||(o-=1);var l,c,d,p=[];for(l=0;l<o;l+=1)d=PolynomialBezier.shapeSegment(e,l),p.push(offsetSegmentSplit(d,r));if(!e.c)for(l=o-1;l>=0;l-=1)d=PolynomialBezier.shapeSegmentInverted(e,l),p.push(offsetSegmentSplit(d,r));p=pruneIntersections(p);var g=null,y=null;for(l=0;l<p.length;l+=1){var x=p[l];for(y&&(g=joinLines(a,y,x[0],i,n)),y=x[x.length-1],c=0;c<x.length;c+=1)d=x[c],g&&pointEqual(d.points[0],g)?a.setXYAt(d.points[1][0],d.points[1][1],"o",a.length()-1):a.setTripleAt(d.points[0][0],d.points[0][1],d.points[1][0],d.points[1][1],d.points[0][0],d.points[0][1],a.length()),a.setTripleAt(d.points[3][0],d.points[3][1],d.points[3][0],d.points[3][1],d.points[2][0],d.points[2][1],a.length()),g=d.points[3]}return p.length&&joinLines(a,y,p[0][0],i,n),a},OffsetPathModifier.prototype.processShapes=function(e){var r,i,n=this.shapes.length,a,o,l=this.amount.v,c=this.miterLimit.v,d=this.lineJoin;if(l!==0){var p,g;for(i=0;i<n;i+=1){if(p=this.shapes[i],g=p.localShapeCollection,!(!p.shape._mdf&&!this._mdf&&!e))for(g.releaseShapes(),p.shape._mdf=!0,r=p.shape.paths.shapes,o=p.shape.paths._length,a=0;a<o;a+=1)g.addShape(this.processPath(r[a],l,d,c));p.shape.paths=p.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(e){for(var r=e.fStyle?e.fStyle.split(" "):[],i="normal",n="normal",a=r.length,o,l=0;l<a;l+=1)switch(o=r[l].toLowerCase(),o){case"italic":n="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200";break}return{style:n,weight:e.fWeight||i}}var FontManager=function(){var e=5e3,r={w:0,size:0,shapes:[],data:{shapes:[]}},i=[];i=i.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var n=127988,a=917631,o=917601,l=917626,c=65039,d=8205,p=127462,g=127487,y=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function x(H){var G=H.split(","),_,O=G.length,V=[];for(_=0;_<O;_+=1)G[_]!=="sans-serif"&&G[_]!=="monospace"&&V.push(G[_]);return V.join(",")}function S(H,G){var _=createTag("span");_.setAttribute("aria-hidden",!0),_.style.fontFamily=G;var O=createTag("span");O.innerText="giItT1WQy@!-/#",_.style.position="absolute",_.style.left="-10000px",_.style.top="-10000px",_.style.fontSize="300px",_.style.fontVariant="normal",_.style.fontStyle="normal",_.style.fontWeight="normal",_.style.letterSpacing="0",_.appendChild(O),document.body.appendChild(_);var V=O.offsetWidth;return O.style.fontFamily=x(H)+", "+G,{node:O,w:V,parent:_}}function b(){var H,G=this.fonts.length,_,O,V=G;for(H=0;H<G;H+=1)this.fonts[H].loaded?V-=1:this.fonts[H].fOrigin==="n"||this.fonts[H].origin===0?this.fonts[H].loaded=!0:(_=this.fonts[H].monoCase.node,O=this.fonts[H].monoCase.w,_.offsetWidth!==O?(V-=1,this.fonts[H].loaded=!0):(_=this.fonts[H].sansCase.node,O=this.fonts[H].sansCase.w,_.offsetWidth!==O&&(V-=1,this.fonts[H].loaded=!0)),this.fonts[H].loaded&&(this.fonts[H].sansCase.parent.parentNode.removeChild(this.fonts[H].sansCase.parent),this.fonts[H].monoCase.parent.parentNode.removeChild(this.fonts[H].monoCase.parent)));V!==0&&Date.now()-this.initTime<e?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function T(H,G){var _=document.body&&G?"svg":"canvas",O,V=getFontProperties(H);if(_==="svg"){var W=createNS("text");W.style.fontSize="100px",W.setAttribute("font-family",H.fFamily),W.setAttribute("font-style",V.style),W.setAttribute("font-weight",V.weight),W.textContent="1",H.fClass?(W.style.fontFamily="inherit",W.setAttribute("class",H.fClass)):W.style.fontFamily=H.fFamily,G.appendChild(W),O=W}else{var K=new OffscreenCanvas(500,500).getContext("2d");K.font=V.style+" "+V.weight+" 100px "+H.fFamily,O=K}function Ee(Se){return _==="svg"?(O.textContent=Se,O.getComputedTextLength()):O.measureText(Se).width}return{measureText:Ee}}function N(H,G){if(!H){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=H.list;return}if(!document.body){this.isLoaded=!0,H.list.forEach(function(qe){qe.helper=T(qe),qe.cache={}}),this.fonts=H.list;return}var _=H.list,O,V=_.length,W=V;for(O=0;O<V;O+=1){var K=!0,Ee,Se;if(_[O].loaded=!1,_[O].monoCase=S(_[O].fFamily,"monospace"),_[O].sansCase=S(_[O].fFamily,"sans-serif"),!_[O].fPath)_[O].loaded=!0,W-=1;else if(_[O].fOrigin==="p"||_[O].origin===3){if(Ee=document.querySelectorAll('style[f-forigin="p"][f-family="'+_[O].fFamily+'"], style[f-origin="3"][f-family="'+_[O].fFamily+'"]'),Ee.length>0&&(K=!1),K){var Ce=createTag("style");Ce.setAttribute("f-forigin",_[O].fOrigin),Ce.setAttribute("f-origin",_[O].origin),Ce.setAttribute("f-family",_[O].fFamily),Ce.type="text/css",Ce.innerText="@font-face {font-family: "+_[O].fFamily+"; font-style: normal; src: url('"+_[O].fPath+"');}",G.appendChild(Ce)}}else if(_[O].fOrigin==="g"||_[O].origin===1){for(Ee=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Se=0;Se<Ee.length;Se+=1)Ee[Se].href.indexOf(_[O].fPath)!==-1&&(K=!1);if(K){var De=createTag("link");De.setAttribute("f-forigin",_[O].fOrigin),De.setAttribute("f-origin",_[O].origin),De.type="text/css",De.rel="stylesheet",De.href=_[O].fPath,document.body.appendChild(De)}}else if(_[O].fOrigin==="t"||_[O].origin===2){for(Ee=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Se=0;Se<Ee.length;Se+=1)_[O].fPath===Ee[Se].src&&(K=!1);if(K){var Fe=createTag("link");Fe.setAttribute("f-forigin",_[O].fOrigin),Fe.setAttribute("f-origin",_[O].origin),Fe.setAttribute("rel","stylesheet"),Fe.setAttribute("href",_[O].fPath),G.appendChild(Fe)}}_[O].helper=T(_[O],G),_[O].cache={},this.fonts.push(_[O])}W===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function k(H){if(H){this.chars||(this.chars=[]);var G,_=H.length,O,V=this.chars.length,W;for(G=0;G<_;G+=1){for(O=0,W=!1;O<V;)this.chars[O].style===H[G].style&&this.chars[O].fFamily===H[G].fFamily&&this.chars[O].ch===H[G].ch&&(W=!0),O+=1;W||(this.chars.push(H[G]),V+=1)}}}function C(H,G,_){for(var O=0,V=this.chars.length;O<V;){if(this.chars[O].ch===H&&this.chars[O].style===G&&this.chars[O].fFamily===_)return this.chars[O];O+=1}return(typeof H=="string"&&H.charCodeAt(0)!==13||!H)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",H,G,_)),r}function A(H,G,_){var O=this.getFontByName(G),V=H;if(!O.cache[V]){var W=O.helper;if(H===" "){var K=W.measureText("|"+H+"|"),Ee=W.measureText("||");O.cache[V]=(K-Ee)/100}else O.cache[V]=W.measureText(H)/100}return O.cache[V]*_}function R(H){for(var G=0,_=this.fonts.length;G<_;){if(this.fonts[G].fName===H)return this.fonts[G];G+=1}return this.fonts[0]}function I(H){var G=0,_=H.charCodeAt(0);if(_>=55296&&_<=56319){var O=H.charCodeAt(1);O>=56320&&O<=57343&&(G=(_-55296)*1024+O-56320+65536)}return G}function F(H,G){var _=H.toString(16)+G.toString(16);return y.indexOf(_)!==-1}function z(H){return H===d}function B(H){return H===c}function Z(H){var G=I(H);return G>=p&&G<=g}function re(H){return Z(H.substr(0,2))&&Z(H.substr(2,2))}function U(H){return i.indexOf(H)!==-1}function q(H,G){var _=I(H.substr(G,2));if(_!==n)return!1;var O=0;for(G+=2;O<5;){if(_=I(H.substr(G,2)),_<o||_>l)return!1;O+=1,G+=2}return I(H.substr(G,2))===a}function Y(){this.isLoaded=!0}var fe=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};fe.isModifier=F,fe.isZeroWidthJoiner=z,fe.isFlagEmoji=re,fe.isRegionalCode=Z,fe.isCombinedCharacter=U,fe.isRegionalFlag=q,fe.isVariationSelector=B,fe.BLACK_FLAG_CODE_POINT=n;var Q={addChars:k,addFonts:N,getCharData:C,getFontByName:R,measureText:A,checkLoadedFonts:b,setIsLoaded:Y};return fe.prototype=Q,fe}();function SlotManager(e){this.animationData=e}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e};function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(r){this.renderableComponents.indexOf(r)===-1&&this.renderableComponents.push(r)},removeRenderableComponent:function(r){this.renderableComponents.indexOf(r)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(r),1)},prepareRenderableFrame:function(r){this.checkLayerLimits(r)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(r){this.data.ip-this.data.st<=r&&this.data.op-this.data.st>r?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var r,i=this.renderableComponents.length;for(r=0;r<i;r+=1)this.renderableComponents[r].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(r){return e[r]||""}}();function SliderEffect(e,r,i){this.p=PropertyFactory.getProp(r,e.v,0,0,i)}function AngleEffect(e,r,i){this.p=PropertyFactory.getProp(r,e.v,0,0,i)}function ColorEffect(e,r,i){this.p=PropertyFactory.getProp(r,e.v,1,0,i)}function PointEffect(e,r,i){this.p=PropertyFactory.getProp(r,e.v,1,0,i)}function LayerIndexEffect(e,r,i){this.p=PropertyFactory.getProp(r,e.v,0,0,i)}function MaskIndexEffect(e,r,i){this.p=PropertyFactory.getProp(r,e.v,0,0,i)}function CheckboxEffect(e,r,i){this.p=PropertyFactory.getProp(r,e.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(e,r){var i=e.ef||[];this.effectElements=[];var n,a=i.length,o;for(n=0;n<a;n+=1)o=new GroupEffect(i[n],r),this.effectElements.push(o)}function GroupEffect(e,r){this.init(e,r)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,r){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(r);var i,n=this.data.ef.length,a,o=this.data.ef;for(i=0;i<n;i+=1){switch(a=null,o[i].ty){case 0:a=new SliderEffect(o[i],r,this);break;case 1:a=new AngleEffect(o[i],r,this);break;case 2:a=new ColorEffect(o[i],r,this);break;case 3:a=new PointEffect(o[i],r,this);break;case 4:case 7:a=new CheckboxEffect(o[i],r,this);break;case 10:a=new LayerIndexEffect(o[i],r,this);break;case 11:a=new MaskIndexEffect(o[i],r,this);break;case 5:a=new EffectsManager(o[i],r);break;default:a=new NoValueEffect(o[i]);break}a&&this.effectElements.push(a)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var r=0,i=this.data.masksProperties.length;r<i;){if(this.data.masksProperties[r].mode!=="n"&&this.data.masksProperties[r].cl!==!1)return!0;r+=1}return!1},initExpressions:function(){var r=getExpressionInterfaces();if(r){var i=r("layer"),n=r("effects"),a=r("shape"),o=r("text"),l=r("comp");this.layerInterface=i(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var c=n.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(c),this.data.ty===0||this.data.xt?this.compInterface=l(this):this.data.ty===4?(this.layerInterface.shapeInterface=a(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=o(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var r=getBlendMode(this.data.bm),i=this.baseElement||this.layerElement;i.style["mix-blend-mode"]=r},initBaseData:function(r,i,n){this.globalData=i,this.comp=n,this.data=r,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(r,i){var n,a=this.dynamicProperties.length;for(n=0;n<a;n+=1)(i||this._isParent&&this.dynamicProperties[n].propType==="transform")&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&this.dynamicProperties.push(r)}};function FootageElement(e,r,i){this.initFrame(),this.initRenderable(),this.assetData=r.getAssetData(e.refId),this.footageData=r.imageLoader.getAsset(this.assetData),this.initBaseData(e,r,i)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var r=e("footage");this.layerInterface=r(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(e,r,i){this.initFrame(),this.initRenderable(),this.assetData=r.getAssetData(e.refId),this.initBaseData(e,r,i),this._isPlaying=!1,this._canPlay=!1;var n=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(n),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,r.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var r=this.tm.v;this._currentTime=r}this._volume=this.lv.v[0];var i=this._volume*this._volumeMultiplier;this._previousVolume!==i&&(this._previousVolume=i,this.audio.volume(i))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(e){var r,i=this.layers.length,n;for(this.completeLayers=!0,r=i-1;r>=0;r-=1)this.elements[r]||(n=this.layers[r],n.ip-n.st<=e-this.layers[r].st&&n.op-n.st>e-this.layers[r].st&&this.buildItem(r)),this.completeLayers=this.elements[r]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e);default:return this.createNull(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,r=this.layers.length;for(e=0;e<r;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var r,i=e.length,n,a=this.layers.length;for(r=0;r<i;r+=1)for(n=0;n<a;){if(this.layers[n].id===e[r].id){this.layers[n]=e[r];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,r,i){for(var n=this.elements,a=this.layers,o=0,l=a.length;o<l;)a[o].ind==r&&(!n[o]||n[o]===!0?(this.buildItem(o),this.addPendingElement(e)):(i.push(n[o]),n[o].setAsParent(),a[o].parent!==void 0?this.buildElementParenting(e,a[o].parent,i):e.setHierarchy(i))),o+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var r,i=e.length;for(r=0;r<i;r+=1)if(e[r].xt){var n=this.createComp(e[r]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},BaseRenderer.prototype.getElementById=function(e){var r,i=this.elements.length;for(r=0;r<i;r+=1)if(this.elements[r].data.ind===e)return this.elements[r];return null},BaseRenderer.prototype.getElementByPath=function(e){var r=e.shift(),i;if(typeof r=="number")i=this.elements[r];else{var n,a=this.elements.length;for(n=0;n<a;n+=1)if(this.elements[n].data.nm===r){i=this.elements[n];break}}return e.length===0?i:i.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,r){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,r),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var r=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:r,localMat:r,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var r,i=this.finalTransform.mat,n=0,a=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<a;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(r=this.finalTransform.mProp.v.props,i.cloneFromProps(r),n=0;n<a;n+=1)i.multiply(this.hierarchy[n].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var r=0,i=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;r<i;)this.localTransforms[r]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[r]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),r+=1;if(this.finalTransform._localMatMdf){var n=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(n),r=1;r<i;r+=1){var a=this.localTransforms[r].matrix;n.multiply(a)}n.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var o=this.finalTransform.localOpacity;for(r=0;r<i;r+=1)o*=this.localTransforms[r].opacity*.01;this.finalTransform.localOpacity=o}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var r=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(r.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var i=0,n=r.length;for(i=0;i<n;i+=1)this.localTransforms.push(r[i])}}},globalToLocal:function(r){var i=[];i.push(this.finalTransform);for(var n=!0,a=this.comp;n;)a.finalTransform?(a.data.hasMask&&i.splice(0,0,a.finalTransform),a=a.comp):n=!1;var o,l=i.length,c;for(o=0;o<l;o+=1)c=i[o].mat.applyToPointArray(0,0,0),r=[r[0]-c[0],r[1]-c[1],0];return r},mHelper:new Matrix};function MaskElement(e,r,i){this.data=e,this.element=r,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n=this.globalData.defs,a,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var l,c=this.masksProperties,d=0,p=[],g,y,x=createElementID(),S,b,T,N,k="clipPath",C="clip-path";for(a=0;a<o;a+=1)if((c[a].mode!=="a"&&c[a].mode!=="n"||c[a].inv||c[a].o.k!==100||c[a].o.x)&&(k="mask",C="mask"),(c[a].mode==="s"||c[a].mode==="i")&&d===0?(S=createNS("rect"),S.setAttribute("fill","#ffffff"),S.setAttribute("width",this.element.comp.data.w||0),S.setAttribute("height",this.element.comp.data.h||0),p.push(S)):S=null,l=createNS("path"),c[a].mode==="n")this.viewData[a]={op:PropertyFactory.getProp(this.element,c[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[a],3),elem:l,lastPath:""},n.appendChild(l);else{d+=1,l.setAttribute("fill",c[a].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero");var A;if(c[a].x.k!==0?(k="mask",C="mask",N=PropertyFactory.getProp(this.element,c[a].x,0,null,this.element),A=createElementID(),b=createNS("filter"),b.setAttribute("id",A),T=createNS("feMorphology"),T.setAttribute("operator","erode"),T.setAttribute("in","SourceGraphic"),T.setAttribute("radius","0"),b.appendChild(T),n.appendChild(b),l.setAttribute("stroke",c[a].mode==="s"?"#000000":"#ffffff")):(T=null,N=null),this.storedData[a]={elem:l,x:N,expan:T,lastPath:"",lastOperator:"",filterId:A,lastRadius:0},c[a].mode==="i"){y=p.length;var R=createNS("g");for(g=0;g<y;g+=1)R.appendChild(p[g]);var I=createNS("mask");I.setAttribute("mask-type","alpha"),I.setAttribute("id",x+"_"+d),I.appendChild(l),n.appendChild(I),R.setAttribute("mask","url("+getLocationHref()+"#"+x+"_"+d+")"),p.length=0,p.push(R)}else p.push(l);c[a].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[a]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,c[a].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[a],3),invRect:S},this.viewData[a].prop.k||this.drawPath(c[a],this.viewData[a].prop.v,this.viewData[a])}for(this.maskElement=createNS(k),o=p.length,a=0;a<o;a+=1)this.maskElement.appendChild(p[a]);d>0&&(this.maskElement.setAttribute("id",x),this.element.maskedElement.setAttribute(C,"url("+getLocationHref()+"#"+x+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var r=this.element.finalTransform.mat,i,n=this.masksProperties.length;for(i=0;i<n;i+=1)if((this.viewData[i].prop._mdf||e)&&this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]),(this.viewData[i].op._mdf||e)&&this.viewData[i].elem.setAttribute("fill-opacity",this.viewData[i].op.v),this.masksProperties[i].mode!=="n"&&(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[i].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[i].x&&(this.storedData[i].x._mdf||e))){var a=this.storedData[i].expan;this.storedData[i].x.v<0?(this.storedData[i].lastOperator!=="erode"&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[i].filterId+")")),a.setAttribute("radius",-this.storedData[i].x.v)):(this.storedData[i].lastOperator!=="dilate"&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.setAttribute("filter",null)),this.storedData[i].elem.setAttribute("stroke-width",this.storedData[i].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" ",e},MaskElement.prototype.drawPath=function(e,r,i){var n=" M"+r.v[0][0]+","+r.v[0][1],a,o;for(o=r._length,a=1;a<o;a+=1)n+=" C"+r.o[a-1][0]+","+r.o[a-1][1]+" "+r.i[a][0]+","+r.i[a][1]+" "+r.v[a][0]+","+r.v[a][1];if(r.c&&o>1&&(n+=" C"+r.o[a-1][0]+","+r.o[a-1][1]+" "+r.i[0][0]+","+r.i[0][1]+" "+r.v[0][0]+","+r.v[0][1]),i.lastPath!==n){var l="";i.elem&&(r.c&&(l=e.inv?this.solidPath+n:n),i.elem.setAttribute("d",l)),i.lastPath=n}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={};e.createFilter=r,e.createAlphaToLuminanceFilter=i;function r(n,a){var o=createNS("filter");return o.setAttribute("id",n),a!==!0&&(o.setAttribute("filterUnits","objectBoundingBox"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%")),o}function i(){var n=createNS("feColorMatrix");return n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),n}return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var r,i="SourceGraphic",n=e.data.ef?e.data.ef.length:0,a=createElementID(),o=filtersFactory.createFilter(a,!0),l=0;this.filters=[];var c;for(r=0;r<n;r+=1){c=null;var d=e.data.ef[r].ty;if(registeredEffects$1[d]){var p=registeredEffects$1[d].effect;c=new p(o,e.effectsManager.effectElements[r],e,idPrefix+l,i),i=idPrefix+l,registeredEffects$1[d].countsAsEffect&&(l+=1)}c&&this.filters.push(c)}l&&(e.globalData.defs.appendChild(o),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+a+")")),this.filters.length&&e.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(e){var r,i=this.filters.length;for(r=0;r<i;r+=1)this.filters[r].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var r,i=this.filters.length,n=[];for(r=0;r<i;r+=1)this.filters[r].type===e&&n.push(this.filters[r]);return n};function registerEffect$1(e,r,i){registeredEffects$1[e]={effect:r,countsAsEffect:i}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var r=null;if(this.data.td){this.matteMasks={};var i=createNS("g");i.setAttribute("id",this.layerId),i.appendChild(this.layerElement),r=i,this.globalData.defs.appendChild(i)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var n=createNS("clipPath"),a=createNS("path");a.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var o=createElementID();if(n.setAttribute("id",o),n.appendChild(a),this.globalData.defs.appendChild(n),this.checkMasks()){var l=createNS("g");l.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),l.appendChild(this.layerElement),this.transformedElement=l,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(r){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[r]){var i=this.layerId+"_"+r,n,a,o,l;if(r===1||r===3){var c=createNS("mask");c.setAttribute("id",i),c.setAttribute("mask-type",r===3?"luminance":"alpha"),o=createNS("use"),o.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),c.appendChild(o),this.globalData.defs.appendChild(c),!featureSupport.maskType&&r===1&&(c.setAttribute("mask-type","luminance"),n=createElementID(),a=filtersFactory.createFilter(n),this.globalData.defs.appendChild(a),a.appendChild(filtersFactory.createAlphaToLuminanceFilter()),l=createNS("g"),l.appendChild(o),c.appendChild(l),l.setAttribute("filter","url("+getLocationHref()+"#"+n+")"))}else if(r===2){var d=createNS("mask");d.setAttribute("id",i),d.setAttribute("mask-type","alpha");var p=createNS("g");d.appendChild(p),n=createElementID(),a=filtersFactory.createFilter(n);var g=createNS("feComponentTransfer");g.setAttribute("in","SourceGraphic"),a.appendChild(g);var y=createNS("feFuncA");y.setAttribute("type","table"),y.setAttribute("tableValues","1.0 0.0"),g.appendChild(y),this.globalData.defs.appendChild(a);var x=createNS("rect");x.setAttribute("width",this.comp.data.w),x.setAttribute("height",this.comp.data.h),x.setAttribute("x","0"),x.setAttribute("y","0"),x.setAttribute("fill","#ffffff"),x.setAttribute("opacity","0"),p.setAttribute("filter","url("+getLocationHref()+"#"+n+")"),p.appendChild(x),o=createNS("use"),o.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),p.appendChild(o),featureSupport.maskType||(d.setAttribute("mask-type","luminance"),a.appendChild(filtersFactory.createAlphaToLuminanceFilter()),l=createNS("g"),p.appendChild(x),l.appendChild(this.layerElement),p.appendChild(l)),this.globalData.defs.appendChild(d)}this.matteMasks[r]=i}return this.matteMasks[r]},setMatte:function(r){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+r+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(r){this.hierarchy=r},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var e={initElement:function(i,n,a){this.initFrame(),this.initBaseData(i,n,a),this.initTransform(i,n,a),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var i=this.baseElement||this.layerElement;i.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var i=this.baseElement||this.layerElement;i.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(i){this._mdf=!1,this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(e)],RenderableDOMElement)})();function IImageElement(e,r,i){this.assetData=r.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=r.slotManager.getProp(this.assetData)),this.initElement(e,r,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(e,r){this.elem=e,this.pos=r}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(r){var i,n=this.shapeModifiers.length;for(i=0;i<n;i+=1)this.shapeModifiers[i].addShape(r)},isShapeInAnimatedModifiers:function(r){for(var i=0,n=this.shapeModifiers.length;i<n;)if(this.shapeModifiers[i].isAnimatedWithShape(r))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var r,i=this.shapes.length;for(r=0;r<i;r+=1)this.shapes[r].sh.reset();i=this.shapeModifiers.length;var n;for(r=i-1;r>=0&&(n=this.shapeModifiers[r].processShapes(this._isFirstFrame),!n);r-=1);}},searchProcessedElement:function(r){for(var i=this.processedElements,n=0,a=i.length;n<a;){if(i[n].elem===r)return i[n].pos;n+=1}return 0},addProcessedElement:function(r,i){for(var n=this.processedElements,a=n.length;a;)if(a-=1,n[a].elem===r){n[a].pos=i;return}n.push(new ProcessedElement(r,i))},prepareFrame:function(r){this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,r,i){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=i,this.lvl=r,this._isAnimated=!!i.k;for(var n=0,a=e.length;n<a;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(e,r){this.data=e,this.type=e.ty,this.d="",this.lvl=r,this._mdf=!1,this.closed=e.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(e,r,i,n){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(r.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",r.length?r.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var a,o=r.length||0,l;for(a=0;a<o;a+=1)l=PropertyFactory.getProp(e,r[a].v,0,0,this),this.k=l.k||this.k,this.dataProps[a]={n:r[a].n,p:l};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(e){if(!(this.elem.globalData.frameId===this.frameId&&!e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var r=0,i=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),r=0;r<i;r+=1)this.dataProps[r].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[r].p.v:this.dashArray[r]=this.dataProps[r].p.v:this.dashoffset[0]=this.dataProps[r].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(e,r,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,r.o,0,.01,this),this.w=PropertyFactory.getProp(e,r.w,0,null,this),this.d=new DashProperty(e,r.d||{},"svg",this),this.c=PropertyFactory.getProp(e,r.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(e,r,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,r.o,0,.01,this),this.c=PropertyFactory.getProp(e,r.c,1,255,this),this.style=i}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(e,r,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=i}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(e,r,i){this.data=r,this.c=createTypedArray("uint8c",r.p*4);var n=r.k.k[0].s?r.k.k[0].s.length-r.p*4:r.k.k.length-r.p*4;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(e,r.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(e,r){for(var i=0,n=this.o.length/2,a;i<n;){if(a=Math.abs(e[i*4]-e[r*4+i*2]),a>.01)return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,r=this.data.k.k.length;e<r;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var r,i=this.data.p*4,n,a;for(r=0;r<i;r+=1)n=r%4===0?100:255,a=Math.round(this.prop.v[r]*n),this.c[r]!==a&&(this.c[r]=a,this._cmdf=!e);if(this.o.length)for(i=this.prop.v.length,r=this.data.p*4;r<i;r+=1)n=r%2===0?100:1,a=r%2===0?Math.round(this.prop.v[r]*100):this.prop.v[r],this.o[r-this.data.p*4]!==a&&(this.o[r-this.data.p*4]=a,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(e,r,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,r,i)}SVGGradientFillStyleData.prototype.initGradientData=function(e,r,i){this.o=PropertyFactory.getProp(e,r.o,0,.01,this),this.s=PropertyFactory.getProp(e,r.s,1,null,this),this.e=PropertyFactory.getProp(e,r.e,1,null,this),this.h=PropertyFactory.getProp(e,r.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,r.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,r.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,r),this.setGradientOpacity(r,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,r){var i=createElementID(),n=createNS(r.t===1?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var a=[],o,l,c;for(c=r.g.p*4,l=0;l<c;l+=4)o=createNS("stop"),n.appendChild(o),a.push(o);e.setAttribute(r.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+i+")"),this.gf=n,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,r){if(this.g._hasOpacity&&!this.g._collapsable){var i,n,a,o=createNS("mask"),l=createNS("path");o.appendChild(l);var c=createElementID(),d=createElementID();o.setAttribute("id",d);var p=createNS(e.t===1?"linearGradient":"radialGradient");p.setAttribute("id",c),p.setAttribute("spreadMethod","pad"),p.setAttribute("gradientUnits","userSpaceOnUse"),a=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var g=this.stops;for(n=e.g.p*4;n<a;n+=2)i=createNS("stop"),i.setAttribute("stop-color","rgb(255,255,255)"),p.appendChild(i),g.push(i);l.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+c+")"),e.ty==="gs"&&(l.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),e.lj===1&&l.setAttribute("stroke-miterlimit",e.ml)),this.of=p,this.ms=o,this.ost=g,this.maskId=d,r.msElem=l}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(e,r,i){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,r.w,0,null,this),this.d=new DashProperty(e,r.d||{},"svg",this),this.initGradientData(e,r,i),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,r,i){this.transform={mProps:e,op:r,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(r,i,n,a){if(i===0)return"";var o=r.o,l=r.i,c=r.v,d,p=" M"+a.applyToPointStringified(c[0][0],c[0][1]);for(d=1;d<i;d+=1)p+=" C"+a.applyToPointStringified(o[d-1][0],o[d-1][1])+" "+a.applyToPointStringified(l[d][0],l[d][1])+" "+a.applyToPointStringified(c[d][0],c[d][1]);return n&&i&&(p+=" C"+a.applyToPointStringified(o[d-1][0],o[d-1][1])+" "+a.applyToPointStringified(l[0][0],l[0][1])+" "+a.applyToPointStringified(c[0][0],c[0][1]),p+="z"),p},SVGElementsRenderer=function(){var e=new Matrix,r=new Matrix,i={createRenderFunction:n};function n(y){switch(y.ty){case"fl":return c;case"gf":return p;case"gs":return d;case"st":return g;case"sh":case"el":case"rc":case"sr":return l;case"tr":return a;case"no":return o;default:return null}}function a(y,x,S){(S||x.transform.op._mdf)&&x.transform.container.setAttribute("opacity",x.transform.op.v),(S||x.transform.mProps._mdf)&&x.transform.container.setAttribute("transform",x.transform.mProps.v.to2dCSS())}function o(){}function l(y,x,S){var b,T,N,k,C,A,R=x.styles.length,I=x.lvl,F,z,B,Z;for(A=0;A<R;A+=1){if(k=x.sh._mdf||S,x.styles[A].lvl<I){for(z=r.reset(),B=I-x.styles[A].lvl,Z=x.transformers.length-1;!k&&B>0;)k=x.transformers[Z].mProps._mdf||k,B-=1,Z-=1;if(k)for(B=I-x.styles[A].lvl,Z=x.transformers.length-1;B>0;)z.multiply(x.transformers[Z].mProps.v),B-=1,Z-=1}else z=e;if(F=x.sh.paths,T=F._length,k){for(N="",b=0;b<T;b+=1)C=F.shapes[b],C&&C._length&&(N+=buildShapeString(C,C._length,C.c,z));x.caches[A]=N}else N=x.caches[A];x.styles[A].d+=y.hd===!0?"":N,x.styles[A]._mdf=k||x.styles[A]._mdf}}function c(y,x,S){var b=x.style;(x.c._mdf||S)&&b.pElem.setAttribute("fill","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||S)&&b.pElem.setAttribute("fill-opacity",x.o.v)}function d(y,x,S){p(y,x,S),g(y,x,S)}function p(y,x,S){var b=x.gf,T=x.g._hasOpacity,N=x.s.v,k=x.e.v;if(x.o._mdf||S){var C=y.ty==="gf"?"fill-opacity":"stroke-opacity";x.style.pElem.setAttribute(C,x.o.v)}if(x.s._mdf||S){var A=y.t===1?"x1":"cx",R=A==="x1"?"y1":"cy";b.setAttribute(A,N[0]),b.setAttribute(R,N[1]),T&&!x.g._collapsable&&(x.of.setAttribute(A,N[0]),x.of.setAttribute(R,N[1]))}var I,F,z,B;if(x.g._cmdf||S){I=x.cst;var Z=x.g.c;for(z=I.length,F=0;F<z;F+=1)B=I[F],B.setAttribute("offset",Z[F*4]+"%"),B.setAttribute("stop-color","rgb("+Z[F*4+1]+","+Z[F*4+2]+","+Z[F*4+3]+")")}if(T&&(x.g._omdf||S)){var re=x.g.o;for(x.g._collapsable?I=x.cst:I=x.ost,z=I.length,F=0;F<z;F+=1)B=I[F],x.g._collapsable||B.setAttribute("offset",re[F*2]+"%"),B.setAttribute("stop-opacity",re[F*2+1])}if(y.t===1)(x.e._mdf||S)&&(b.setAttribute("x2",k[0]),b.setAttribute("y2",k[1]),T&&!x.g._collapsable&&(x.of.setAttribute("x2",k[0]),x.of.setAttribute("y2",k[1])));else{var U;if((x.s._mdf||x.e._mdf||S)&&(U=Math.sqrt(Math.pow(N[0]-k[0],2)+Math.pow(N[1]-k[1],2)),b.setAttribute("r",U),T&&!x.g._collapsable&&x.of.setAttribute("r",U)),x.s._mdf||x.e._mdf||x.h._mdf||x.a._mdf||S){U||(U=Math.sqrt(Math.pow(N[0]-k[0],2)+Math.pow(N[1]-k[1],2)));var q=Math.atan2(k[1]-N[1],k[0]-N[0]),Y=x.h.v;Y>=1?Y=.99:Y<=-1&&(Y=-.99);var fe=U*Y,Q=Math.cos(q+x.a.v)*fe+N[0],H=Math.sin(q+x.a.v)*fe+N[1];b.setAttribute("fx",Q),b.setAttribute("fy",H),T&&!x.g._collapsable&&(x.of.setAttribute("fx",Q),x.of.setAttribute("fy",H))}}}function g(y,x,S){var b=x.style,T=x.d;T&&(T._mdf||S)&&T.dashStr&&(b.pElem.setAttribute("stroke-dasharray",T.dashStr),b.pElem.setAttribute("stroke-dashoffset",T.dashoffset[0])),x.c&&(x.c._mdf||S)&&b.pElem.setAttribute("stroke","rgb("+bmFloor(x.c.v[0])+","+bmFloor(x.c.v[1])+","+bmFloor(x.c.v[2])+")"),(x.o._mdf||S)&&b.pElem.setAttribute("stroke-opacity",x.o.v),(x.w._mdf||S)&&(b.pElem.setAttribute("stroke-width",x.w.v),b.msElem&&b.msElem.setAttribute("stroke-width",x.w.v))}return i}();function SVGShapeElement(e,r,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,r,i),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,r=this.shapes.length,i,n,a=this.stylesList.length,o,l=[],c=!1;for(n=0;n<a;n+=1){for(o=this.stylesList[n],c=!1,l.length=0,e=0;e<r;e+=1)i=this.shapes[e],i.styles.indexOf(o)!==-1&&(l.push(i),c=i._isAnimated||c);l.length>1&&c&&this.setShapesAsAnimated(l)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var r,i=e.length;for(r=0;r<i;r+=1)e[r].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,r){var i,n=new SVGStyleData(e,r),a=n.pElem;if(e.ty==="st")i=new SVGStrokeStyleData(this,e,n);else if(e.ty==="fl")i=new SVGFillStyleData(this,e,n);else if(e.ty==="gf"||e.ty==="gs"){var o=e.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;i=new o(this,e,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),a.setAttribute("mask","url("+getLocationHref()+"#"+i.maskId+")"))}else e.ty==="no"&&(i=new SVGNoStyleData(this,e,n));return(e.ty==="st"||e.ty==="gs")&&(a.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),a.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),a.setAttribute("fill-opacity","0"),e.lj===1&&a.setAttribute("stroke-miterlimit",e.ml)),e.r===2&&a.setAttribute("fill-rule","evenodd"),e.ln&&a.setAttribute("id",e.ln),e.cl&&a.setAttribute("class",e.cl),e.bm&&(a.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createGroupElement=function(e){var r=new ShapeGroupData;return e.ln&&r.gr.setAttribute("id",e.ln),e.cl&&r.gr.setAttribute("class",e.cl),e.bm&&(r.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),r},SVGShapeElement.prototype.createTransformElement=function(e,r){var i=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(i,i.o,r);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,r,i){var n=4;e.ty==="rc"?n=5:e.ty==="el"?n=6:e.ty==="sr"&&(n=7);var a=ShapePropertyFactory.getShapeProp(this,e,n,this),o=new SVGShapeData(r,i,a);return this.shapes.push(o),this.addShapeToModifiers(o),this.addToAnimatedContents(e,o),o},SVGShapeElement.prototype.addToAnimatedContents=function(e,r){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===r)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:r,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var r=e.styles,i,n=this.stylesList.length;for(i=0;i<n;i+=1)r.indexOf(this.stylesList[i])===-1&&!this.stylesList[i].closed&&r.push(this.stylesList[i])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,r=this.itemsData.length;for(e=0;e<r;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),r=this.dynamicProperties.length,e=0;e<r;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,r,i,n,a,o,l){var c=[].concat(o),d,p=e.length-1,g,y,x=[],S=[],b,T,N;for(d=p;d>=0;d-=1){if(N=this.searchProcessedElement(e[d]),N?r[d]=i[N-1]:e[d]._render=l,e[d].ty==="fl"||e[d].ty==="st"||e[d].ty==="gf"||e[d].ty==="gs"||e[d].ty==="no")N?r[d].style.closed=e[d].hd:r[d]=this.createStyleElement(e[d],a),e[d]._render&&r[d].style.pElem.parentNode!==n&&n.appendChild(r[d].style.pElem),x.push(r[d].style);else if(e[d].ty==="gr"){if(!N)r[d]=this.createGroupElement(e[d]);else for(y=r[d].it.length,g=0;g<y;g+=1)r[d].prevViewData[g]=r[d].it[g];this.searchShapes(e[d].it,r[d].it,r[d].prevViewData,r[d].gr,a+1,c,l),e[d]._render&&r[d].gr.parentNode!==n&&n.appendChild(r[d].gr)}else e[d].ty==="tr"?(N||(r[d]=this.createTransformElement(e[d],n)),b=r[d].transform,c.push(b)):e[d].ty==="sh"||e[d].ty==="rc"||e[d].ty==="el"||e[d].ty==="sr"?(N||(r[d]=this.createShapeElement(e[d],c,a)),this.setElementStyles(r[d])):e[d].ty==="tm"||e[d].ty==="rd"||e[d].ty==="ms"||e[d].ty==="pb"||e[d].ty==="zz"||e[d].ty==="op"?(N?(T=r[d],T.closed=!1):(T=ShapeModifiers.getModifier(e[d].ty),T.init(this,e[d]),r[d]=T,this.shapeModifiers.push(T)),S.push(T)):e[d].ty==="rp"&&(N?(T=r[d],T.closed=!0):(T=ShapeModifiers.getModifier(e[d].ty),r[d]=T,T.init(this,e,d,r),this.shapeModifiers.push(T),l=!1),S.push(T));this.addProcessedElement(e[d],d+1)}for(p=x.length,d=0;d<p;d+=1)x[d].closed=!0;for(p=S.length,d=0;d<p;d+=1)S[d].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<r;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,r=this.animatedContents.length,i;for(e=0;e<r;e+=1)i=this.animatedContents[e],(this._isFirstFrame||i.element._isAnimated)&&i.data!==!0&&i.fn(i.data,i.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(e,r,i,n,a,o){this.o=e,this.sw=r,this.sc=i,this.fc=n,this.m=a,this.p=o,this._mdf={o:!0,sw:!!r,sc:!!i,fc:!!n,m:!0,p:!0}}LetterProps.prototype.update=function(e,r,i,n,a,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var l=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,l=!0),this.sw!==r&&(this.sw=r,this._mdf.sw=!0,l=!0),this.sc!==i&&(this.sc=i,this._mdf.sc=!0,l=!0),this.fc!==n&&(this.fc=n,this._mdf.fc=!0,l=!0),this.m!==a&&(this.m=a,this._mdf.m=!0,l=!0),o.length&&(this.p[0]!==o[0]||this.p[1]!==o[1]||this.p[4]!==o[4]||this.p[5]!==o[5]||this.p[12]!==o[12]||this.p[13]!==o[13])&&(this.p=o,this._mdf.p=!0,l=!0),l};function TextProperty(e,r){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,r.d&&r.d.sid&&(r.d=e.globalData.slotManager.getProp(r.d)),this.data=r,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!e)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var r=this.currentData,i=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var n,a=this.effectsSequence.length,o=e||this.data.d.k[this.keysIndex].s;for(n=0;n<a;n+=1)i!==this.keysIndex?o=this.effectsSequence[n](o,o.t):o=this.effectsSequence[n](this.currentData,o.t);r!==o&&this.setCurrentData(o),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,r=this.elem.comp.renderedFrame,i=0,n=e.length;i<=n-1&&!(i===n-1||e[i+1].t>r);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var r=[],i=0,n=e.length,a,o,l=!1,c=!1,d="";i<n;)l=c,c=!1,a=e.charCodeAt(i),d=e.charAt(i),FontManager.isCombinedCharacter(a)?l=!0:a>=55296&&a<=56319?FontManager.isRegionalFlag(e,i)?d=e.substr(i,14):(o=e.charCodeAt(i+1),o>=56320&&o<=57343&&(FontManager.isModifier(a,o)?(d=e.substr(i,2),l=!0):FontManager.isFlagEmoji(e.substr(i,4))?d=e.substr(i,4):d=e.substr(i,2))):a>56319?(o=e.charCodeAt(i+1),FontManager.isVariationSelector(a)&&(l=!0)):FontManager.isZeroWidthJoiner(a)&&(l=!0,c=!0),l?(r[r.length-1]+=d,l=!1):r.push(d),i+=d.length;return r},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var r=this.elem.globalData.fontManager,i=this.data,n=[],a,o,l,c=0,d,p=i.m.g,g=0,y=0,x=0,S=[],b=0,T=0,N,k,C=r.getFontByName(e.f),A,R=0,I=getFontProperties(C);e.fWeight=I.weight,e.fStyle=I.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),o=e.finalText.length,e.finalLineHeight=e.lh;var F=e.tr/1e3*e.finalSize,z;if(e.sz)for(var B=!0,Z=e.sz[0],re=e.sz[1],U,q;B;){q=this.buildFinalText(e.t),U=0,b=0,o=q.length,F=e.tr/1e3*e.finalSize;var Y=-1;for(a=0;a<o;a+=1)z=q[a].charCodeAt(0),l=!1,q[a]===" "?Y=a:(z===13||z===3)&&(b=0,l=!0,U+=e.finalLineHeight||e.finalSize*1.2),r.chars?(A=r.getCharData(q[a],C.fStyle,C.fFamily),R=l?0:A.w*e.finalSize/100):R=r.measureText(q[a],e.f,e.finalSize),b+R>Z&&q[a]!==" "?(Y===-1?o+=1:a=Y,U+=e.finalLineHeight||e.finalSize*1.2,q.splice(a,Y===a?1:0,"\r"),Y=-1,b=0):(b+=R,b+=F);U+=C.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&re<U?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=q,o=e.finalText.length,B=!1)}b=-F,R=0;var fe=0,Q;for(a=0;a<o;a+=1)if(l=!1,Q=e.finalText[a],z=Q.charCodeAt(0),z===13||z===3?(fe=0,S.push(b),T=b>T?b:T,b=-2*F,d="",l=!0,x+=1):d=Q,r.chars?(A=r.getCharData(Q,C.fStyle,r.getFontByName(e.f).fFamily),R=l?0:A.w*e.finalSize/100):R=r.measureText(d,e.f,e.finalSize),Q===" "?fe+=R+F:(b+=R+F+fe,fe=0),n.push({l:R,an:R,add:g,n:l,anIndexes:[],val:d,line:x,animatorJustifyOffset:0}),p==2){if(g+=R,d===""||d===" "||a===o-1){for((d===""||d===" ")&&(g-=R);y<=a;)n[y].an=g,n[y].ind=c,n[y].extra=R,y+=1;c+=1,g=0}}else if(p==3){if(g+=R,d===""||a===o-1){for(d===""&&(g-=R);y<=a;)n[y].an=g,n[y].ind=c,n[y].extra=R,y+=1;g=0,c+=1}}else n[c].ind=c,n[c].extra=0,c+=1;if(e.l=n,T=b>T?b:T,S.push(b),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=T,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=S;var H=i.a,G,_;k=H.length;var O,V,W=[];for(N=0;N<k;N+=1){for(G=H[N],G.a.sc&&(e.strokeColorAnim=!0),G.a.sw&&(e.strokeWidthAnim=!0),(G.a.fc||G.a.fh||G.a.fs||G.a.fb)&&(e.fillColorAnim=!0),V=0,O=G.s.b,a=0;a<o;a+=1)_=n[a],_.anIndexes[N]=V,(O==1&&_.val!==""||O==2&&_.val!==""&&_.val!==" "||O==3&&(_.n||_.val==" "||a==o-1)||O==4&&(_.n||a==o-1))&&(G.s.rn===1&&W.push(V),V+=1);i.a[N].s.totalChars=V;var K=-1,Ee;if(G.s.rn===1)for(a=0;a<o;a+=1)_=n[a],K!=_.anIndexes[N]&&(K=_.anIndexes[N],Ee=W.splice(Math.floor(Math.random()*W.length),1)[0]),_.anIndexes[N]=Ee}e.yOffset=e.finalLineHeight||e.finalSize*1.2,e.ls=e.ls||0,e.ascent=C.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,r){r=r===void 0?this.keysIndex:r;var i=this.copyData({},this.data.d.k[r].s);i=this.copyData(i,e),this.data.d.k[r].s=i,this.recalculate(r),this.setCurrentData(i),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var r=this.data.d.k[e].s;r.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(r)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,r=Math.min,i=Math.floor;function n(o,l){this._currentTextLength=-1,this.k=!1,this.data=l,this.elem=o,this.comp=o.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(o),this.s=PropertyFactory.getProp(o,l.s||{k:0},0,0,this),"e"in l?this.e=PropertyFactory.getProp(o,l.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(o,l.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(o,l.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(o,l.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(o,l.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(o,l.a,0,.01,this),this.dynamicProperties.length||this.getValue()}n.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var c=0,d=0,p=1,g=1;this.ne.v>0?c=this.ne.v/100:d=-this.ne.v/100,this.xe.v>0?p=1-this.xe.v/100:g=1+this.xe.v/100;var y=BezierFactory.getBezierEasing(c,d,p,g).get,x=0,S=this.finalS,b=this.finalE,T=this.data.sh;if(T===2)b===S?x=l>=b?1:0:x=e(0,r(.5/(b-S)+(l-S)/(b-S),1)),x=y(x);else if(T===3)b===S?x=l>=b?0:1:x=1-e(0,r(.5/(b-S)+(l-S)/(b-S),1)),x=y(x);else if(T===4)b===S?x=0:(x=e(0,r(.5/(b-S)+(l-S)/(b-S),1)),x<.5?x*=2:x=1-2*(x-.5)),x=y(x);else if(T===5){if(b===S)x=0;else{var N=b-S;l=r(e(0,l+.5-S),b-S);var k=-N/2+l,C=N/2;x=Math.sqrt(1-k*k/(C*C))}x=y(x)}else T===6?(b===S?x=0:(l=r(e(0,l+.5-S),b-S),x=(1+Math.cos(Math.PI+Math.PI*2*l/(b-S)))/2),x=y(x)):(l>=i(S)&&(l-S<0?x=e(0,r(r(b,1)-(S-l),1)):x=e(0,r(b-l,1))),x=y(x));if(this.sm.v!==100){var A=this.sm.v*.01;A===0&&(A=1e-8);var R=.5-A*.5;x<R?x=0:(x=(x-R)/A,x>1&&(x=1))}return x*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var c=this.data.r===2?1:100/this.data.totalChars,d=this.o.v/c,p=this.s.v/c+d,g=this.e.v/c+d;if(p>g){var y=p;p=g,g=y}this.finalS=p,this.finalE=g}},extendPrototype([DynamicPropertyContainer],n);function a(o,l,c){return new n(o,l)}return{getTextSelectorProp:a}}();function TextAnimatorDataProperty(e,r,i){var n={propType:!1},a=PropertyFactory.getProp,o=r.a;this.a={r:o.r?a(e,o.r,0,degToRads,i):n,rx:o.rx?a(e,o.rx,0,degToRads,i):n,ry:o.ry?a(e,o.ry,0,degToRads,i):n,sk:o.sk?a(e,o.sk,0,degToRads,i):n,sa:o.sa?a(e,o.sa,0,degToRads,i):n,s:o.s?a(e,o.s,1,.01,i):n,a:o.a?a(e,o.a,1,0,i):n,o:o.o?a(e,o.o,0,.01,i):n,p:o.p?a(e,o.p,1,0,i):n,sw:o.sw?a(e,o.sw,0,0,i):n,sc:o.sc?a(e,o.sc,1,0,i):n,fc:o.fc?a(e,o.fc,1,0,i):n,fh:o.fh?a(e,o.fh,0,0,i):n,fs:o.fs?a(e,o.fs,0,.01,i):n,fb:o.fb?a(e,o.fb,0,.01,i):n,t:o.t?a(e,o.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(e,r.s,i),this.s.t=r.s.t}function TextAnimatorProperty(e,r,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=r,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}TextAnimatorProperty.prototype.searchProperties=function(){var e,r=this._textData.a.length,i,n=PropertyFactory.getProp;for(e=0;e<r;e+=1)i=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,i,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:n(this._elem,this._textData.p.a,0,0,this),f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:n(this._elem,this._textData.p.r,0,0,this),p:n(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,r){if(this.lettersChangedFlag=r,!(!this._mdf&&!this._isFirstFrame&&!r&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var i=this._moreOptions.alignment.v,n=this._animatorsData,a=this._textData,o=this.mHelper,l=this._renderType,c=this.renderedLetters.length,d,p,g,y,x=e.l,S,b,T,N,k,C,A,R,I,F,z,B,Z,re,U;if(this._hasMaskedPath){if(U=this._pathData.m,!this._pathData.n||this._pathData._mdf){var q=U.v;this._pathData.r.v&&(q=q.reverse()),S={tLength:0,segments:[]},y=q._length-1;var Y;for(B=0,g=0;g<y;g+=1)Y=bez.buildBezierData(q.v[g],q.v[g+1],[q.o[g][0]-q.v[g][0],q.o[g][1]-q.v[g][1]],[q.i[g+1][0]-q.v[g+1][0],q.i[g+1][1]-q.v[g+1][1]]),S.tLength+=Y.segmentLength,S.segments.push(Y),B+=Y.segmentLength;g=y,U.v.c&&(Y=bez.buildBezierData(q.v[g],q.v[0],[q.o[g][0]-q.v[g][0],q.o[g][1]-q.v[g][1]],[q.i[0][0]-q.v[0][0],q.i[0][1]-q.v[0][1]]),S.tLength+=Y.segmentLength,S.segments.push(Y),B+=Y.segmentLength),this._pathData.pi=S}if(S=this._pathData.pi,b=this._pathData.f.v,A=0,C=1,N=0,k=!0,F=S.segments,b<0&&U.v.c)for(S.tLength<Math.abs(b)&&(b=-Math.abs(b)%S.tLength),A=F.length-1,I=F[A].points,C=I.length-1;b<0;)b+=I[C].partialLength,C-=1,C<0&&(A-=1,I=F[A].points,C=I.length-1);I=F[A].points,R=I[C-1],T=I[C],z=T.partialLength}y=x.length,d=0,p=0;var fe=e.finalSize*1.2*.714,Q=!0,H,G,_,O,V;O=n.length;var W,K=-1,Ee,Se,Ce,De=b,Fe=A,qe=C,Je=-1,et,Ke,ct,Ve,Me,at,st,ot,lt="",Ae=this.defaultPropsArray,Ne;if(e.j===2||e.j===1){var He=0,Qe=0,Ue=e.j===2?-.5:-1,it=0,Pe=!0;for(g=0;g<y;g+=1)if(x[g].n){for(He&&(He+=Qe);it<g;)x[it].animatorJustifyOffset=He,it+=1;He=0,Pe=!0}else{for(_=0;_<O;_+=1)H=n[_].a,H.t.propType&&(Pe&&e.j===2&&(Qe+=H.t.v*Ue),G=n[_].s,W=G.getMult(x[g].anIndexes[_],a.a[_].s.totalChars),W.length?He+=H.t.v*W[0]*Ue:He+=H.t.v*W*Ue);Pe=!1}for(He&&(He+=Qe);it<g;)x[it].animatorJustifyOffset=He,it+=1}for(g=0;g<y;g+=1){if(o.reset(),et=1,x[g].n)d=0,p+=e.yOffset,p+=Q?1:0,b=De,Q=!1,this._hasMaskedPath&&(A=Fe,C=qe,I=F[A].points,R=I[C-1],T=I[C],z=T.partialLength,N=0),lt="",ot="",at="",Ne="",Ae=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Je!==x[g].line){switch(e.j){case 1:b+=B-e.lineWidths[x[g].line];break;case 2:b+=(B-e.lineWidths[x[g].line])/2;break}Je=x[g].line}K!==x[g].ind&&(x[K]&&(b+=x[K].extra),b+=x[g].an/2,K=x[g].ind),b+=i[0]*x[g].an*.005;var ze=0;for(_=0;_<O;_+=1)H=n[_].a,H.p.propType&&(G=n[_].s,W=G.getMult(x[g].anIndexes[_],a.a[_].s.totalChars),W.length?ze+=H.p.v[0]*W[0]:ze+=H.p.v[0]*W),H.a.propType&&(G=n[_].s,W=G.getMult(x[g].anIndexes[_],a.a[_].s.totalChars),W.length?ze+=H.a.v[0]*W[0]:ze+=H.a.v[0]*W);for(k=!0,this._pathData.a.v&&(b=x[0].an*.5+(B-this._pathData.f.v-x[0].an*.5-x[x.length-1].an*.5)*K/(y-1),b+=this._pathData.f.v);k;)N+z>=b+ze||!I?(Z=(b+ze-N)/T.partialLength,Se=R.point[0]+(T.point[0]-R.point[0])*Z,Ce=R.point[1]+(T.point[1]-R.point[1])*Z,o.translate(-i[0]*x[g].an*.005,-(i[1]*fe)*.01),k=!1):I&&(N+=T.partialLength,C+=1,C>=I.length&&(C=0,A+=1,F[A]?I=F[A].points:U.v.c?(C=0,A=0,I=F[A].points):(N-=T.partialLength,I=null)),I&&(R=T,T=I[C],z=T.partialLength));Ee=x[g].an/2-x[g].add,o.translate(-Ee,0,0)}else Ee=x[g].an/2-x[g].add,o.translate(-Ee,0,0),o.translate(-i[0]*x[g].an*.005,-i[1]*fe*.01,0);for(_=0;_<O;_+=1)H=n[_].a,H.t.propType&&(G=n[_].s,W=G.getMult(x[g].anIndexes[_],a.a[_].s.totalChars),(d!==0||e.j!==0)&&(this._hasMaskedPath?W.length?b+=H.t.v*W[0]:b+=H.t.v*W:W.length?d+=H.t.v*W[0]:d+=H.t.v*W));for(e.strokeWidthAnim&&(ct=e.sw||0),e.strokeColorAnim&&(e.sc?Ke=[e.sc[0],e.sc[1],e.sc[2]]:Ke=[0,0,0]),e.fillColorAnim&&e.fc&&(Ve=[e.fc[0],e.fc[1],e.fc[2]]),_=0;_<O;_+=1)H=n[_].a,H.a.propType&&(G=n[_].s,W=G.getMult(x[g].anIndexes[_],a.a[_].s.totalChars),W.length?o.translate(-H.a.v[0]*W[0],-H.a.v[1]*W[1],H.a.v[2]*W[2]):o.translate(-H.a.v[0]*W,-H.a.v[1]*W,H.a.v[2]*W));for(_=0;_<O;_+=1)H=n[_].a,H.s.propType&&(G=n[_].s,W=G.getMult(x[g].anIndexes[_],a.a[_].s.totalChars),W.length?o.scale(1+(H.s.v[0]-1)*W[0],1+(H.s.v[1]-1)*W[1],1):o.scale(1+(H.s.v[0]-1)*W,1+(H.s.v[1]-1)*W,1));for(_=0;_<O;_+=1){if(H=n[_].a,G=n[_].s,W=G.getMult(x[g].anIndexes[_],a.a[_].s.totalChars),H.sk.propType&&(W.length?o.skewFromAxis(-H.sk.v*W[0],H.sa.v*W[1]):o.skewFromAxis(-H.sk.v*W,H.sa.v*W)),H.r.propType&&(W.length?o.rotateZ(-H.r.v*W[2]):o.rotateZ(-H.r.v*W)),H.ry.propType&&(W.length?o.rotateY(H.ry.v*W[1]):o.rotateY(H.ry.v*W)),H.rx.propType&&(W.length?o.rotateX(H.rx.v*W[0]):o.rotateX(H.rx.v*W)),H.o.propType&&(W.length?et+=(H.o.v*W[0]-et)*W[0]:et+=(H.o.v*W-et)*W),e.strokeWidthAnim&&H.sw.propType&&(W.length?ct+=H.sw.v*W[0]:ct+=H.sw.v*W),e.strokeColorAnim&&H.sc.propType)for(Me=0;Me<3;Me+=1)W.length?Ke[Me]+=(H.sc.v[Me]-Ke[Me])*W[0]:Ke[Me]+=(H.sc.v[Me]-Ke[Me])*W;if(e.fillColorAnim&&e.fc){if(H.fc.propType)for(Me=0;Me<3;Me+=1)W.length?Ve[Me]+=(H.fc.v[Me]-Ve[Me])*W[0]:Ve[Me]+=(H.fc.v[Me]-Ve[Me])*W;H.fh.propType&&(W.length?Ve=addHueToRGB(Ve,H.fh.v*W[0]):Ve=addHueToRGB(Ve,H.fh.v*W)),H.fs.propType&&(W.length?Ve=addSaturationToRGB(Ve,H.fs.v*W[0]):Ve=addSaturationToRGB(Ve,H.fs.v*W)),H.fb.propType&&(W.length?Ve=addBrightnessToRGB(Ve,H.fb.v*W[0]):Ve=addBrightnessToRGB(Ve,H.fb.v*W))}}for(_=0;_<O;_+=1)H=n[_].a,H.p.propType&&(G=n[_].s,W=G.getMult(x[g].anIndexes[_],a.a[_].s.totalChars),this._hasMaskedPath?W.length?o.translate(0,H.p.v[1]*W[0],-H.p.v[2]*W[1]):o.translate(0,H.p.v[1]*W,-H.p.v[2]*W):W.length?o.translate(H.p.v[0]*W[0],H.p.v[1]*W[1],-H.p.v[2]*W[2]):o.translate(H.p.v[0]*W,H.p.v[1]*W,-H.p.v[2]*W));if(e.strokeWidthAnim&&(at=ct<0?0:ct),e.strokeColorAnim&&(st="rgb("+Math.round(Ke[0]*255)+","+Math.round(Ke[1]*255)+","+Math.round(Ke[2]*255)+")"),e.fillColorAnim&&e.fc&&(ot="rgb("+Math.round(Ve[0]*255)+","+Math.round(Ve[1]*255)+","+Math.round(Ve[2]*255)+")"),this._hasMaskedPath){if(o.translate(0,-e.ls),o.translate(0,i[1]*fe*.01+p,0),this._pathData.p.v){re=(T.point[1]-R.point[1])/(T.point[0]-R.point[0]);var Ye=Math.atan(re)*180/Math.PI;T.point[0]<R.point[0]&&(Ye+=180),o.rotate(-Ye*Math.PI/180)}o.translate(Se,Ce,0),b-=i[0]*x[g].an*.005,x[g+1]&&K!==x[g+1].ind&&(b+=x[g].an/2,b+=e.tr*.001*e.finalSize)}else{switch(o.translate(d,p,0),e.ps&&o.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:o.translate(x[g].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[x[g].line]),0,0);break;case 2:o.translate(x[g].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[x[g].line])/2,0,0);break}o.translate(0,-e.ls),o.translate(Ee,0,0),o.translate(i[0]*x[g].an*.005,i[1]*fe*.01,0),d+=x[g].l+e.tr*.001*e.finalSize}l==="html"?lt=o.toCSS():l==="svg"?lt=o.to2dCSS():Ae=[o.props[0],o.props[1],o.props[2],o.props[3],o.props[4],o.props[5],o.props[6],o.props[7],o.props[8],o.props[9],o.props[10],o.props[11],o.props[12],o.props[13],o.props[14],o.props[15]],Ne=et}c<=g?(V=new LetterProps(Ne,at,st,ot,lt,Ae),this.renderedLetters.push(V),c+=1,this.lettersChangedFlag=!0):(V=this.renderedLetters[g],this.lettersChangedFlag=V.update(Ne,at,st,ot,lt,Ae)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(e,r,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,r,i),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,r,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,r){var i,n=r.length,a,o="";for(i=0;i<n;i+=1)r[i].ty==="sh"&&(a=r[i].ks.k,o+=buildShapeString(a,a.i.length,!0,e));return o},ITextElement.prototype.updateDocumentData=function(e,r){this.textProperty.updateDocumentData(e,r)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,r,i,n,a){switch(e.ps&&r.translate(e.ps[0],e.ps[1]+e.ascent,0),r.translate(0,-e.ls,0),e.j){case 1:r.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i]),0,0);break;case 2:r.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i])/2,0,0);break}r.translate(n,a,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(e[0]*255)+","+Math.round(e[1]*255)+","+Math.round(e[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,r,i){this.textSpans=[],this.renderType="svg",this.initElement(e,r,i)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var r=0,i=e.length,n=[],a="";r<i;)e[r]==="\r"||e[r]===""?(n.push(a),a=""):a+=e[r],r+=1;return n.push(a),n},SVGTextLottieElement.prototype.buildShapeData=function(e,r){if(e.shapes&&e.shapes.length){var i=e.shapes[0];if(i.it){var n=i.it[i.it.length-1];n.s&&(n.s.k[0]=r,n.s.k[1]=r)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var e,r,i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var n=this.globalData.fontManager.getFontByName(i.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var a=i.fWeight,o=i.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",a)}this.layerElement.setAttribute("aria-label",i.t);var l=i.l||[],c=!!this.globalData.fontManager.chars;r=l.length;var d,p=this.mHelper,g="",y=this.data.singleShape,x=0,S=0,b=!0,T=i.tr*.001*i.finalSize;if(y&&!c&&!i.sz){var N=this.textContainer,k="start";switch(i.j){case 1:k="end";break;case 2:k="middle";break;default:k="start";break}N.setAttribute("text-anchor",k),N.setAttribute("letter-spacing",T);var C=this.buildTextContents(i.finalText);for(r=C.length,S=i.ps?i.ps[1]+i.ascent:0,e=0;e<r;e+=1)d=this.textSpans[e].span||createNS("tspan"),d.textContent=C[e],d.setAttribute("x",0),d.setAttribute("y",S),d.style.display="inherit",N.appendChild(d),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=d,S+=i.finalLineHeight;this.layerElement.appendChild(N)}else{var A=this.textSpans.length,R;for(e=0;e<r;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!c||!y||e===0){if(d=A>e?this.textSpans[e].span:createNS(c?"g":"text"),A<=e){if(d.setAttribute("stroke-linecap","butt"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=d,c){var I=createNS("g");d.appendChild(I),this.textSpans[e].childSpan=I}this.textSpans[e].span=d,this.layerElement.appendChild(d)}d.style.display="inherit"}if(p.reset(),y&&(l[e].n&&(x=-T,S+=i.yOffset,S+=b?1:0,b=!1),this.applyTextPropertiesToMatrix(i,p,l[e].line,x,S),x+=l[e].l||0,x+=T),c){R=this.globalData.fontManager.getCharData(i.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily);var F;if(R.t===1)F=new SVGCompElement(R.data,this.globalData,this);else{var z=emptyShapeData;R.data&&R.data.shapes&&(z=this.buildShapeData(R.data,i.finalSize)),F=new SVGShapeElement(z,this.globalData,this)}if(this.textSpans[e].glyph){var B=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(B.layerElement),B.destroy()}this.textSpans[e].glyph=F,F._debug=!0,F.prepareFrame(0),F.renderFrame(),this.textSpans[e].childSpan.appendChild(F.layerElement),R.t===1&&this.textSpans[e].childSpan.setAttribute("transform","scale("+i.finalSize/100+","+i.finalSize/100+")")}else y&&d.setAttribute("transform","translate("+p.props[12]+","+p.props[13]+")"),d.textContent=l[e].val,d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}y&&d&&d.setAttribute("d",g)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,r=this.textSpans.length,i;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)i=this.textSpans[e].glyph,i&&(i.prepareFrame(this.comp.renderedFrame-this.data.st),i._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,r,i=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l;r=n.length;var a,o,l;for(e=0;e<r;e+=1)n[e].n||(a=i[e],o=this.textSpans[e].span,l=this.textSpans[e].glyph,l&&l.renderFrame(),a._mdf.m&&o.setAttribute("transform",a.m),a._mdf.o&&o.setAttribute("opacity",a.o),a._mdf.sw&&o.setAttribute("stroke-width",a.sw),a._mdf.sc&&o.setAttribute("stroke",a.sc),a._mdf.fc&&o.setAttribute("fill",a.fc))}};function ISolidElement(e,r,i){this.initElement(e,r,i)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)};function NullElement(e,r,i){this.initFrame(),this.initBaseData(e,r,i),this.initFrame(),this.initTransform(e,r,i),this.initHierarchy()}NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var r=this.globalData.defs;this.setupGlobalData(e,r),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var a=createElementID();i.setAttribute("id",a),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+a+")"),r.appendChild(i),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e,r=this.layers?this.layers.length:0;for(e=0;e<r;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var r=0,i=this.layers.length;for(r=0;r<i;r+=1)if(this.layers[r].ind===e)return r;return-1},SVGRendererBase.prototype.buildItem=function(e){var r=this.elements;if(!(r[e]||this.layers[e].ty===99)){r[e]=!0;var i=this.createItem(this.layers[e]);if(r[e]=i,getExpressionsPlugin()&&(this.layers[e].ty===0&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,e),this.layers[e].tt){var n="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(n===-1)return;if(!this.elements[n]||this.elements[n]===!0)this.buildItem(n),this.addPendingElement(i);else{var a=r[n],o=a.getMatte(this.layers[e].tt);i.setMatte(o)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var r=0,i=this.elements.length;r<i;){if(this.elements[r]===e){var n="tp"in e.data?this.findIndexByInd(e.data.tp):r-1,a=this.elements[n],o=a.getMatte(this.layers[r].tt);e.setMatte(o);break}r+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(!(this.renderedFrame===e||this.destroyed)){e===null?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var r,i=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf)for(r=0;r<i;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,r){var i=e.getBaseElement();if(i){for(var n=0,a;n<r;)this.elements[n]&&this.elements[n]!==!0&&this.elements[n].getBaseElement()&&(a=this.elements[n].getBaseElement()),n+=1;a?this.layerElement.insertBefore(i,a):this.layerElement.appendChild(i)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,r,i){this.initFrame(),this.initBaseData(e,r,i),this.initTransform(e,r,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!r.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var r=this.tm.v;r===this.data.op&&(r=this.data.op-1),this.renderedFrame=r}var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,r=this.layers.length;for(e=0;e<r;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,r=this.layers.length;for(e=0;e<r;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(e,r,i){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,r,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,r.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function SVGRenderer(e,r){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(r&&r.title){var n=createNS("title"),a=createElementID();n.setAttribute("id",a),n.textContent=r.title,this.svgElement.appendChild(n),i+=a}if(r&&r.description){var o=createNS("desc"),l=createElementID();o.setAttribute("id",l),o.textContent=r.description,this.svgElement.appendChild(o),i+=" "+l}i&&this.svgElement.setAttribute("aria-labelledby",i);var c=createNS("defs");this.svgElement.appendChild(c);var d=createNS("g");this.svgElement.appendChild(d),this.layerElement=d,this.renderConfig={preserveAspectRatio:r&&r.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:r&&r.contentVisibility||"visible",progressiveLoad:r&&r.progressiveLoad||!1,hideOnTransparent:!(r&&r.hideOnTransparent===!1),viewBoxOnly:r&&r.viewBoxOnly||!1,viewBoxSize:r&&r.viewBoxSize||!1,className:r&&r.className||"",id:r&&r.id||"",focusable:r&&r.focusable,filterSize:{width:r&&r.filterSize&&r.filterSize.width||"100%",height:r&&r.filterSize&&r.filterSize.height||"100%",x:r&&r.filterSize&&r.filterSize.x||"0%",y:r&&r.filterSize&&r.filterSize.y||"0%"},width:r&&r.width,height:r&&r.height,runExpressions:!r||r.runExpressions===void 0||r.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:c,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(r){var i,n=r.length,a="_";for(i=0;i<n;i+=1)a+=r[i].transform.key+"_";var o=this.sequences[a];return o||(o={transforms:[].concat(r),finalTransform:new Matrix,_mdf:!1},this.sequences[a]=o,this.sequenceList.push(o)),o},processSequence:function(r,i){for(var n=0,a=r.transforms.length,o=i;n<a&&!i;){if(r.transforms[n].transform.mProps._mdf){o=!0;break}n+=1}if(o)for(r.finalTransform.reset(),n=a-1;n>=0;n-=1)r.finalTransform.multiply(r.transforms[n].transform.mProps.v);r._mdf=o},processSequences:function(r){var i,n=this.sequenceList.length;for(i=0;i<n;i+=1)this.processSequence(this.sequenceList[i],r)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var r="__lottie_element_luma_buffer",i=null,n=null,a=null;function o(){var d=createNS("svg"),p=createNS("filter"),g=createNS("feColorMatrix");return p.setAttribute("id",r),g.setAttribute("type","matrix"),g.setAttribute("color-interpolation-filters","sRGB"),g.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),p.appendChild(g),d.appendChild(p),d.setAttribute("id",r+"_svg"),featureSupport.svgLumaHidden&&(d.style.display="none"),d}function l(){i||(a=o(),document.body.appendChild(a),i=createTag("canvas"),n=i.getContext("2d"),n.filter="url(#"+r+")",n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1))}function c(d){return i||l(),i.width=d.width,i.height=d.height,n.filter="url(#"+r+")",i}return{load:l,get:c}};function createCanvas(e,r){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,r);var i=createTag("canvas");return i.width=e,i.height=r,i}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(e){var r,i=e.data.ef?e.data.ef.length:0;this.filters=[];var n;for(r=0;r<i;r+=1){n=null;var a=e.data.ef[r].ty;if(registeredEffects[a]){var o=registeredEffects[a].effect;n=new o(e.effectsManager.effectElements[r],e)}n&&this.filters.push(n)}this.filters.length&&e.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(e){var r,i=this.filters.length;for(r=0;r<i;r+=1)this.filters[r].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var r,i=this.filters.length,n=[];for(r=0;r<i;r+=1)this.filters[r].type===e&&n.push(this.filters[r]);return n};function registerEffect(e,r){registeredEffects[e]={effect:r}}function CVMaskElement(e,r){this.data=e,this.element=r,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,n=this.masksProperties.length,a=!1;for(i=0;i<n;i+=1)this.masksProperties[i].mode!=="n"&&(a=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);this.hasMasks=a,a&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e=this.element.finalTransform.mat,r=this.element.canvasContext,i,n=this.masksProperties.length,a,o,l;for(r.beginPath(),i=0;i<n;i+=1)if(this.masksProperties[i].mode!=="n"){this.masksProperties[i].inv&&(r.moveTo(0,0),r.lineTo(this.element.globalData.compSize.w,0),r.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),r.lineTo(0,this.element.globalData.compSize.h),r.lineTo(0,0)),l=this.viewData[i].v,a=e.applyToPointArray(l.v[0][0],l.v[0][1],0),r.moveTo(a[0],a[1]);var c,d=l._length;for(c=1;c<d;c+=1)o=e.applyToTriplePoints(l.o[c-1],l.i[c],l.v[c]),r.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);o=e.applyToTriplePoints(l.o[c-1],l.i[0],l.v[0]),r.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}this.element.globalData.renderer.save(!0),r.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var r=this.globalData.canvasContext,i=assetLoader.createCanvas(r.canvas.width,r.canvas.height);this.buffers.push(i);var n=assetLoader.createCanvas(r.canvas.width,r.canvas.height);this.buffers.push(n),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var r=this.globalData;if(r.blendMode!==this.data.bm){r.blendMode=this.data.bm;var i=getBlendMode(this.data.bm);r.canvasContext.globalCompositeOperation=i}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(r){r.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var r=this.buffers[0],i=r.getContext("2d");this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var r=this.buffers[1],i=r.getContext("2d");this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var n=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(n.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var a=assetLoader.getLumaCanvas(this.canvasContext.canvas),o=a.getContext("2d");o.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(a,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(r,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(r){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!r)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var i=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(i),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(i),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(e,r,i,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var a=4;r.ty==="rc"?a=5:r.ty==="el"?a=6:r.ty==="sr"&&(a=7),this.sh=ShapePropertyFactory.getShapeProp(e,r,a,e);var o,l=i.length,c;for(o=0;o<l;o+=1)i[o].closed||(c={transforms:n.addTransformSequence(i[o].transforms),trNodes:[]},this.styledShapes.push(c),i[o].elements.push(c))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(e,r,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,r,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,r){var i={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(r),transforms:[],elements:[],closed:e.hd===!0},n={};if(e.ty==="fl"||e.ty==="st"?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(i.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):(e.ty==="gf"||e.ty==="gs")&&(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),e.ty==="st"||e.ty==="gs"){if(i.lc=lineCapEnum[e.lc||2],i.lj=lineJoinEnum[e.lj||2],e.lj==1&&(i.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(i.wi=n.w.v),e.d){var a=new DashProperty(this,e.d,"canvas",this);n.d=a,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0])}}else i.r=e.r===2?"evenodd":"nonzero";return this.stylesList.push(i),n.style=i,n},CVShapeElement.prototype.createGroupElement=function(){var e={it:[],prevViewData:[]};return e},CVShapeElement.prototype.createTransformElement=function(e){var r={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}};return r},CVShapeElement.prototype.createShapeElement=function(e){var r=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(r),this.addShapeToModifiers(r),r},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,r=this.itemsData.length;for(e=0;e<r;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),r=this.dynamicProperties.length,e=0;e<r;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var r,i=this.stylesList.length;for(r=0;r<i;r+=1)this.stylesList[r].closed||this.stylesList[r].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,r=this.stylesList.length;for(e=0;e<r;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var r,i=e.length;for(r=0;r<i;r+=1)e[r].closed=!0},CVShapeElement.prototype.searchShapes=function(e,r,i,n,a){var o,l=e.length-1,c,d,p=[],g=[],y,x,S,b=[].concat(a);for(o=l;o>=0;o-=1){if(y=this.searchProcessedElement(e[o]),y?r[o]=i[y-1]:e[o]._shouldRender=n,e[o].ty==="fl"||e[o].ty==="st"||e[o].ty==="gf"||e[o].ty==="gs")y?r[o].style.closed=!1:r[o]=this.createStyleElement(e[o],b),p.push(r[o].style);else if(e[o].ty==="gr"){if(!y)r[o]=this.createGroupElement(e[o]);else for(d=r[o].it.length,c=0;c<d;c+=1)r[o].prevViewData[c]=r[o].it[c];this.searchShapes(e[o].it,r[o].it,r[o].prevViewData,n,b)}else e[o].ty==="tr"?(y||(S=this.createTransformElement(e[o]),r[o]=S),b.push(r[o]),this.addTransformToStyleList(r[o])):e[o].ty==="sh"||e[o].ty==="rc"||e[o].ty==="el"||e[o].ty==="sr"?y||(r[o]=this.createShapeElement(e[o])):e[o].ty==="tm"||e[o].ty==="rd"||e[o].ty==="pb"||e[o].ty==="zz"||e[o].ty==="op"?(y?(x=r[o],x.closed=!1):(x=ShapeModifiers.getModifier(e[o].ty),x.init(this,e[o]),r[o]=x,this.shapeModifiers.push(x)),g.push(x)):e[o].ty==="rp"&&(y?(x=r[o],x.closed=!0):(x=ShapeModifiers.getModifier(e[o].ty),r[o]=x,x.init(this,e,o,r),this.shapeModifiers.push(x),n=!1),g.push(x));this.addProcessedElement(e[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(p),l=g.length,o=0;o<l;o+=1)g[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,r){(e._opMdf||r.op._mdf||this._isFirstFrame)&&(r.opacity=e.opacity,r.opacity*=r.op.v,r._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,r=this.stylesList.length,i,n,a,o,l,c,d=this.globalData.renderer,p=this.globalData.canvasContext,g,y;for(e=0;e<r;e+=1)if(y=this.stylesList[e],g=y.type,!((g==="st"||g==="gs")&&y.wi===0||!y.data._shouldRender||y.coOp===0||this.globalData.currentGlobalAlpha===0)){for(d.save(),l=y.elements,g==="st"||g==="gs"?(d.ctxStrokeStyle(g==="st"?y.co:y.grd),d.ctxLineWidth(y.wi),d.ctxLineCap(y.lc),d.ctxLineJoin(y.lj),d.ctxMiterLimit(y.ml||0)):d.ctxFillStyle(g==="fl"?y.co:y.grd),d.ctxOpacity(y.coOp),g!=="st"&&g!=="gs"&&p.beginPath(),d.ctxTransform(y.preTransforms.finalTransform.props),n=l.length,i=0;i<n;i+=1){for((g==="st"||g==="gs")&&(p.beginPath(),y.da&&(p.setLineDash(y.da),p.lineDashOffset=y.do)),c=l[i].trNodes,o=c.length,a=0;a<o;a+=1)c[a].t==="m"?p.moveTo(c[a].p[0],c[a].p[1]):c[a].t==="c"?p.bezierCurveTo(c[a].pts[0],c[a].pts[1],c[a].pts[2],c[a].pts[3],c[a].pts[4],c[a].pts[5]):p.closePath();(g==="st"||g==="gs")&&(d.ctxStroke(),y.da&&p.setLineDash(this.dashResetter))}g!=="st"&&g!=="gs"&&this.globalData.renderer.ctxFill(y.r),d.restore()}},CVShapeElement.prototype.renderShape=function(e,r,i,n){var a,o=r.length-1,l;for(l=e,a=o;a>=0;a-=1)r[a].ty==="tr"?(l=i[a].transform,this.renderShapeTransform(e,l)):r[a].ty==="sh"||r[a].ty==="el"||r[a].ty==="rc"||r[a].ty==="sr"?this.renderPath(r[a],i[a]):r[a].ty==="fl"?this.renderFill(r[a],i[a],l):r[a].ty==="st"?this.renderStroke(r[a],i[a],l):r[a].ty==="gf"||r[a].ty==="gs"?this.renderGradientFill(r[a],i[a],l):r[a].ty==="gr"?this.renderShape(l,r[a].it,i[a].it):r[a].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,r){if(this._isFirstFrame||r._mdf||e.transforms._mdf){var i=e.trNodes,n=r.paths,a,o,l,c=n._length;i.length=0;var d=e.transforms.finalTransform;for(l=0;l<c;l+=1){var p=n.shapes[l];if(p&&p.v){for(o=p._length,a=1;a<o;a+=1)a===1&&i.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),i.push({t:"c",pts:d.applyToTriplePoints(p.o[a-1],p.i[a],p.v[a])});o===1&&i.push({t:"m",p:d.applyToPointArray(p.v[0][0],p.v[0][1],0)}),p.c&&o&&(i.push({t:"c",pts:d.applyToTriplePoints(p.o[a-1],p.i[0],p.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,r){if(e.hd!==!0&&e._shouldRender){var i,n=r.styledShapes.length;for(i=0;i<n;i+=1)this.renderStyledShape(r.styledShapes[i],r.sh)}},CVShapeElement.prototype.renderFill=function(e,r,i){var n=r.style;(r.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")"),(r.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=r.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,r,i){var n=r.style,a;if(!n.grd||r.g._mdf||r.s._mdf||r.e._mdf||e.t!==1&&(r.h._mdf||r.a._mdf)){var o=this.globalData.canvasContext,l=r.s.v,c=r.e.v;if(e.t===1)a=o.createLinearGradient(l[0],l[1],c[0],c[1]);else{var d=Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)),p=Math.atan2(c[1]-l[1],c[0]-l[0]),g=r.h.v;g>=1?g=.99:g<=-1&&(g=-.99);var y=d*g,x=Math.cos(p+r.a.v)*y+l[0],S=Math.sin(p+r.a.v)*y+l[1];a=o.createRadialGradient(x,S,0,l[0],l[1],d)}var b,T=e.g.p,N=r.g.c,k=1;for(b=0;b<T;b+=1)r.g._hasOpacity&&r.g._collapsable&&(k=r.g.o[b*2+1]),a.addColorStop(N[b*4]/100,"rgba("+N[b*4+1]+","+N[b*4+2]+","+N[b*4+3]+","+k+")");n.grd=a}n.coOp=r.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(e,r,i){var n=r.style,a=r.d;a&&(a._mdf||this._isFirstFrame)&&(n.da=a.dashArray,n.do=a.dashoffset[0]),(r.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")"),(r.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=r.o.v*i.opacity),(r.w._mdf||this._isFirstFrame)&&(n.wi=r.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(e,r,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,r,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var r=!1;e.fc?(r=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=r;var i=!1;e.sc&&(i=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n=this.globalData.fontManager.getFontByName(e.f),a,o,l=e.l,c=this.mHelper;this.stroke=i,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,o=e.finalText.length;var d,p,g,y,x,S,b,T,N,k,C=this.data.singleShape,A=e.tr*.001*e.finalSize,R=0,I=0,F=!0,z=0;for(a=0;a<o;a+=1){d=this.globalData.fontManager.getCharData(e.finalText[a],n.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),p=d&&d.data||{},c.reset(),C&&l[a].n&&(R=-A,I+=e.yOffset,I+=F?1:0,F=!1),x=p.shapes?p.shapes[0].it:[],b=x.length,c.scale(e.finalSize/100,e.finalSize/100),C&&this.applyTextPropertiesToMatrix(e,c,l[a].line,R,I),N=createSizedArray(b-1);var B=0;for(S=0;S<b;S+=1)if(x[S].ty==="sh"){for(y=x[S].ks.k.i.length,T=x[S].ks.k,k=[],g=1;g<y;g+=1)g===1&&k.push(c.applyToX(T.v[0][0],T.v[0][1],0),c.applyToY(T.v[0][0],T.v[0][1],0)),k.push(c.applyToX(T.o[g-1][0],T.o[g-1][1],0),c.applyToY(T.o[g-1][0],T.o[g-1][1],0),c.applyToX(T.i[g][0],T.i[g][1],0),c.applyToY(T.i[g][0],T.i[g][1],0),c.applyToX(T.v[g][0],T.v[g][1],0),c.applyToY(T.v[g][0],T.v[g][1],0));k.push(c.applyToX(T.o[g-1][0],T.o[g-1][1],0),c.applyToY(T.o[g-1][0],T.o[g-1][1],0),c.applyToX(T.i[0][0],T.i[0][1],0),c.applyToY(T.i[0][0],T.i[0][1],0),c.applyToX(T.v[0][0],T.v[0][1],0),c.applyToY(T.v[0][0],T.v[0][1],0)),N[B]=k,B+=1}C&&(R+=l[a].l,R+=A),this.textSpans[z]?this.textSpans[z].elem=N:this.textSpans[z]={elem:N},z+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var e=this.canvasContext;e.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var r,i,n,a,o,l,c=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;i=d.length;var p,g=null,y=null,x=null,S,b,T=this.globalData.renderer;for(r=0;r<i;r+=1)if(!d[r].n){if(p=c[r],p&&(T.save(),T.ctxTransform(p.p),T.ctxOpacity(p.o)),this.fill){for(p&&p.fc?g!==p.fc&&(T.ctxFillStyle(p.fc),g=p.fc):g!==this.values.fill&&(g=this.values.fill,T.ctxFillStyle(this.values.fill)),S=this.textSpans[r].elem,a=S.length,this.globalData.canvasContext.beginPath(),n=0;n<a;n+=1)for(b=S[n],l=b.length,this.globalData.canvasContext.moveTo(b[0],b[1]),o=2;o<l;o+=6)this.globalData.canvasContext.bezierCurveTo(b[o],b[o+1],b[o+2],b[o+3],b[o+4],b[o+5]);this.globalData.canvasContext.closePath(),T.ctxFill()}if(this.stroke){for(p&&p.sw?x!==p.sw&&(x=p.sw,T.ctxLineWidth(p.sw)):x!==this.values.sWidth&&(x=this.values.sWidth,T.ctxLineWidth(this.values.sWidth)),p&&p.sc?y!==p.sc&&(y=p.sc,T.ctxStrokeStyle(p.sc)):y!==this.values.stroke&&(y=this.values.stroke,T.ctxStrokeStyle(this.values.stroke)),S=this.textSpans[r].elem,a=S.length,this.globalData.canvasContext.beginPath(),n=0;n<a;n+=1)for(b=S[n],l=b.length,this.globalData.canvasContext.moveTo(b[0],b[1]),o=2;o<l;o+=6)this.globalData.canvasContext.bezierCurveTo(b[o],b[o+1],b[o+2],b[o+3],b[o+4],b[o+5]);this.globalData.canvasContext.closePath(),T.ctxStroke()}p&&this.globalData.renderer.restore()}};function CVImageElement(e,r,i){this.assetData=r.getAssetData(e.refId),this.img=r.imageLoader.getAsset(this.assetData),this.initElement(e,r,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var r=e.getContext("2d"),i=this.img.width,n=this.img.height,a=i/n,o=this.assetData.w/this.assetData.h,l,c,d=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>o&&d==="xMidYMid slice"||a<o&&d!=="xMidYMid slice"?(c=n,l=c*o):(l=i,c=l/o),r.drawImage(this.img,(i-l)/2,(n-c)/2,l,c,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(e,r,i){this.initElement(e,r,i)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){e[0]===1&&e[1]===0&&e[4]===0&&e[5]===1&&e[12]===0&&e[13]===0||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,r,i,n){this.canvasContext.fillRect(e,r,i,n)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var r=this.animationItem.container.style;r.width="100%",r.height="100%";var i="0px 0px 0px";r.transformOrigin=i,r.mozTransformOrigin=i,r.webkitTransformOrigin=i,r["-webkit-transform"]=i,r.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,r){this.reset();var i,n;e?(i=e,n=r,this.canvasContext.canvas.width=i,this.canvasContext.canvas.height=n):(this.animationItem.wrapper&&this.animationItem.container?(i=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight):(i=this.canvasContext.canvas.width,n=this.canvasContext.canvas.height),this.canvasContext.canvas.width=i*this.renderConfig.dpr,this.canvasContext.canvas.height=n*this.renderConfig.dpr);var a,o;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var l=this.renderConfig.preserveAspectRatio.split(" "),c=l[1]||"meet",d=l[0]||"xMidYMid",p=d.substr(0,4),g=d.substr(4);a=i/n,o=this.transformCanvas.w/this.transformCanvas.h,o>a&&c==="meet"||o<a&&c==="slice"?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr)),p==="xMid"&&(o<a&&c==="meet"||o>a&&c==="slice")?this.transformCanvas.tx=(i-this.transformCanvas.w*(n/this.transformCanvas.h))/2*this.renderConfig.dpr:p==="xMax"&&(o<a&&c==="meet"||o>a&&c==="slice")?this.transformCanvas.tx=(i-this.transformCanvas.w*(n/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,g==="YMid"&&(o>a&&c==="meet"||o<a&&c==="slice")?this.transformCanvas.ty=(n-this.transformCanvas.h*(i/this.transformCanvas.w))/2*this.renderConfig.dpr:g==="YMax"&&(o>a&&c==="meet"||o<a&&c==="slice")?this.transformCanvas.ty=(n-this.transformCanvas.h*(i/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=i/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=n/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var e,r=this.layers?this.layers.length:0;for(e=r-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,r){if(!(this.renderedFrame===e&&this.renderConfig.clearCanvas===!0&&!r||this.destroyed||e===-1)){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||r,this.globalData.projectInterface.currentFrame=e;var i,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e-this.layers[i].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var r=this.elements;if(!(r[e]||this.layers[e].ty===99)){var i=this.createItem(this.layers[e],this,this.globalData);r[e]=i,i.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var e,r=15;for(e=0;e<r;e+=1){var i=new CanvasContext;this.stack[e]=i}this._length=r,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var e=this._length*2,r=0;for(r=this._length;r<e;r+=1)this.stack[r]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var r=this.stack[this.cArrPos],i=r.transform,n,a=this.cTr.props;for(n=0;n<16;n+=1)a[n]=i[n];if(e){this.nativeContext.restore();var o=this.stack[this.cArrPos+1];this.appliedFillStyle=o.fillStyle,this.appliedStrokeStyle=o.strokeStyle,this.appliedLineWidth=o.lineWidth,this.appliedLineCap=o.lineCap,this.appliedLineJoin=o.lineJoin,this.appliedMiterLimit=o.miterLimit}this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),(e||r.opacity!==-1&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var r=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var i=this.stack[this.cArrPos],n;for(n=0;n<16;n+=1)i.transform[n]=r[n];this.cArrPos+=1;var a=this.stack[this.cArrPos];a.opacity=i.opacity,a.fillStyle=i.fillStyle,a.strokeStyle=i.strokeStyle,a.lineWidth=i.lineWidth,a.lineCap=i.lineCap,a.lineJoin=i.lineJoin,a.miterLimit=i.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var r=this.cTr;this.transformMat.multiply(r),r.cloneFromProps(this.transformMat.props);var i=r.props;this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13])},CVContextData.prototype.opacity=function(e){var r=this.stack[this.cArrPos].opacity;r*=e<0?0:e,this.stack[this.cArrPos].opacity!==r&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=r)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,r,i,n){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,r,i,n)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(e,r,i){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,r,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,r.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.beginPath(),e.moveTo(0,0),e.lineTo(this.data.w,0),e.lineTo(this.data.w,this.data.h),e.lineTo(0,this.data.h),e.lineTo(0,0),e.clip();var r,i=this.layers.length;for(r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},CVCompElement.prototype.destroy=function(){var e,r=this.layers.length;for(e=r-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function CanvasRenderer(e,r){this.animationItem=e,this.renderConfig={clearCanvas:r&&r.clearCanvas!==void 0?r.clearCanvas:!0,context:r&&r.context||null,progressiveLoad:r&&r.progressiveLoad||!1,preserveAspectRatio:r&&r.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:r&&r.contentVisibility||"visible",className:r&&r.className||"",id:r&&r.id||"",runExpressions:!r||r.runExpressions===void 0||r.runExpressions},this.renderConfig.dpr=r&&r.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=r&&r.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var r=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var i=this.finalTransform.mat.toCSS();r.transform=i,r.webkitTransform=i}this.finalTransform._opMdf&&(r.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(e,r,i){this.initElement(e,r,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?(e=createNS("rect"),e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(e=createTag("div"),e.style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)};function HShapeElement(e,r,i){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,r,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var r=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",r.w),e.setAttribute("height",r.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,r){var i,n=e.length;for(i=0;i<n;i+=1)r=e[i].mProps.v.applyToPointArray(r[0],r[1],0);return r},HShapeElement.prototype.calculateShapeBoundingBox=function(e,r){var i=e.sh.v,n=e.transformers,a,o=i._length,l,c,d,p;if(!(o<=1)){for(a=0;a<o-1;a+=1)l=this.getTransformedPoint(n,i.v[a]),c=this.getTransformedPoint(n,i.o[a]),d=this.getTransformedPoint(n,i.i[a+1]),p=this.getTransformedPoint(n,i.v[a+1]),this.checkBounds(l,c,d,p,r);i.c&&(l=this.getTransformedPoint(n,i.v[a]),c=this.getTransformedPoint(n,i.o[a]),d=this.getTransformedPoint(n,i.i[0]),p=this.getTransformedPoint(n,i.v[0]),this.checkBounds(l,c,d,p,r))}},HShapeElement.prototype.checkBounds=function(e,r,i,n,a){this.getBoundsOfCurve(e,r,i,n);var o=this.shapeBoundingBox;a.x=bmMin(o.left,a.x),a.xMax=bmMax(o.right,a.xMax),a.y=bmMin(o.top,a.y),a.yMax=bmMax(o.bottom,a.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,r,i,n){for(var a=[[e[0],n[0]],[e[1],n[1]]],o,l,c,d,p,g,y,x=0;x<2;++x)l=6*e[x]-12*r[x]+6*i[x],o=-3*e[x]+9*r[x]-9*i[x]+3*n[x],c=3*r[x]-3*e[x],l|=0,o|=0,c|=0,o===0&&l===0||(o===0?(d=-c/l,d>0&&d<1&&a[x].push(this.calculateF(d,e,r,i,n,x))):(p=l*l-4*c*o,p>=0&&(g=(-l+bmSqrt(p))/(2*o),g>0&&g<1&&a[x].push(this.calculateF(g,e,r,i,n,x)),y=(-l-bmSqrt(p))/(2*o),y>0&&y<1&&a[x].push(this.calculateF(y,e,r,i,n,x)))));this.shapeBoundingBox.left=bmMin.apply(null,a[0]),this.shapeBoundingBox.top=bmMin.apply(null,a[1]),this.shapeBoundingBox.right=bmMax.apply(null,a[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,a[1])},HShapeElement.prototype.calculateF=function(e,r,i,n,a,o){return bmPow(1-e,3)*r[o]+3*bmPow(1-e,2)*e*i[o]+3*(1-e)*bmPow(e,2)*n[o]+bmPow(e,3)*a[o]},HShapeElement.prototype.calculateBoundingBox=function(e,r){var i,n=e.length;for(i=0;i<n;i+=1)e[i]&&e[i].sh?this.calculateShapeBoundingBox(e[i],r):e[i]&&e[i].it?this.calculateBoundingBox(e[i].it,r):e[i]&&e[i].style&&e[i].w&&this.expandStrokeBoundingBox(e[i].w,r)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,r){var i=0;if(e.keyframes){for(var n=0;n<e.keyframes.length;n+=1){var a=e.keyframes[n].s;a>i&&(i=a)}i*=e.mult}else i=e.v*e.mult;r.x-=i,r.xMax+=i,r.y-=i,r.yMax+=i},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,r=999999;if(e.x=r,e.xMax=-r,e.y=r,e.yMax=-r,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var i=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),i=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),i=!0),i||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var n=this.shapeCont.style,a="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";n.transform=a,n.webkitTransform=a}}};function HTextElement(e,r,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,r,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var r=this.innerElem.style,i=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";r.fill=i,r.color=i,e.sc&&(r.stroke=this.buildColor(e.sc),r.strokeWidth=e.sw+"px");var n=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(r.fontSize=e.finalSize+"px",r.lineHeight=e.finalSize+"px",n.fClass)this.innerElem.className=n.fClass;else{r.fontFamily=n.fFamily;var a=e.fWeight,o=e.fStyle;r.fontStyle=o,r.fontWeight=a}var l,c,d=e.l;c=d.length;var p,g,y,x=this.mHelper,S,b="",T=0;for(l=0;l<c;l+=1){if(this.globalData.fontManager.chars?(this.textPaths[T]?p=this.textPaths[T]:(p=createNS("path"),p.setAttribute("stroke-linecap",lineCapEnum[1]),p.setAttribute("stroke-linejoin",lineJoinEnum[2]),p.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[T]?(g=this.textSpans[T],y=g.children[0]):(g=createTag("div"),g.style.lineHeight=0,y=createNS("svg"),y.appendChild(p),styleDiv(g)))):this.isMasked?p=this.textPaths[T]?this.textPaths[T]:createNS("text"):this.textSpans[T]?(g=this.textSpans[T],p=this.textPaths[T]):(g=createTag("span"),styleDiv(g),p=createTag("span"),styleDiv(p),g.appendChild(p)),this.globalData.fontManager.chars){var N=this.globalData.fontManager.getCharData(e.finalText[l],n.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily),k;if(N?k=N.data:k=null,x.reset(),k&&k.shapes&&k.shapes.length&&(S=k.shapes[0].it,x.scale(e.finalSize/100,e.finalSize/100),b=this.createPathShape(x,S),p.setAttribute("d",b)),this.isMasked)this.innerElem.appendChild(p);else{if(this.innerElem.appendChild(g),k&&k.shapes){document.body.appendChild(y);var C=y.getBBox();y.setAttribute("width",C.width+2),y.setAttribute("height",C.height+2),y.setAttribute("viewBox",C.x-1+" "+(C.y-1)+" "+(C.width+2)+" "+(C.height+2));var A=y.style,R="translate("+(C.x-1)+"px,"+(C.y-1)+"px)";A.transform=R,A.webkitTransform=R,d[l].yOffset=C.y-1}else y.setAttribute("width",1),y.setAttribute("height",1);g.appendChild(y)}}else if(p.textContent=d[l].val,p.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(p);else{this.innerElem.appendChild(g);var I=p.style,F="translate3d(0,"+-e.finalSize/1.2+"px,0)";I.transform=F,I.webkitTransform=F}this.isMasked?this.textSpans[T]=p:this.textSpans[T]=g,this.textSpans[T].style.display="block",this.textPaths[T]=p,T+=1}for(;T<this.textSpans.length;)this.textSpans[T].style.display="none",T+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var e;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var r="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=r,e.webkitTransform=r}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var i,n,a=0,o=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;n=l.length;var c,d,p;for(i=0;i<n;i+=1)l[i].n?a+=1:(d=this.textSpans[i],p=this.textPaths[i],c=o[a],a+=1,c._mdf.m&&(this.isMasked?d.setAttribute("transform",c.m):(d.style.webkitTransform=c.m,d.style.transform=c.m)),d.style.opacity=c.o,c.sw&&c._mdf.sw&&p.setAttribute("stroke-width",c.sw),c.sc&&c._mdf.sc&&p.setAttribute("stroke",c.sc),c.fc&&c._mdf.fc&&(p.setAttribute("fill",c.fc),p.style.color=c.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var g=this.innerElem.getBBox();this.currentBBox.w!==g.width&&(this.currentBBox.w=g.width,this.svgElement.setAttribute("width",g.width)),this.currentBBox.h!==g.height&&(this.currentBBox.h=g.height,this.svgElement.setAttribute("height",g.height));var y=1;if(this.currentBBox.w!==g.width+y*2||this.currentBBox.h!==g.height+y*2||this.currentBBox.x!==g.x-y||this.currentBBox.y!==g.y-y){this.currentBBox.w=g.width+y*2,this.currentBBox.h=g.height+y*2,this.currentBBox.x=g.x-y,this.currentBBox.y=g.y-y,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var x="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=x,e.webkitTransform=x}}}};function HCameraElement(e,r,i){this.initFrame(),this.initBaseData(e,r,i),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var a,o=e.ks.or.k.length;for(a=0;a<o;a+=1)e.ks.or.k[a].to=null,e.ks.or.k[a].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,r=this.comp.threeDElements.length,i,n,a;for(e=0;e<r;e+=1)if(i=this.comp.threeDElements[e],i.type==="3d"){n=i.perspectiveElem.style,a=i.container.style;var o=this.pe.v+"px",l="0px 0px 0px",c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";n.perspective=o,n.webkitPerspective=o,a.transformOrigin=l,a.mozTransformOrigin=l,a.webkitTransformOrigin=l,n.transform=c,n.webkitTransform=c}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e=this._isFirstFrame,r,i;if(this.hierarchy)for(i=this.hierarchy.length,r=0;r<i;r+=1)e=this.hierarchy[r].finalTransform.mProp._mdf||e;if(e||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(i=this.hierarchy.length-1,r=i;r>=0;r-=1){var n=this.hierarchy[r].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var a;this.p?a=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:a=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)),l=[a[0]/o,a[1]/o,a[2]/o],c=Math.sqrt(l[2]*l[2]+l[0]*l[0]),d=Math.atan2(l[1],c),p=Math.atan2(l[0],-l[2]);this.mat.rotateY(p).rotateX(-d)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var g=!this._prevMat.equals(this.mat);if((g||this.pe._mdf)&&this.comp.threeDElements){i=this.comp.threeDElements.length;var y,x,S;for(r=0;r<i;r+=1)if(y=this.comp.threeDElements[r],y.type==="3d"){if(g){var b=this.mat.toCSS();S=y.container.style,S.transform=b,S.webkitTransform=b}this.pe._mdf&&(x=y.perspectiveElem.style,x.perspective=this.pe.v+"px",x.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(e,r,i){this.assetData=r.getAssetData(e.refId),this.initElement(e,r,i)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),r=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(r),r.crossOrigin="anonymous",r.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(e,r){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:r&&r.className||"",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(r&&r.hideOnTransparent===!1),filterSize:{width:r&&r.filterSize&&r.filterSize.width||"400%",height:r&&r.filterSize&&r.filterSize.height||"400%",x:r&&r.filterSize&&r.filterSize.x||"-100%",y:r&&r.filterSize&&r.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();e.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(e,r){var i=e.getBaseElement();if(i){var n=this.layers[r];if(!n.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(i,r);else{for(var a=0,o,l,c;a<r;)this.elements[a]&&this.elements[a]!==!0&&this.elements[a].getBaseElement&&(l=this.elements[a],c=this.layers[a].ddd?this.getThreeDContainerByPos(a):l.getBaseElement(),o=c||o),a+=1;o?(!n.ddd||!this.supports3d)&&this.layerElement.insertBefore(i,o):(!n.ddd||!this.supports3d)&&this.layerElement.appendChild(i)}else this.addTo3dContainer(i,r)}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var r=0,i=this.threeDElements.length;r<i;){if(this.threeDElements[r].startPos<=e&&this.threeDElements[r].endPos>=e)return this.threeDElements[r].perspectiveElem;r+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,r){var i=createTag("div"),n,a;styleDiv(i);var o=createTag("div");if(styleDiv(o),r==="3d"){n=i.style,n.width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px";var l="50% 50%";n.webkitTransformOrigin=l,n.mozTransformOrigin=l,n.transformOrigin=l,a=o.style;var c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";a.transform=c,a.webkitTransform=c}i.appendChild(o);var d={container:o,perspectiveElem:i,startPos:e,endPos:e,type:r};return this.threeDElements.push(d),d},HybridRendererBase.prototype.build3dContainers=function(){var e,r=this.layers.length,i,n="";for(e=0;e<r;e+=1)this.layers[e].ddd&&this.layers[e].ty!==3?(n!=="3d"&&(n="3d",i=this.createThreeDContainer(e,"3d")),i.endPos=Math.max(i.endPos,e)):(n!=="2d"&&(n="2d",i=this.createThreeDContainer(e,"2d")),i.endPos=Math.max(i.endPos,e));for(r=this.threeDElements.length,e=r-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,r){for(var i=0,n=this.threeDElements.length;i<n;){if(r<=this.threeDElements[i].endPos){for(var a=this.threeDElements[i].startPos,o;a<r;)this.elements[a]&&this.elements[a].getBaseElement&&(o=this.elements[a].getBaseElement()),a+=1;o?this.threeDElements[i].container.insertBefore(e,o):this.threeDElements[i].container.appendChild(e);break}i+=1}},HybridRendererBase.prototype.configAnimation=function(e){var r=createTag("div"),i=this.animationItem.wrapper,n=r.style;n.width=e.w+"px",n.height=e.h+"px",this.resizerElem=r,styleDiv(r),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&r.setAttribute("class",this.renderConfig.className),i.appendChild(r),n.overflow="hidden";var a=createNS("svg");a.setAttribute("width","1"),a.setAttribute("height","1"),styleDiv(a),this.resizerElem.appendChild(a);var o=createNS("defs");a.appendChild(o),this.data=e,this.setupGlobalData(e,a),this.globalData.defs=o,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e,r=this.layers?this.layers.length:0;for(e=0;e<r;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight,i=e/r,n=this.globalData.compSize.w/this.globalData.compSize.h,a,o,l,c;n>i?(a=e/this.globalData.compSize.w,o=e/this.globalData.compSize.w,l=0,c=(r-this.globalData.compSize.h*(e/this.globalData.compSize.w))/2):(a=r/this.globalData.compSize.h,o=r/this.globalData.compSize.h,l=(e-this.globalData.compSize.w*(r/this.globalData.compSize.h))/2,c=0);var d=this.resizerElem.style;d.webkitTransform="matrix3d("+a+",0,0,0,0,"+o+",0,0,0,0,1,0,"+l+","+c+",0,1)",d.transform=d.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e=this.globalData.compSize.w,r=this.globalData.compSize.h,i,n=this.threeDElements.length;for(i=0;i<n;i+=1){var a=this.threeDElements[i].perspectiveElem.style;a.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))+"px",a.perspective=a.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var r,i=e.length,n=createTag("div");for(r=0;r<i;r+=1)if(e[r].xt){var a=this.createComp(e[r],n,this.globalData.comp,null);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}};function HCompElement(e,r,i){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,r,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,r.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,r){for(var i=0,n;i<r;)this.elements[i]&&this.elements[i].getBaseElement&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(e,n):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};function HybridRenderer(e,r){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:r&&r.className||"",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(r&&r.hideOnTransparent===!1),filterSize:{width:r&&r.filterSize&&r.filterSize.width||"400%",height:r&&r.filterSize&&r.filterSize.height||"400%",x:r&&r.filterSize&&r.filterSize.x||"-100%",y:r&&r.filterSize&&r.filterSize.y||"-100%"},runExpressions:!r||r.runExpressions===void 0||r.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(){return function(e){function r(i){for(var n=0,a=e.layers.length;n<a;){if(e.layers[n].nm===i||e.layers[n].ind===i)return e.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(r,"_name",{value:e.data.nm}),r.layer=r,r.pixelAspect=1,r.height=e.data.h||e.globalData.compSize.h,r.width=e.data.w||e.globalData.compSize.w,r.pixelAspect=1,r.frameDuration=1/e.globalData.frameRate,r.displayStartTime=0,r.numLayers=e.layers.length,r}}();function _typeof$2(e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$2(e)}function seedRandom(e,r){var i=this,n=256,a=6,o=52,l="random",c=r.pow(n,a),d=r.pow(2,o),p=d*2,g=n-1,y;function x(A,R,I){var F=[];R=R===!0?{entropy:!0}:R||{};var z=N(T(R.entropy?[A,C(e)]:A===null?k():A,3),F),B=new S(F),Z=function(){for(var U=B.g(a),q=c,Y=0;U<d;)U=(U+Y)*n,q*=n,Y=B.g(1);for(;U>=p;)U/=2,q/=2,Y>>>=1;return(U+Y)/q};return Z.int32=function(){return B.g(4)|0},Z.quick=function(){return B.g(4)/4294967296},Z.double=Z,N(C(B.S),e),(R.pass||I||function(re,U,q,Y){return Y&&(Y.S&&b(Y,B),re.state=function(){return b(B,{})}),q?(r[l]=re,U):re})(Z,z,"global"in R?R.global:this==r,R.state)}r["seed"+l]=x;function S(A){var R,I=A.length,F=this,z=0,B=F.i=F.j=0,Z=F.S=[];for(I||(A=[I++]);z<n;)Z[z]=z++;for(z=0;z<n;z++)Z[z]=Z[B=g&B+A[z%I]+(R=Z[z])],Z[B]=R;F.g=function(re){for(var U,q=0,Y=F.i,fe=F.j,Q=F.S;re--;)U=Q[Y=g&Y+1],q=q*n+Q[g&(Q[Y]=Q[fe=g&fe+U])+(Q[fe]=U)];return F.i=Y,F.j=fe,q}}function b(A,R){return R.i=A.i,R.j=A.j,R.S=A.S.slice(),R}function T(A,R){var I=[],F=_typeof$2(A),z;if(R&&F=="object")for(z in A)try{I.push(T(A[z],R-1))}catch{}return I.length?I:F=="string"?A:A+"\0"}function N(A,R){for(var I=A+"",F,z=0;z<I.length;)R[g&z]=g&(F^=R[g&z]*19)+I.charCodeAt(z++);return C(R)}function k(){try{var A=new Uint8Array(n);return(i.crypto||i.msCrypto).getRandomValues(A),C(A)}catch{var R=i.navigator,I=R&&R.plugins;return[+new Date,i,I,i.screen,C(e)]}}function C(A){return String.fromCharCode.apply(0,A)}N(r.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof$1(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,r){return e==="number"||r instanceof Number||e==="boolean"||e==="string"}function $bm_neg(e){var r=_typeof$1(e);if(r==="number"||e instanceof Number||r==="boolean")return-e;if($bm_isInstanceOfArray(e)){var i,n=e.length,a=[];for(i=0;i<n;i+=1)a[i]=-e[i];return a}return e.propType?e.v:-e}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,r){var i=_typeof$1(e),n=_typeof$1(r);if(isNumerable(i,e)&&isNumerable(n,r)||i==="string"||n==="string")return e+r;if($bm_isInstanceOfArray(e)&&isNumerable(n,r))return e=e.slice(0),e[0]+=r,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(r))return r=r.slice(0),r[0]=e+r[0],r;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(r)){for(var a=0,o=e.length,l=r.length,c=[];a<o||a<l;)(typeof e[a]=="number"||e[a]instanceof Number)&&(typeof r[a]=="number"||r[a]instanceof Number)?c[a]=e[a]+r[a]:c[a]=r[a]===void 0?e[a]:e[a]||r[a],a+=1;return c}return 0}var add=sum;function sub(e,r){var i=_typeof$1(e),n=_typeof$1(r);if(isNumerable(i,e)&&isNumerable(n,r))return i==="string"&&(e=parseInt(e,10)),n==="string"&&(r=parseInt(r,10)),e-r;if($bm_isInstanceOfArray(e)&&isNumerable(n,r))return e=e.slice(0),e[0]-=r,e;if(isNumerable(i,e)&&$bm_isInstanceOfArray(r))return r=r.slice(0),r[0]=e-r[0],r;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(r)){for(var a=0,o=e.length,l=r.length,c=[];a<o||a<l;)(typeof e[a]=="number"||e[a]instanceof Number)&&(typeof r[a]=="number"||r[a]instanceof Number)?c[a]=e[a]-r[a]:c[a]=r[a]===void 0?e[a]:e[a]||r[a],a+=1;return c}return 0}function mul(e,r){var i=_typeof$1(e),n=_typeof$1(r),a;if(isNumerable(i,e)&&isNumerable(n,r))return e*r;var o,l;if($bm_isInstanceOfArray(e)&&isNumerable(n,r)){for(l=e.length,a=createTypedArray("float32",l),o=0;o<l;o+=1)a[o]=e[o]*r;return a}if(isNumerable(i,e)&&$bm_isInstanceOfArray(r)){for(l=r.length,a=createTypedArray("float32",l),o=0;o<l;o+=1)a[o]=e*r[o];return a}return 0}function div(e,r){var i=_typeof$1(e),n=_typeof$1(r),a;if(isNumerable(i,e)&&isNumerable(n,r))return e/r;var o,l;if($bm_isInstanceOfArray(e)&&isNumerable(n,r)){for(l=e.length,a=createTypedArray("float32",l),o=0;o<l;o+=1)a[o]=e[o]/r;return a}if(isNumerable(i,e)&&$bm_isInstanceOfArray(r)){for(l=r.length,a=createTypedArray("float32",l),o=0;o<l;o+=1)a[o]=e/r[o];return a}return 0}function mod(e,r){return typeof e=="string"&&(e=parseInt(e,10)),typeof r=="string"&&(r=parseInt(r,10)),e%r}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,r,i){if(r>i){var n=i;i=r,r=n}return Math.min(Math.max(e,r),i)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,r){if(typeof e=="number"||e instanceof Number)return r=r||0,Math.abs(e-r);r||(r=helperLengthArray);var i,n=Math.min(e.length,r.length),a=0;for(i=0;i<n;i+=1)a+=Math.pow(r[i]-e[i],2);return Math.sqrt(a)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var r=e[0],i=e[1],n=e[2],a=Math.max(r,i,n),o=Math.min(r,i,n),l,c,d=(a+o)/2;if(a===o)l=0,c=0;else{var p=a-o;switch(c=d>.5?p/(2-a-o):p/(a+o),a){case r:l=(i-n)/p+(i<n?6:0);break;case i:l=(n-r)/p+2;break;case n:l=(r-i)/p+4;break}l/=6}return[l,c,d,e[3]]}function hue2rgb(e,r,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(r-e)*6*i:i<1/2?r:i<2/3?e+(r-e)*(2/3-i)*6:e}function hslToRgb(e){var r=e[0],i=e[1],n=e[2],a,o,l;if(i===0)a=n,l=n,o=n;else{var c=n<.5?n*(1+i):n+i-n*i,d=2*n-c;a=hue2rgb(d,c,r+1/3),o=hue2rgb(d,c,r),l=hue2rgb(d,c,r-1/3)}return[a,o,l,e[3]]}function linear(e,r,i,n,a){if((n===void 0||a===void 0)&&(n=r,a=i,r=0,i=1),i<r){var o=i;i=r,r=o}if(e<=r)return n;if(e>=i)return a;var l=i===r?0:(e-r)/(i-r);if(!n.length)return n+(a-n)*l;var c,d=n.length,p=createTypedArray("float32",d);for(c=0;c<d;c+=1)p[c]=n[c]+(a[c]-n[c])*l;return p}function random(e,r){if(r===void 0&&(e===void 0?(e=0,r=1):(r=e,e=void 0)),r.length){var i,n=r.length;e||(e=createTypedArray("float32",n));var a=createTypedArray("float32",n),o=BMMath.random();for(i=0;i<n;i+=1)a[i]=e[i]+o*(r[i]-e[i]);return a}e===void 0&&(e=0);var l=BMMath.random();return e+l*(r-e)}function createPath(e,r,i,n){var a,o=e.length,l=shapePool.newElement();l.setPathData(!!n,o);var c=[0,0],d,p;for(a=0;a<o;a+=1)d=r&&r[a]?r[a]:c,p=i&&i[a]?i[a]:c,l.setTripleAt(e[a][0],e[a][1],p[0]+e[a][0],p[1]+e[a][1],d[0]+e[a][0],d[1]+e[a][1],a,!0);return l}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function e(r,i){var n,a,o=this.pv.length?this.pv.length:1,l=createTypedArray("float32",o);r=5;var c=Math.floor(time*r);for(n=0,a=0;n<c;){for(a=0;a<o;a+=1)l[a]+=-i+i*2*BMMath.random();n+=1}var d=time*r,p=d-Math.floor(d),g=createTypedArray("float32",o);if(o>1){for(a=0;a<o;a+=1)g[a]=this.pv[a]+l[a]+(-i+i*2*BMMath.random())*p;return g}return this.pv+l[0]+(-i+i*2*BMMath.random())*p}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(e,r){return loopIn(e,r,!0)}function loopOutDuration(e,r){return loopOut(e,r,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(e,r){var i=[r[0]-e[0],r[1]-e[1],r[2]-e[2]],n=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads,a=-Math.atan2(i[1],i[2])/degToRads;return[a,n,0]}function easeOut(e,r,i,n,a){return applyEase(easeOutBez,e,r,i,n,a)}function easeIn(e,r,i,n,a){return applyEase(easeInBez,e,r,i,n,a)}function ease(e,r,i,n,a){return applyEase(easeInOutBez,e,r,i,n,a)}function applyEase(e,r,i,n,a,o){a===void 0?(a=i,o=n):r=(r-i)/(n-i),r>1?r=1:r<0&&(r=0);var l=e(r);if($bm_isInstanceOfArray(a)){var c,d=a.length,p=createTypedArray("float32",d);for(c=0;c<d;c+=1)p[c]=(o[c]-a[c])*l+a[c];return p}return(o-a)*l+a}function nearestKey(e){var r,i=data.k.length,n,a;if(!data.k.length||typeof data.k[0]=="number")n=0,a=0;else if(n=-1,e*=elem.comp.globalData.frameRate,e<data.k[0].t)n=1,a=data.k[0].t;else{for(r=0;r<i-1;r+=1)if(e===data.k[r].t){n=r+1,a=data.k[r].t;break}else if(e>data.k[r].t&&e<data.k[r+1].t){e-data.k[r].t>data.k[r+1].t-e?(n=r+2,a=data.k[r+1].t):(n=r+1,a=data.k[r].t);break}n===-1&&(n=r+1,a=data.k[r].t)}var o={};return o.index=n,o.time=a/elem.comp.globalData.frameRate,o}function key(e){var r,i,n;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+e);e-=1,r={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var a=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(n=a.length,i=0;i<n;i+=1)r[i]=a[i],r.value[i]=a[i];return r}function framesToTime(e,r){return r||(r=elem.comp.globalData.frameRate),e/r}function timeToFrames(e,r){return!e&&e!==0&&(e=time),r||(r=elem.comp.globalData.frameRate),e*r}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,r){return typeof value=="string"?r===void 0?value.substring(e):value.substring(e,r):""}function substr(e,r){return typeof value=="string"?r===void 0?value.substr(e):value.substr(e,r):""}function posterizeTime(e){time=e===0?0:Math.floor(time*e)/e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={};e.initExpressions=r,e.resetFrame=ExpressionManager.resetFrame;function r(i){var n=0,a=[];function o(){n+=1}function l(){n-=1,n===0&&d()}function c(p){a.indexOf(p)===-1&&a.push(p)}function d(){var p,g=a.length;for(p=0;p<g;p+=1)a[p].release();a.length=0}i.renderer.compInterface=CompExpressionInterface(i.renderer),i.renderer.globalData.projectInterface.registerComposition(i.renderer),i.renderer.globalData.pushExpression=o,i.renderer.globalData.popExpression=l,i.renderer.globalData.registerExpressionProperty=c}return e}(),MaskManagerInterface=function(){function e(i,n){this._mask=i,this._data=n}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var r=function(n){var a=createSizedArray(n.viewData.length),o,l=n.viewData.length;for(o=0;o<l;o+=1)a[o]=new e(n.viewData[o],n.masksProperties[o]);var c=function(p){for(o=0;o<l;){if(n.masksProperties[o].nm===p)return a[o];o+=1}return null};return c};return r}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},r={pv:[0,0,0],v:[0,0,0],mult:1};function i(l,c,d){Object.defineProperty(l,"velocity",{get:function(){return c.getVelocityAtTime(c.comp.currentFrame)}}),l.numKeys=c.keyframes?c.keyframes.length:0,l.key=function(p){if(!l.numKeys)return 0;var g="";"s"in c.keyframes[p-1]?g=c.keyframes[p-1].s:"e"in c.keyframes[p-2]?g=c.keyframes[p-2].e:g=c.keyframes[p-2].s;var y=d==="unidimensional"?new Number(g):Object.assign({},g);return y.time=c.keyframes[p-1].t/c.elem.comp.globalData.frameRate,y.value=d==="unidimensional"?g[0]:g,y},l.valueAtTime=c.getValueAtTime,l.speedAtTime=c.getSpeedAtTime,l.velocityAtTime=c.getVelocityAtTime,l.propertyGroup=c.propertyGroup}function n(l){(!l||!("pv"in l))&&(l=e);var c=1/l.mult,d=l.pv*c,p=new Number(d);return p.value=d,i(p,l,"unidimensional"),function(){return l.k&&l.getValue(),d=l.v*c,p.value!==d&&(p=new Number(d),p.value=d,p[0]=d,i(p,l,"unidimensional")),p}}function a(l){(!l||!("pv"in l))&&(l=r);var c=1/l.mult,d=l.data&&l.data.l||l.pv.length,p=createTypedArray("float32",d),g=createTypedArray("float32",d);return p.value=g,i(p,l,"multidimensional"),function(){l.k&&l.getValue();for(var y=0;y<d;y+=1)g[y]=l.v[y]*c,p[y]=g[y];return p}}function o(){return e}return function(l){return l?l.propType==="unidimensional"?n(l):a(l):o}}(),TransformExpressionInterface=function(){return function(e){function r(l){switch(l){case"scale":case"Scale":case"ADBE Scale":case 6:return r.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return r.rotation;case"ADBE Rotate X":return r.xRotation;case"ADBE Rotate Y":return r.yRotation;case"position":case"Position":case"ADBE Position":case 2:return r.position;case"ADBE Position_0":return r.xPosition;case"ADBE Position_1":return r.yPosition;case"ADBE Position_2":return r.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return r.anchorPoint;case"opacity":case"Opacity":case 11:return r.opacity;default:return null}}Object.defineProperty(r,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(r,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(r,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(r,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(r,"scale",{get:ExpressionPropertyInterface(e.s)});var i,n,a,o;return e.p?o=ExpressionPropertyInterface(e.p):(i=ExpressionPropertyInterface(e.px),n=ExpressionPropertyInterface(e.py),e.pz&&(a=ExpressionPropertyInterface(e.pz))),Object.defineProperty(r,"position",{get:function(){return e.p?o():[i(),n(),a?a():0]}}),Object.defineProperty(r,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(r,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(r,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(r,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(r,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(r,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(r,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(r,"orientation",{get:ExpressionPropertyInterface(e.or)}),r}}(),LayerExpressionInterface=function(){function e(p){var g=new Matrix;if(p!==void 0){var y=this._elem.finalTransform.mProp.getValueAtTime(p);y.clone(g)}else{var x=this._elem.finalTransform.mProp;x.applyToMatrix(g)}return g}function r(p,g){var y=this.getMatrix(g);return y.props[12]=0,y.props[13]=0,y.props[14]=0,this.applyPoint(y,p)}function i(p,g){var y=this.getMatrix(g);return this.applyPoint(y,p)}function n(p,g){var y=this.getMatrix(g);return y.props[12]=0,y.props[13]=0,y.props[14]=0,this.invertPoint(y,p)}function a(p,g){var y=this.getMatrix(g);return this.invertPoint(y,p)}function o(p,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var y,x=this._elem.hierarchy.length;for(y=0;y<x;y+=1)this._elem.hierarchy[y].finalTransform.mProp.applyToMatrix(p)}return p.applyToPointArray(g[0],g[1],g[2]||0)}function l(p,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var y,x=this._elem.hierarchy.length;for(y=0;y<x;y+=1)this._elem.hierarchy[y].finalTransform.mProp.applyToMatrix(p)}return p.inversePoint(g)}function c(p){var g=new Matrix;if(g.reset(),this._elem.finalTransform.mProp.applyToMatrix(g),this._elem.hierarchy&&this._elem.hierarchy.length){var y,x=this._elem.hierarchy.length;for(y=0;y<x;y+=1)this._elem.hierarchy[y].finalTransform.mProp.applyToMatrix(g);return g.inversePoint(p)}return g.inversePoint(p)}function d(){return[1,1,1,1]}return function(p){var g;function y(T){S.mask=new MaskManagerInterface(T,p)}function x(T){S.effect=T}function S(T){switch(T){case"ADBE Root Vectors Group":case"Contents":case 2:return S.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return g;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return S.effect;case"ADBE Text Properties":return S.textInterface;default:return null}}S.getMatrix=e,S.invertPoint=l,S.applyPoint=o,S.toWorld=i,S.toWorldVec=r,S.fromWorld=a,S.fromWorldVec=n,S.toComp=i,S.fromComp=c,S.sampleImage=d,S.sourceRectAtTime=p.sourceRectAtTime.bind(p),S._elem=p,g=TransformExpressionInterface(p.finalTransform.mProp);var b=getDescriptor(g,"anchorPoint");return Object.defineProperties(S,{hasParent:{get:function(){return p.hierarchy.length}},parent:{get:function(){return p.hierarchy[0].layerInterface}},rotation:getDescriptor(g,"rotation"),scale:getDescriptor(g,"scale"),position:getDescriptor(g,"position"),opacity:getDescriptor(g,"opacity"),anchorPoint:b,anchor_point:b,transform:{get:function(){return g}},active:{get:function(){return p.isInRange}}}),S.startTime=p.data.st,S.index=p.data.ind,S.source=p.data.refId,S.height=p.data.ty===0?p.data.h:100,S.width=p.data.ty===0?p.data.w:100,S.inPoint=p.data.ip/p.comp.globalData.frameRate,S.outPoint=p.data.op/p.comp.globalData.frameRate,S._name=p.data.nm,S.registerMaskInterface=y,S.registerEffectsInterface=x,S}}(),propertyGroupFactory=function(){return function(e,r){return function(i){return i=i===void 0?1:i,i<=0?e:r(i-1)}}}(),PropertyInterface=function(){return function(e,r){var i={_name:e};function n(a){return a=a===void 0?1:a,a<=0?i:r(a-1)}return n}}(),EffectsExpressionInterface=function(){var e={createEffectsInterface:r};function r(a,o){if(a.effectsManager){var l=[],c=a.data.ef,d,p=a.effectsManager.effectElements.length;for(d=0;d<p;d+=1)l.push(i(c[d],a.effectsManager.effectElements[d],o,a));var g=a.data.ef||[],y=function(S){for(d=0,p=g.length;d<p;){if(S===g[d].nm||S===g[d].mn||S===g[d].ix)return l[d];d+=1}return null};return Object.defineProperty(y,"numProperties",{get:function(){return g.length}}),y}return null}function i(a,o,l,c){function d(S){for(var b=a.ef,T=0,N=b.length;T<N;){if(S===b[T].nm||S===b[T].mn||S===b[T].ix)return b[T].ty===5?g[T]:g[T]();T+=1}throw new Error}var p=propertyGroupFactory(d,l),g=[],y,x=a.ef.length;for(y=0;y<x;y+=1)a.ef[y].ty===5?g.push(i(a.ef[y],o.effectElements[y],o.effectElements[y].propertyGroup,c)):g.push(n(o.effectElements[y],a.ef[y].ty,c,p));return a.mn==="ADBE Color Control"&&Object.defineProperty(d,"color",{get:function(){return g[0]()}}),Object.defineProperties(d,{numProperties:{get:function(){return a.np}},_name:{value:a.nm},propertyGroup:{value:p}}),d.enabled=a.en!==0,d.active=d.enabled,d}function n(a,o,l,c){var d=ExpressionPropertyInterface(a.p);function p(){return o===10?l.comp.compInterface(a.p.v):d()}return a.p.setGroupProperty&&a.p.setGroupProperty(PropertyInterface("",c)),p}return e}(),ShapePathInterface=function(){return function(r,i,n){var a=i.sh;function o(c){return c==="Shape"||c==="shape"||c==="Path"||c==="path"||c==="ADBE Vector Shape"||c===2?o.path:null}var l=propertyGroupFactory(o,n);return a.setGroupProperty(PropertyInterface("Path",l)),Object.defineProperties(o,{path:{get:function(){return a.k&&a.getValue(),a}},shape:{get:function(){return a.k&&a.getValue(),a}},_name:{value:r.nm},ix:{value:r.ix},propertyIndex:{value:r.ix},mn:{value:r.mn},propertyGroup:{value:n}}),o}}(),ShapeExpressionInterface=function(){function e(b,T,N){var k=[],C,A=b?b.length:0;for(C=0;C<A;C+=1)b[C].ty==="gr"?k.push(i(b[C],T[C],N)):b[C].ty==="fl"?k.push(n(b[C],T[C],N)):b[C].ty==="st"?k.push(l(b[C],T[C],N)):b[C].ty==="tm"?k.push(c(b[C],T[C],N)):b[C].ty==="tr"||(b[C].ty==="el"?k.push(p(b[C],T[C],N)):b[C].ty==="sr"?k.push(g(b[C],T[C],N)):b[C].ty==="sh"?k.push(ShapePathInterface(b[C],T[C],N)):b[C].ty==="rc"?k.push(y(b[C],T[C],N)):b[C].ty==="rd"?k.push(x(b[C],T[C],N)):b[C].ty==="rp"?k.push(S(b[C],T[C],N)):b[C].ty==="gf"?k.push(a(b[C],T[C],N)):k.push(o(b[C],T[C])));return k}function r(b,T,N){var k,C=function(I){for(var F=0,z=k.length;F<z;){if(k[F]._name===I||k[F].mn===I||k[F].propertyIndex===I||k[F].ix===I||k[F].ind===I)return k[F];F+=1}return typeof I=="number"?k[I-1]:null};C.propertyGroup=propertyGroupFactory(C,N),k=e(b.it,T.it,C.propertyGroup),C.numProperties=k.length;var A=d(b.it[b.it.length-1],T.it[T.it.length-1],C.propertyGroup);return C.transform=A,C.propertyIndex=b.cix,C._name=b.nm,C}function i(b,T,N){var k=function(I){switch(I){case"ADBE Vectors Group":case"Contents":case 2:return k.content;default:return k.transform}};k.propertyGroup=propertyGroupFactory(k,N);var C=r(b,T,k.propertyGroup),A=d(b.it[b.it.length-1],T.it[T.it.length-1],k.propertyGroup);return k.content=C,k.transform=A,Object.defineProperty(k,"_name",{get:function(){return b.nm}}),k.numProperties=b.np,k.propertyIndex=b.ix,k.nm=b.nm,k.mn=b.mn,k}function n(b,T,N){function k(C){return C==="Color"||C==="color"?k.color:C==="Opacity"||C==="opacity"?k.opacity:null}return Object.defineProperties(k,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},_name:{value:b.nm},mn:{value:b.mn}}),T.c.setGroupProperty(PropertyInterface("Color",N)),T.o.setGroupProperty(PropertyInterface("Opacity",N)),k}function a(b,T,N){function k(C){return C==="Start Point"||C==="start point"?k.startPoint:C==="End Point"||C==="end point"?k.endPoint:C==="Opacity"||C==="opacity"?k.opacity:null}return Object.defineProperties(k,{startPoint:{get:ExpressionPropertyInterface(T.s)},endPoint:{get:ExpressionPropertyInterface(T.e)},opacity:{get:ExpressionPropertyInterface(T.o)},type:{get:function(){return"a"}},_name:{value:b.nm},mn:{value:b.mn}}),T.s.setGroupProperty(PropertyInterface("Start Point",N)),T.e.setGroupProperty(PropertyInterface("End Point",N)),T.o.setGroupProperty(PropertyInterface("Opacity",N)),k}function o(){function b(){return null}return b}function l(b,T,N){var k=propertyGroupFactory(z,N),C=propertyGroupFactory(F,k);function A(B){Object.defineProperty(F,b.d[B].nm,{get:ExpressionPropertyInterface(T.d.dataProps[B].p)})}var R,I=b.d?b.d.length:0,F={};for(R=0;R<I;R+=1)A(R),T.d.dataProps[R].p.setGroupProperty(C);function z(B){return B==="Color"||B==="color"?z.color:B==="Opacity"||B==="opacity"?z.opacity:B==="Stroke Width"||B==="stroke width"?z.strokeWidth:null}return Object.defineProperties(z,{color:{get:ExpressionPropertyInterface(T.c)},opacity:{get:ExpressionPropertyInterface(T.o)},strokeWidth:{get:ExpressionPropertyInterface(T.w)},dash:{get:function(){return F}},_name:{value:b.nm},mn:{value:b.mn}}),T.c.setGroupProperty(PropertyInterface("Color",k)),T.o.setGroupProperty(PropertyInterface("Opacity",k)),T.w.setGroupProperty(PropertyInterface("Stroke Width",k)),z}function c(b,T,N){function k(A){return A===b.e.ix||A==="End"||A==="end"?k.end:A===b.s.ix?k.start:A===b.o.ix?k.offset:null}var C=propertyGroupFactory(k,N);return k.propertyIndex=b.ix,T.s.setGroupProperty(PropertyInterface("Start",C)),T.e.setGroupProperty(PropertyInterface("End",C)),T.o.setGroupProperty(PropertyInterface("Offset",C)),k.propertyIndex=b.ix,k.propertyGroup=N,Object.defineProperties(k,{start:{get:ExpressionPropertyInterface(T.s)},end:{get:ExpressionPropertyInterface(T.e)},offset:{get:ExpressionPropertyInterface(T.o)},_name:{value:b.nm}}),k.mn=b.mn,k}function d(b,T,N){function k(A){return b.a.ix===A||A==="Anchor Point"?k.anchorPoint:b.o.ix===A||A==="Opacity"?k.opacity:b.p.ix===A||A==="Position"?k.position:b.r.ix===A||A==="Rotation"||A==="ADBE Vector Rotation"?k.rotation:b.s.ix===A||A==="Scale"?k.scale:b.sk&&b.sk.ix===A||A==="Skew"?k.skew:b.sa&&b.sa.ix===A||A==="Skew Axis"?k.skewAxis:null}var C=propertyGroupFactory(k,N);return T.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",C)),T.transform.mProps.p.setGroupProperty(PropertyInterface("Position",C)),T.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",C)),T.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",C)),T.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",C)),T.transform.mProps.sk&&(T.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",C)),T.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",C))),T.transform.op.setGroupProperty(PropertyInterface("Opacity",C)),Object.defineProperties(k,{opacity:{get:ExpressionPropertyInterface(T.transform.mProps.o)},position:{get:ExpressionPropertyInterface(T.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(T.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(T.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(T.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(T.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(T.transform.mProps.sa)},_name:{value:b.nm}}),k.ty="tr",k.mn=b.mn,k.propertyGroup=N,k}function p(b,T,N){function k(R){return b.p.ix===R?k.position:b.s.ix===R?k.size:null}var C=propertyGroupFactory(k,N);k.propertyIndex=b.ix;var A=T.sh.ty==="tm"?T.sh.prop:T.sh;return A.s.setGroupProperty(PropertyInterface("Size",C)),A.p.setGroupProperty(PropertyInterface("Position",C)),Object.defineProperties(k,{size:{get:ExpressionPropertyInterface(A.s)},position:{get:ExpressionPropertyInterface(A.p)},_name:{value:b.nm}}),k.mn=b.mn,k}function g(b,T,N){function k(R){return b.p.ix===R?k.position:b.r.ix===R?k.rotation:b.pt.ix===R?k.points:b.or.ix===R||R==="ADBE Vector Star Outer Radius"?k.outerRadius:b.os.ix===R?k.outerRoundness:b.ir&&(b.ir.ix===R||R==="ADBE Vector Star Inner Radius")?k.innerRadius:b.is&&b.is.ix===R?k.innerRoundness:null}var C=propertyGroupFactory(k,N),A=T.sh.ty==="tm"?T.sh.prop:T.sh;return k.propertyIndex=b.ix,A.or.setGroupProperty(PropertyInterface("Outer Radius",C)),A.os.setGroupProperty(PropertyInterface("Outer Roundness",C)),A.pt.setGroupProperty(PropertyInterface("Points",C)),A.p.setGroupProperty(PropertyInterface("Position",C)),A.r.setGroupProperty(PropertyInterface("Rotation",C)),b.ir&&(A.ir.setGroupProperty(PropertyInterface("Inner Radius",C)),A.is.setGroupProperty(PropertyInterface("Inner Roundness",C))),Object.defineProperties(k,{position:{get:ExpressionPropertyInterface(A.p)},rotation:{get:ExpressionPropertyInterface(A.r)},points:{get:ExpressionPropertyInterface(A.pt)},outerRadius:{get:ExpressionPropertyInterface(A.or)},outerRoundness:{get:ExpressionPropertyInterface(A.os)},innerRadius:{get:ExpressionPropertyInterface(A.ir)},innerRoundness:{get:ExpressionPropertyInterface(A.is)},_name:{value:b.nm}}),k.mn=b.mn,k}function y(b,T,N){function k(R){return b.p.ix===R?k.position:b.r.ix===R?k.roundness:b.s.ix===R||R==="Size"||R==="ADBE Vector Rect Size"?k.size:null}var C=propertyGroupFactory(k,N),A=T.sh.ty==="tm"?T.sh.prop:T.sh;return k.propertyIndex=b.ix,A.p.setGroupProperty(PropertyInterface("Position",C)),A.s.setGroupProperty(PropertyInterface("Size",C)),A.r.setGroupProperty(PropertyInterface("Rotation",C)),Object.defineProperties(k,{position:{get:ExpressionPropertyInterface(A.p)},roundness:{get:ExpressionPropertyInterface(A.r)},size:{get:ExpressionPropertyInterface(A.s)},_name:{value:b.nm}}),k.mn=b.mn,k}function x(b,T,N){function k(R){return b.r.ix===R||R==="Round Corners 1"?k.radius:null}var C=propertyGroupFactory(k,N),A=T;return k.propertyIndex=b.ix,A.rd.setGroupProperty(PropertyInterface("Radius",C)),Object.defineProperties(k,{radius:{get:ExpressionPropertyInterface(A.rd)},_name:{value:b.nm}}),k.mn=b.mn,k}function S(b,T,N){function k(R){return b.c.ix===R||R==="Copies"?k.copies:b.o.ix===R||R==="Offset"?k.offset:null}var C=propertyGroupFactory(k,N),A=T;return k.propertyIndex=b.ix,A.c.setGroupProperty(PropertyInterface("Copies",C)),A.o.setGroupProperty(PropertyInterface("Offset",C)),Object.defineProperties(k,{copies:{get:ExpressionPropertyInterface(A.c)},offset:{get:ExpressionPropertyInterface(A.o)},_name:{value:b.nm}}),k.mn=b.mn,k}return function(b,T,N){var k;function C(R){if(typeof R=="number")return R=R===void 0?1:R,R===0?N:k[R-1];for(var I=0,F=k.length;I<F;){if(k[I]._name===R)return k[I];I+=1}return null}function A(){return N}return C.propertyGroup=propertyGroupFactory(C,A),k=e(b,T,C.propertyGroup),C.numProperties=k.length,C._name="Contents",C}}(),TextExpressionInterface=function(){return function(e){var r;function i(n){switch(n){case"ADBE Text Document":return i.sourceText;default:return null}}return Object.defineProperty(i,"sourceText",{get:function(){e.textProperty.getValue();var a=e.textProperty.currentData.t;return(!r||a!==r.value)&&(r=new String(a),r.value=a||new String(a),Object.defineProperty(r,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),r}}),i}}();function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_typeof(e)}var FootageInterface=function(){var e=function(n){var a="",o=n.getFootageData();function l(){return a="",o=n.getFootageData(),c}function c(d){if(o[d])return a=d,o=o[d],_typeof(o)==="object"?c:o;var p=d.indexOf(a);if(p!==-1){var g=parseInt(d.substr(p+a.length),10);return o=o[g],_typeof(o)==="object"?c:o}return""}return l},r=function(n){function a(o){return o==="Outline"?a.outlineInterface():null}return a._name="Outline",a.outlineInterface=e(n),a};return function(i){function n(a){return a==="Data"?n.dataInterface:null}return n._name="Data",n.dataInterface=r(i),n}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers=function(){function e(l,c,d){c.x&&(d.k=!0,d.x=!0,d.initiateExpression=ExpressionManager.initiateExpression,d.effectsSequence.push(d.initiateExpression(l,c,d).bind(d)))}function r(l){return l*=this.elem.globalData.frameRate,l-=this.offsetTime,l!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<l?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(l,this._cachingAtTime),this._cachingAtTime.lastFrame=l),this._cachingAtTime.value}function i(l){var c=-.01,d=this.getValueAtTime(l),p=this.getValueAtTime(l+c),g=0;if(d.length){var y;for(y=0;y<d.length;y+=1)g+=Math.pow(p[y]-d[y],2);g=Math.sqrt(g)*100}else g=0;return g}function n(l){if(this.vel!==void 0)return this.vel;var c=-.001,d=this.getValueAtTime(l),p=this.getValueAtTime(l+c),g;if(d.length){g=createTypedArray("float32",d.length);var y;for(y=0;y<d.length;y+=1)g[y]=(p[y]-d[y])/c}else g=(p-d)/c;return g}function a(){return this.pv}function o(l){this.propertyGroup=l}return{searchExpressions:e,getSpeedAtTime:i,getVelocityAtTime:n,getValueAtTime:r,getStaticValueAtTime:a,setGroupProperty:o}}();function addPropertyDecorator(){function e(x,S,b){if(!this.k||!this.keyframes)return this.pv;x=x?x.toLowerCase():"";var T=this.comp.renderedFrame,N=this.keyframes,k=N[N.length-1].t;if(T<=k)return this.pv;var C,A;b?(S?C=Math.abs(k-this.elem.comp.globalData.frameRate*S):C=Math.max(0,k-this.elem.data.ip),A=k-C):((!S||S>N.length-1)&&(S=N.length-1),A=N[N.length-1-S].t,C=k-A);var R,I,F;if(x==="pingpong"){var z=Math.floor((T-A)/C);if(z%2!==0)return this.getValueAtTime((C-(T-A)%C+A)/this.comp.globalData.frameRate,0)}else if(x==="offset"){var B=this.getValueAtTime(A/this.comp.globalData.frameRate,0),Z=this.getValueAtTime(k/this.comp.globalData.frameRate,0),re=this.getValueAtTime(((T-A)%C+A)/this.comp.globalData.frameRate,0),U=Math.floor((T-A)/C);if(this.pv.length){for(F=new Array(B.length),I=F.length,R=0;R<I;R+=1)F[R]=(Z[R]-B[R])*U+re[R];return F}return(Z-B)*U+re}else if(x==="continue"){var q=this.getValueAtTime(k/this.comp.globalData.frameRate,0),Y=this.getValueAtTime((k-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(F=new Array(q.length),I=F.length,R=0;R<I;R+=1)F[R]=q[R]+(q[R]-Y[R])*((T-k)/this.comp.globalData.frameRate)/5e-4;return F}return q+(q-Y)*((T-k)/.001)}return this.getValueAtTime(((T-A)%C+A)/this.comp.globalData.frameRate,0)}function r(x,S,b){if(!this.k)return this.pv;x=x?x.toLowerCase():"";var T=this.comp.renderedFrame,N=this.keyframes,k=N[0].t;if(T>=k)return this.pv;var C,A;b?(S?C=Math.abs(this.elem.comp.globalData.frameRate*S):C=Math.max(0,this.elem.data.op-k),A=k+C):((!S||S>N.length-1)&&(S=N.length-1),A=N[S].t,C=A-k);var R,I,F;if(x==="pingpong"){var z=Math.floor((k-T)/C);if(z%2===0)return this.getValueAtTime(((k-T)%C+k)/this.comp.globalData.frameRate,0)}else if(x==="offset"){var B=this.getValueAtTime(k/this.comp.globalData.frameRate,0),Z=this.getValueAtTime(A/this.comp.globalData.frameRate,0),re=this.getValueAtTime((C-(k-T)%C+k)/this.comp.globalData.frameRate,0),U=Math.floor((k-T)/C)+1;if(this.pv.length){for(F=new Array(B.length),I=F.length,R=0;R<I;R+=1)F[R]=re[R]-(Z[R]-B[R])*U;return F}return re-(Z-B)*U}else if(x==="continue"){var q=this.getValueAtTime(k/this.comp.globalData.frameRate,0),Y=this.getValueAtTime((k+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(F=new Array(q.length),I=F.length,R=0;R<I;R+=1)F[R]=q[R]+(q[R]-Y[R])*(k-T)/.001;return F}return q+(q-Y)*(k-T)/.001}return this.getValueAtTime((C-((k-T)%C+k))/this.comp.globalData.frameRate,0)}function i(x,S){if(!this.k)return this.pv;if(x=(x||.4)*.5,S=Math.floor(S||5),S<=1)return this.pv;var b=this.comp.renderedFrame/this.comp.globalData.frameRate,T=b-x,N=b+x,k=S>1?(N-T)/(S-1):1,C=0,A=0,R;this.pv.length?R=createTypedArray("float32",this.pv.length):R=0;for(var I;C<S;){if(I=this.getValueAtTime(T+C*k),this.pv.length)for(A=0;A<this.pv.length;A+=1)R[A]+=I[A];else R+=I;C+=1}if(this.pv.length)for(A=0;A<this.pv.length;A+=1)R[A]/=S;else R/=S;return R}function n(x){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var S=this._transformCachingAtTime.v;if(S.cloneFromProps(this.pre.props),this.appliedTransformations<1){var b=this.a.getValueAtTime(x);S.translate(-b[0]*this.a.mult,-b[1]*this.a.mult,b[2]*this.a.mult)}if(this.appliedTransformations<2){var T=this.s.getValueAtTime(x);S.scale(T[0]*this.s.mult,T[1]*this.s.mult,T[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var N=this.sk.getValueAtTime(x),k=this.sa.getValueAtTime(x);S.skewFromAxis(-N*this.sk.mult,k*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var C=this.r.getValueAtTime(x);S.rotate(-C*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var A=this.rz.getValueAtTime(x),R=this.ry.getValueAtTime(x),I=this.rx.getValueAtTime(x),F=this.or.getValueAtTime(x);S.rotateZ(-A*this.rz.mult).rotateY(R*this.ry.mult).rotateX(I*this.rx.mult).rotateZ(-F[2]*this.or.mult).rotateY(F[1]*this.or.mult).rotateX(F[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var z=this.px.getValueAtTime(x),B=this.py.getValueAtTime(x);if(this.data.p.z){var Z=this.pz.getValueAtTime(x);S.translate(z*this.px.mult,B*this.py.mult,-Z*this.pz.mult)}else S.translate(z*this.px.mult,B*this.py.mult,0)}else{var re=this.p.getValueAtTime(x);S.translate(re[0]*this.p.mult,re[1]*this.p.mult,-re[2]*this.p.mult)}return S}function a(){return this.v.clone(new Matrix)}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(x,S,b){var T=o(x,S,b);return T.dynamicProperties.length?T.getValueAtTime=n.bind(T):T.getValueAtTime=a.bind(T),T.setGroupProperty=expressionHelpers.setGroupProperty,T};var l=PropertyFactory.getProp;PropertyFactory.getProp=function(x,S,b,T,N){var k=l(x,S,b,T,N);k.kf?k.getValueAtTime=expressionHelpers.getValueAtTime.bind(k):k.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(k),k.setGroupProperty=expressionHelpers.setGroupProperty,k.loopOut=e,k.loopIn=r,k.smooth=i,k.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(k),k.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(k),k.numKeys=S.a===1?S.k.length:0,k.propertyIndex=S.ix;var C=0;return b!==0&&(C=createTypedArray("float32",S.a===1?S.k[0].s.length:S.k.length)),k._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:C},expressionHelpers.searchExpressions(x,S,k),k.k&&N.addDynamicProperty(k),k};function c(x){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),x*=this.elem.globalData.frameRate,x-=this.offsetTime,x!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<x?this._caching.lastIndex:0,this._cachingAtTime.lastTime=x,this.interpolateShape(x,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var d=ShapePropertyFactory.getConstructorFunction(),p=ShapePropertyFactory.getKeyframedConstructorFunction();function g(){}g.prototype={vertices:function(S,b){this.k&&this.getValue();var T=this.v;b!==void 0&&(T=this.getValueAtTime(b,0));var N,k=T._length,C=T[S],A=T.v,R=createSizedArray(k);for(N=0;N<k;N+=1)S==="i"||S==="o"?R[N]=[C[N][0]-A[N][0],C[N][1]-A[N][1]]:R[N]=[C[N][0],C[N][1]];return R},points:function(S){return this.vertices("v",S)},inTangents:function(S){return this.vertices("i",S)},outTangents:function(S){return this.vertices("o",S)},isClosed:function(){return this.v.c},pointOnPath:function(S,b){var T=this.v;b!==void 0&&(T=this.getValueAtTime(b,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(T));for(var N=this._segmentsLength,k=N.lengths,C=N.totalLength*S,A=0,R=k.length,I=0,F;A<R;){if(I+k[A].addedLength>C){var z=A,B=T.c&&A===R-1?0:A+1,Z=(C-I)/k[A].addedLength;F=bez.getPointInSegment(T.v[z],T.v[B],T.o[z],T.i[B],Z,k[A]);break}else I+=k[A].addedLength;A+=1}return F||(F=T.c?[T.v[0][0],T.v[0][1]]:[T.v[T._length-1][0],T.v[T._length-1][1]]),F},vectorOnPath:function(S,b,T){S==1?S=this.v.c:S==0&&(S=.999);var N=this.pointOnPath(S,b),k=this.pointOnPath(S+.001,b),C=k[0]-N[0],A=k[1]-N[1],R=Math.sqrt(Math.pow(C,2)+Math.pow(A,2));if(R===0)return[0,0];var I=T==="tangent"?[C/R,A/R]:[-A/R,C/R];return I},tangentOnPath:function(S,b){return this.vectorOnPath(S,b,"tangent")},normalOnPath:function(S,b){return this.vectorOnPath(S,b,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([g],d),extendPrototype([g],p),p.prototype.getValueAtTime=c,p.prototype.initiateExpression=ExpressionManager.initiateExpression;var y=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(x,S,b,T,N){var k=y(x,S,b,T,N);return k.propertyIndex=S.ix,k.lock=!1,b===3?expressionHelpers.searchExpressions(x,S.pt,k):b===4&&expressionHelpers.searchExpressions(x,S.ks,k),k.k&&x.addDynamicProperty(k),k}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function e(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(r,i){var n=this.calculateExpression(i);if(r.t!==n){var a={};return this.copyData(a,r),a.t=n.toString(),a.__complete=!1,a}return r},TextProperty.prototype.searchProperty=function(){var r=this.searchKeyframes(),i=this.searchExpressions();return this.kf=r||i,this.kf},TextProperty.prototype.searchExpressions=e}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function e(r,i){var n=createNS("feMerge");n.setAttribute("result",r);var a,o;for(o=0;o<i.length;o+=1)a=createNS("feMergeNode"),a.setAttribute("in",i[o]),n.appendChild(a),n.appendChild(a);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,r,i,n,a){this.filterManager=r;var o=createNS("feColorMatrix");o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","linearRGB"),o.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=o,o.setAttribute("result",n+"_tint_1"),e.appendChild(o),o=createNS("feColorMatrix"),o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),o.setAttribute("result",n+"_tint_2"),e.appendChild(o),this.matrixFilter=o;var l=this.createMergeNode(n,[a,n+"_tint_1",n+"_tint_2"]);e.appendChild(l)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var r=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+n+" 0"),this.matrixFilter.setAttribute("values",i[0]-r[0]+" 0 0 0 "+r[0]+" "+(i[1]-r[1])+" 0 0 0 "+r[1]+" "+(i[2]-r[2])+" 0 0 0 "+r[2]+" 0 0 0 1 0")}};function SVGFillFilter(e,r,i,n){this.filterManager=r;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",n),e.appendChild(a),this.matrixFilter=a}SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var r=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+r[0]+" 0 0 0 0 "+r[1]+" 0 0 0 0 "+r[2]+" 0 0 0 "+i+" 0")}};function SVGStrokeEffect(e,r,i){this.initialized=!1,this.filterManager=r,this.elem=i,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var e=this.elem.layerElement.children||this.elem.layerElement.childNodes,r,i,n,a;for(this.filterManager.effectElements[1].p.v===1?(a=this.elem.maskManager.masksProperties.length,n=0):(n=this.filterManager.effectElements[0].p.v-1,a=n+1),i=createNS("g"),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-dashoffset",1),n;n<a;n+=1)r=createNS("path"),i.appendChild(r),this.paths.push({p:r,m:n});if(this.filterManager.effectElements[10].p.v===3){var o=createNS("mask"),l=createElementID();o.setAttribute("id",l),o.setAttribute("mask-type","alpha"),o.appendChild(i),this.elem.globalData.defs.appendChild(o);var c=createNS("g");for(c.setAttribute("mask","url("+getLocationHref()+"#"+l+")");e[0];)c.appendChild(e[0]);this.elem.layerElement.appendChild(c),this.masker=o,i.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(e=this.elem.layerElement.children||this.elem.layerElement.childNodes;e.length;)this.elem.layerElement.removeChild(e[0]);this.elem.layerElement.appendChild(i),this.elem.layerElement.removeAttribute("mask"),i.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=i},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var r,i=this.paths.length,n,a;for(r=0;r<i;r+=1)if(this.paths[r].m!==-1&&(n=this.elem.maskManager.viewData[this.paths[r].m],a=this.paths[r].p,(e||this.filterManager._mdf||n.prop._mdf)&&a.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var o;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var l=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,c=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,d=a.getTotalLength();o="0 0 0 "+d*l+" ";var p=d*(c-l),g=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,y=Math.floor(p/g),x;for(x=0;x<y;x+=1)o+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";o+="0 "+d*10+" 0 0"}else o="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;a.setAttribute("stroke-dasharray",o)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(e||this.filterManager.effectElements[3].p._mdf)){var S=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(S[0]*255)+","+bmFloor(S[1]*255)+","+bmFloor(S[2]*255)+")")}};function SVGTritoneFilter(e,r,i,n){this.filterManager=r;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(a);var o=createNS("feComponentTransfer");o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",n),this.matrixFilter=o;var l=createNS("feFuncR");l.setAttribute("type","table"),o.appendChild(l),this.feFuncR=l;var c=createNS("feFuncG");c.setAttribute("type","table"),o.appendChild(c),this.feFuncG=c;var d=createNS("feFuncB");d.setAttribute("type","table"),o.appendChild(d),this.feFuncB=d,e.appendChild(o)}SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var r=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,a=n[0]+" "+i[0]+" "+r[0],o=n[1]+" "+i[1]+" "+r[1],l=n[2]+" "+i[2]+" "+r[2];this.feFuncR.setAttribute("tableValues",a),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",l)}};function SVGProLevelsFilter(e,r,i,n){this.filterManager=r;var a=this.filterManager.effectElements,o=createNS("feComponentTransfer");(a[10].p.k||a[10].p.v!==0||a[11].p.k||a[11].p.v!==1||a[12].p.k||a[12].p.v!==1||a[13].p.k||a[13].p.v!==0||a[14].p.k||a[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",o)),(a[17].p.k||a[17].p.v!==0||a[18].p.k||a[18].p.v!==1||a[19].p.k||a[19].p.v!==1||a[20].p.k||a[20].p.v!==0||a[21].p.k||a[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",o)),(a[24].p.k||a[24].p.v!==0||a[25].p.k||a[25].p.v!==1||a[26].p.k||a[26].p.v!==1||a[27].p.k||a[27].p.v!==0||a[28].p.k||a[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",o)),(a[31].p.k||a[31].p.v!==0||a[32].p.k||a[32].p.v!==1||a[33].p.k||a[33].p.v!==1||a[34].p.k||a[34].p.v!==0||a[35].p.k||a[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",o)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(o.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(o)),(a[3].p.k||a[3].p.v!==0||a[4].p.k||a[4].p.v!==1||a[5].p.k||a[5].p.v!==1||a[6].p.k||a[6].p.v!==0||a[7].p.k||a[7].p.v!==1)&&(o=createNS("feComponentTransfer"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("result",n),e.appendChild(o),this.feFuncRComposed=this.createFeFunc("feFuncR",o),this.feFuncGComposed=this.createFeFunc("feFuncG",o),this.feFuncBComposed=this.createFeFunc("feFuncB",o))}SVGProLevelsFilter.prototype.createFeFunc=function(e,r){var i=createNS(e);return i.setAttribute("type","table"),r.appendChild(i),i},SVGProLevelsFilter.prototype.getTableValue=function(e,r,i,n,a){for(var o=0,l=256,c,d=Math.min(e,r),p=Math.max(e,r),g=Array.call(null,{length:l}),y,x=0,S=a-n,b=r-e;o<=256;)c=o/256,c<=d?y=b<0?a:n:c>=p?y=b<0?n:a:y=n+S*Math.pow((c-e)/b,1/i),g[x]=y,x+=1,o+=256/(l-1);return g.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var r,i=this.filterManager.effectElements;this.feFuncRComposed&&(e||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(r=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",r),this.feFuncGComposed.setAttribute("tableValues",r),this.feFuncBComposed.setAttribute("tableValues",r)),this.feFuncR&&(e||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(r=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",r)),this.feFuncG&&(e||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(r=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",r)),this.feFuncB&&(e||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(r=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",r)),this.feFuncA&&(e||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(r=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",r))}};function SVGDropShadowEffect(e,r,i,n,a){var o=r.container.globalData.renderConfig.filterSize,l=r.data.fs||o;e.setAttribute("x",l.x||o.x),e.setAttribute("y",l.y||o.y),e.setAttribute("width",l.width||o.width),e.setAttribute("height",l.height||o.height),this.filterManager=r;var c=createNS("feGaussianBlur");c.setAttribute("in","SourceAlpha"),c.setAttribute("result",n+"_drop_shadow_1"),c.setAttribute("stdDeviation","0"),this.feGaussianBlur=c,e.appendChild(c);var d=createNS("feOffset");d.setAttribute("dx","25"),d.setAttribute("dy","0"),d.setAttribute("in",n+"_drop_shadow_1"),d.setAttribute("result",n+"_drop_shadow_2"),this.feOffset=d,e.appendChild(d);var p=createNS("feFlood");p.setAttribute("flood-color","#00ff00"),p.setAttribute("flood-opacity","1"),p.setAttribute("result",n+"_drop_shadow_3"),this.feFlood=p,e.appendChild(p);var g=createNS("feComposite");g.setAttribute("in",n+"_drop_shadow_3"),g.setAttribute("in2",n+"_drop_shadow_2"),g.setAttribute("operator","in"),g.setAttribute("result",n+"_drop_shadow_4"),e.appendChild(g);var y=this.createMergeNode(n,[n+"_drop_shadow_4",a]);e.appendChild(y)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var r=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,a=i*Math.cos(n),o=i*Math.sin(n);this.feOffset.setAttribute("dx",a),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,r,i){this.initialized=!1,this.filterManager=r,this.filterElem=e,this.elem=i,i.matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}SVGMatte3Effect.prototype.findSymbol=function(e){for(var r=0,i=_svgMatteSymbols.length;r<i;){if(_svgMatteSymbols[r]===e)return _svgMatteSymbols[r];r+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,r){var i=e.layerElement.parentNode;if(i){for(var n=i.children,a=0,o=n.length;a<o&&n[a]!==e.layerElement;)a+=1;var l;a<=o-2&&(l=n[a+1]);var c=createNS("use");c.setAttribute("href","#"+r),l?i.insertBefore(c,l):i.appendChild(c)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,r){if(!this.findSymbol(r)){var i=createElementID(),n=createNS("mask");n.setAttribute("id",r.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(r);var a=e.globalData.defs;a.appendChild(n);var o=createNS("symbol");o.setAttribute("id",i),this.replaceInParent(r,i),o.appendChild(r.layerElement),a.appendChild(o);var l=createNS("use");l.setAttribute("href","#"+i),n.appendChild(l),r.data.hd=!1,r.show()}e.setMatte(r.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,r=this.elem.comp.elements,i=0,n=r.length;i<n;)r[i]&&r[i].data.ind===e&&this.setElementAsMask(this.elem,r[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(e,r,i,n){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=r;var a=createNS("feGaussianBlur");a.setAttribute("result",n),e.appendChild(a),this.feGaussianBlur=a}SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var r=.3,i=this.filterManager.effectElements[0].p.v*r,n=this.filterManager.effectElements[1].p.v,a=n==3?0:i,o=n==2?0:i;this.feGaussianBlur.setAttribute("stdDeviation",a+" "+o);var l=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",l)}};function TransformEffect(){}TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var r=this.effectsManager.effectElements,i=r[0].p.v,n=r[1].p.v,a=r[2].p.v===1,o=r[3].p.v,l=a?o:r[4].p.v,c=r[5].p.v,d=r[6].p.v,p=r[7].p.v;this.matrix.reset(),this.matrix.translate(-i[0],-i[1],i[2]),this.matrix.scale(l*.01,o*.01,1),this.matrix.rotate(-p*degToRads),this.matrix.skewFromAxis(-c*degToRads,(d+90)*degToRads),this.matrix.translate(n[0],n[1],0),this._mdf=!0,this.opacity!==r[8].p.v&&(this.opacity=r[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(e,r){this.init(r)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(e){this.init(e)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(e,r){(r==null||r>e.length)&&(r=e.length);for(var i=0,n=Array(r);i<r;i++)n[i]=e[i];return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperty(e,r,i){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i,e}function _iterableToArrayLimit(e,r){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,a,o,l,c=[],d=!0,p=!1;try{if(o=(i=i.call(e)).next,r!==0)for(;!(d=(n=o.call(i)).done)&&(c.push(n.value),c.length!==r);d=!0);}catch(g){p=!0,a=g}finally{try{if(!d&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(p)throw a}}return c}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(e,r){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),i.push.apply(i,n)}return i}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach(function(n){_defineProperty(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function _objectWithoutProperties(e,r){if(e==null)return{};var i,n,a=_objectWithoutPropertiesLoose(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],r.includes(i)||{}.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}function _objectWithoutPropertiesLoose(e,r){if(e==null)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;i[n]=e[n]}return i}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _toPrimitive(e,r){if(typeof e!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return typeof r=="symbol"?r:r+""}function _unsupportedIterableToArray(e,r){if(e){if(typeof e=="string")return _arrayLikeToArray(e,r);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,r):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function e(r,i){var n=r.animationData,a=r.loop,o=r.autoplay,l=r.initialSegment,c=r.onComplete,d=r.onLoopComplete,p=r.onEnterFrame,g=r.onSegmentStart,y=r.onConfigReady,x=r.onDataReady,S=r.onDataFailed,b=r.onLoadedImages,T=r.onDOMLoaded,N=r.onDestroy;r.lottieRef,r.renderer,r.name,r.assetsPath,r.rendererSettings;var k=_objectWithoutProperties(r,_excluded$1),C=reactExports.useState(!1),A=_slicedToArray(C,2),R=A[0],I=A[1],F=reactExports.useRef(),z=reactExports.useRef(null),B=function(){var K;(K=F.current)===null||K===void 0||K.play()},Z=function(){var K;(K=F.current)===null||K===void 0||K.stop()},re=function(){var K;(K=F.current)===null||K===void 0||K.pause()},U=function(K){var Ee;(Ee=F.current)===null||Ee===void 0||Ee.setSpeed(K)},q=function(K,Ee){var Se;(Se=F.current)===null||Se===void 0||Se.goToAndPlay(K,Ee)},Y=function(K,Ee){var Se;(Se=F.current)===null||Se===void 0||Se.goToAndStop(K,Ee)},fe=function(K){var Ee;(Ee=F.current)===null||Ee===void 0||Ee.setDirection(K)},Q=function(K,Ee){var Se;(Se=F.current)===null||Se===void 0||Se.playSegments(K,Ee)},H=function(K){var Ee;(Ee=F.current)===null||Ee===void 0||Ee.setSubframe(K)},G=function(K){var Ee;return(Ee=F.current)===null||Ee===void 0?void 0:Ee.getDuration(K)},_=function(){var K;(K=F.current)===null||K===void 0||K.destroy(),F.current=void 0},O=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ee;if(z.current){(Ee=F.current)===null||Ee===void 0||Ee.destroy();var Se=_objectSpread2(_objectSpread2(_objectSpread2({},r),K),{},{container:z.current});return F.current=lottie.loadAnimation(Se),I(!!F.current),function(){var Ce;(Ce=F.current)===null||Ce===void 0||Ce.destroy(),F.current=void 0}}};reactExports.useEffect(function(){var W=O();return function(){return W?.()}},[n,a]),reactExports.useEffect(function(){F.current&&(F.current.autoplay=!!o)},[o]),reactExports.useEffect(function(){if(F.current){if(!l){F.current.resetSegments(!0);return}!Array.isArray(l)||!l.length||((F.current.currentRawFrame<l[0]||F.current.currentRawFrame>l[1])&&(F.current.currentRawFrame=l[0]),F.current.setSegment(l[0],l[1]))}},[l]),reactExports.useEffect(function(){var W=[{name:"complete",handler:c},{name:"loopComplete",handler:d},{name:"enterFrame",handler:p},{name:"segmentStart",handler:g},{name:"config_ready",handler:y},{name:"data_ready",handler:x},{name:"data_failed",handler:S},{name:"loaded_images",handler:b},{name:"DOMLoaded",handler:T},{name:"destroy",handler:N}],K=W.filter(function(Se){return Se.handler!=null});if(K.length){var Ee=K.map(function(Se){var Ce;return(Ce=F.current)===null||Ce===void 0||Ce.addEventListener(Se.name,Se.handler),function(){var De;(De=F.current)===null||De===void 0||De.removeEventListener(Se.name,Se.handler)}});return function(){Ee.forEach(function(Se){return Se()})}}},[c,d,p,g,y,x,S,b,T,N]);var V=React.createElement("div",_objectSpread2({style:i,ref:z},k));return{View:V,play:B,stop:Z,pause:re,setSpeed:U,goToAndStop:Y,goToAndPlay:q,setDirection:fe,playSegments:Q,setSubframe:H,getDuration:G,destroy:_,animationContainerRef:z,animationLoaded:R,animationItem:F.current}};function getContainerVisibility(e){var r=e.getBoundingClientRect(),i=r.top,n=r.height,a=window.innerHeight-i,o=window.innerHeight+n;return a/o}function getContainerCursorPosition(e,r,i){var n=e.getBoundingClientRect(),a=n.top,o=n.left,l=n.width,c=n.height,d=(r-o)/l,p=(i-a)/c;return{x:d,y:p}}var useInitInteractivity=function e(r){var i=r.wrapperRef,n=r.animationItem,a=r.mode,o=r.actions;reactExports.useEffect(function(){var l=i.current;if(!(!l||!n||!o.length)){n.stop();var c=function(){var g=null,y=function(){var S=getContainerVisibility(l),b=o.find(function(N){var k=N.visibility;return k&&S>=k[0]&&S<=k[1]});if(b){if(b.type==="seek"&&b.visibility&&b.frames.length===2){var T=b.frames[0]+Math.ceil((S-b.visibility[0])/(b.visibility[1]-b.visibility[0])*b.frames[1]);//! goToAndStop must be relative to the start of the current segment
n.goToAndStop(T-n.firstFrame-1,!0)}b.type==="loop"&&(g===null||g!==b.frames||n.isPaused)&&(n.playSegments(b.frames,!0),g=b.frames),b.type==="play"&&n.isPaused&&(n.resetSegments(!0),n.play()),b.type==="stop"&&n.goToAndStop(b.frames[0]-n.firstFrame-1,!0)}};return document.addEventListener("scroll",y),function(){document.removeEventListener("scroll",y)}},d=function(){var g=function(b,T){var N=b,k=T;if(N!==-1&&k!==-1){var C=getContainerCursorPosition(l,N,k);N=C.x,k=C.y}var A=o.find(function(F){var z=F.position;return z&&Array.isArray(z.x)&&Array.isArray(z.y)?N>=z.x[0]&&N<=z.x[1]&&k>=z.y[0]&&k<=z.y[1]:z&&!Number.isNaN(z.x)&&!Number.isNaN(z.y)?N===z.x&&k===z.y:!1});if(A){if(A.type==="seek"&&A.position&&Array.isArray(A.position.x)&&Array.isArray(A.position.y)&&A.frames.length===2){var R=(N-A.position.x[0])/(A.position.x[1]-A.position.x[0]),I=(k-A.position.y[0])/(A.position.y[1]-A.position.y[0]);n.playSegments(A.frames,!0),n.goToAndStop(Math.ceil((R+I)/2*(A.frames[1]-A.frames[0])),!0)}A.type==="loop"&&n.playSegments(A.frames,!0),A.type==="play"&&(n.isPaused&&n.resetSegments(!1),n.playSegments(A.frames)),A.type==="stop"&&n.goToAndStop(A.frames[0],!0)}},y=function(b){g(b.clientX,b.clientY)},x=function(){g(-1,-1)};return l.addEventListener("mousemove",y),l.addEventListener("mouseout",x),function(){l.removeEventListener("mousemove",y),l.removeEventListener("mouseout",x)}};switch(a){case"scroll":return c();case"cursor":return d()}}},[a,n])},useLottieInteractivity=function e(r){var i=r.actions,n=r.mode,a=r.lottieObj,o=a.animationItem,l=a.View,c=a.animationContainerRef;return useInitInteractivity({actions:i,animationItem:o,mode:n,wrapperRef:c}),l},_excluded=["style","interactivity"],Lottie=function e(r){var i,n,a,o=r.style,l=r.interactivity,c=_objectWithoutProperties(r,_excluded),d=useLottie(c,o),p=d.View,g=d.play,y=d.stop,x=d.pause,S=d.setSpeed,b=d.goToAndStop,T=d.goToAndPlay,N=d.setDirection,k=d.playSegments,C=d.setSubframe,A=d.getDuration,R=d.destroy,I=d.animationContainerRef,F=d.animationLoaded,z=d.animationItem;return reactExports.useEffect(function(){r.lottieRef&&(r.lottieRef.current={play:g,stop:y,pause:x,setSpeed:S,goToAndPlay:T,goToAndStop:b,setDirection:N,playSegments:k,setSubframe:C,getDuration:A,destroy:R,animationContainerRef:I,animationLoaded:F,animationItem:z})},[(i=r.lottieRef)===null||i===void 0?void 0:i.current]),useLottieInteractivity({lottieObj:{View:p,play:g,stop:y,pause:x,setSpeed:S,goToAndStop:b,goToAndPlay:T,setDirection:N,playSegments:k,setSubframe:C,getDuration:A,destroy:R,animationContainerRef:I,animationLoaded:F,animationItem:z},actions:(n=l?.actions)!==null&&n!==void 0?n:[],mode:(a=l?.mode)!==null&&a!==void 0?a:"scroll"})};const v="5.9.0",fr=24,ip=0,op=26,w=500,h=690,nm="emoji_u1F525",ddd=0,assets=[{id:"comp_0",nm:"Retime",fr:24,layers:[{ddd:0,ind:1,ty:4,nm:"White Fire ",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:-1,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:20,s:[6]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:36,s:[-4.556]},{t:47,s:[0]}],ix:10},p:{a:0,k:[260,653,0],ix:2,l:2},a:{a:0,k:[-6,224,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:-1,s:[{i:[[9,-7.5],[13.5,-47.5],[-2.5,-16],[10,4],[3.5,13],[0,0],[4,-28.5],[-79,-3],[-3,10],[61,61],[-10,24]],o:[[-45,34.5],[-13.5,47.5],[2.5,16],[-13.073,-5.229],[-3.5,-13],[0,0],[-10.5,62.5],[79,3],[3,-10],[-61,-61],[10,-24]],v:[[19.5,-106.5],[-55,7.5],[-44.5,88],[-61,106.5],[-90,69.5],[-99,68.5],[-114,115],[-1.5,233],[100,161.5],[57,45.5],[31,-102]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:17,s:[{i:[[-3.154,-11.378],[-6.183,-18.203],[-4.762,-26.522],[32.133,-1.525],[20.997,-6.907],[4.415,-24.48],[-.806,-25.412],[-50.18,1.563],[-3.299,9.906],[8.584,34.509],[12.699,22.688]],o:[[4.587,15.991],[8.347,24.577],[4.696,26.157],[-31.879,1.513],[-13.302,4.375],[-4.415,24.48],[1.868,57.228],[79.019,-2.461],[14.978,-44.973],[-18.928,-76.097],[-13.454,-24.037]],v:[[8.873,-132.578],[31.927,-73.481],[48.265,-15.166],[-1.389,28.733],[-80.19,-8.852],[-90.576,47.063],[-111.072,124.256],[-1.5,233],[104.284,154.041],[100.891,32.1],[19.78,-134.049]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:32,s:[{i:[[-3.344,-11.378],[25.128,-.874],[27.867,9.373],[-8.165,36.61],[12.043,-7.218],[14.743,-24.472],[2.957,-60.94],[-83.767,-3],[-2.422,10.167],[4.296,35.308],[13.465,22.688]],o:[[-1.902,38.614],[-14.604,.508],[-31.549,-3.656],[8.063,-26.649],[-47.238,28.065],[-14.131,23.456],[-1.398,60.559],[83.767,3],[7.127,-36.81],[-4.097,-29.754],[-14.266,-24.037]],v:[[56.694,-12.505],[23.174,3.342],[-11.164,43.558],[-15.441,-37.792],[3.109,-91.241],[-86.898,1.47],[-120.944,124.055],[-1.542,233],[110.626,154.041],[116.445,71.381],[95.144,7.392]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:41,s:[{i:[[4.062,-9.051],[18.151,-28.85],[9.647,-5.851],[2.734,17.044],[6.917,4.913],[25.841,-28.517],[6.256,-40.489],[-80.907,-3],[-2.769,10.067],[38.318,50.723],[-.614,23.475]],o:[[-27.761,36.145],[-13.941,28.703],[-11.119,8.137],[-4.619,-13.797],[-12.693,5.896],[-12.327,13.603],[-6.859,61.724],[80.907,3],[4.651,-20.724],[-38.239,-48.502],[.294,-24.015]],v:[[34.378,-68.902],[-23.73,5.837],[-31.166,70.223],[-42.776,48.783],[-38.455,-1.157],[-77.763,55.442],[-121.727,117.397],[-1.517,233],[104.25,158.516],[80.778,55.852],[56.658,-58.243]],c:!0}]},{t:47,s:[{i:[[9,-7.5],[13.5,-47.5],[-2.5,-16],[10,4],[3.5,13],[0,0],[4,-28.5],[-79,-3],[-3,10],[61,61],[-10,24]],o:[[-45,34.5],[-13.5,47.5],[2.5,16],[-13.073,-5.229],[-3.5,-13],[0,0],[-10.5,62.5],[79,3],[3,-10],[-61,-61],[10,-24]],v:[[19.5,-106.5],[-55,7.5],[-44.5,88],[-61,106.5],[-90,69.5],[-99,68.5],[-114,115],[-1.5,233],[100,161.5],[57,45.5],[31,-102]],c:!0}]}],ix:2},nm:"White Path ",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gs",o:{a:0,k:100,ix:9},w:{a:0,k:4,ix:10},g:{p:5,k:{a:0,k:[0,1,.918,.467,.45,1,.949,.62,.899,1,.98,.773,.929,1,.767,.437,1,1,.553,.102],ix:8}},s:{a:0,k:[0,-110.031],ix:4},e:{a:0,k:[-2.312,237.617],ix:5},t:1,lc:1,lj:1,ml:4,ml2:{a:0,k:4,ix:13},bm:0,nm:"White Gradient Stroke ",mn:"ADBE Vector Graphic - G-Stroke",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:5,k:{a:0,k:[0,1,.886,.443,.447,1,.933,.608,.89,1,.98,.773,.921,1,.767,.437,1,1,.553,.102],ix:9}},s:{a:0,k:[0,-110.387],ix:5},e:{a:0,k:[-.496,240.078],ix:6},t:1,nm:"White Gradient Fill ",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"White Fire",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:47,st:-1,bm:0},{ddd:0,ind:2,ty:4,nm:"Mid ",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[254,419,0],ix:2,l:2},a:{a:0,k:[-12,-10,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:10,s:[100,100,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:30,s:[105,86,100]},{t:38,s:[100,100,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.713,y:.6},o:{x:.079,y:.082},t:-1,s:[{i:[[11,0],[-7,-7],[70,-66.5],[2.953,-27.202],[0,0],[0,0],[-3.195,5.272],[-3.97,9.799],[3.201,68.136]],o:[[-11,0],[13,13],[-39.876,37.882],[-2.767,25.495],[0,0],[0,0],[2.94,-4.85],[10.653,-26.295],[-7,-149]],v:[[-55,-308],[-61,-295],[-70,-157],[-125.526,-54.64],[-122.5,-12.5],[66,11],[71.308,3.243],[82.074,-18.614],[101,-158]],c:!0}]},{i:{x:.405,y:.569},o:{x:.351,y:.489},t:10,s:[{i:[[10.732,3.22],[-.774,-7.947],[69.979,-16.759],[2.953,-27.202],[0,0],[0,0],[-3.195,5.272],[-3.97,9.799],[1.483,71.819]],o:[[-10.222,-2.929],[-5.246,27.489],[-69.979,16.759],[-2.767,25.495],[0,0],[0,0],[2.94,-4.85],[10.653,-26.295],[-3.243,-149.088]],v:[[40.397,-296.024],[32.251,-281.95],[-66.021,-176.759],[-125.526,-53.567],[-122.5,-12.5],[66,11],[71.308,3.243],[87.977,-17.541],[112.806,-144.584]],c:!0}]},{i:{x:.797,y:.717},o:{x:.669,y:.484},t:20,s:[{i:[[10.5,6],[2.5,-8.25],[29,-101],[2.953,-27.202],[0,0],[0,0],[-3.195,5.272],[-9.335,4.965],[0,75]],o:[[-9.551,-5.458],[-13.102,43.236],[-15.179,52.865],[-2.767,25.495],[0,0],[0,0],[2.94,-4.85],[28.926,-15.386],[0,-149.164]],v:[[65,-295],[53.25,-273.5],[-16,-205],[-125.526,-52.64],[-122.5,-12.5],[66,11],[71.308,3.243],[93.074,-16.614],[137,-130]],c:!0}]},{i:{x:.833,y:.853},o:{x:.533,y:.743},t:30,s:[{i:[[5.092,23.241],[8.614,-11.895],[17.338,-15.483],[.526,-121.246],[0,0],[0,0],[-3.195,5.272],[-3.97,9.799],[-34.746,88.926]],o:[[-.908,-10.759],[-4.886,5.355],[-31.662,29.767],[-.111,25.644],[0,0],[0,0],[2.94,-4.85],[10.653,-26.295],[39.051,-99.944]],v:[[57.158,-254.991],[47.636,-264.855],[22.662,-242.517],[-125.526,-53.754],[-122.5,-12.5],[66,11],[71.308,3.243],[86.947,-17.728],[77.746,-131.926]],c:!0}]},{i:{x:.833,y:.833},o:{x:.083,y:.073},t:38,s:[{i:[[8.819,27.209],[2.769,.099],[35.71,-115.147],[-29.474,-66.635],[0,0],[0,0],[-3.195,5.272],[-3.97,9.799],[89.303,66.156]],o:[[-7.181,-22.791],[-15.731,2.599],[-26.79,86.385],[.526,27.365],[0,0],[0,0],[2.94,-4.85],[10.653,-26.295],[-64.268,-47.609]],v:[[-2.819,-291.209],[-6.269,-334.099],[-54.71,-182.353],[-125.526,-54.365],[-122.5,-12.5],[93,10.661],[99.308,12.904],[111.59,8.323],[90.768,-174.891]],c:!0}]},{i:{x:.459,y:.572},o:{x:.167,y:.167},t:42,s:[{i:[[11.555,15.169],[1.714,-12.436],[23.958,-22.166],[-14.102,-47.942],[0,0],[0,0],[-3.195,5.272],[-3.97,9.799],[48.487,67.094]],o:[[-6.445,-6.331],[-1.786,9.564],[-23.542,24.834],[-1.035,26.478],[0,0],[0,0],[2.94,-4.85],[10.653,-26.295],[-41.488,-66.942]],v:[[-27.555,-292.419],[-39.214,-278.564],[-81.958,-171.834],[-125.526,-54.495],[-122.5,-12.5],[80.201,10.822],[85.509,3.065],[97.072,-18.647],[92.988,-180.558]],c:!0}]},{t:47,s:[{i:[[11,0],[-7,-7],[70,-66.5],[2.953,-27.202],[0,0],[0,0],[-3.195,5.272],[-3.97,9.799],[3.201,68.136]],o:[[-11,0],[13,13],[-39.876,37.882],[-2.767,25.495],[0,0],[0,0],[2.94,-4.85],[10.653,-26.295],[-7,-149]],v:[[-55,-308],[-61,-295],[-70,-157],[-125.526,-54.64],[-122.5,-12.5],[66,11],[71.308,3.243],[82.074,-18.614],[101,-158]],c:!0}]}],ix:2},nm:"Mid Path",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gs",o:{a:0,k:100,ix:9},w:{a:0,k:4,ix:10},g:{p:3,k:{a:0,k:[0,.957,.259,.212,.5,.978,.38,.149,1,1,.502,.086],ix:8}},s:{a:0,k:[.891,-291.188],ix:4},e:{a:0,k:[-11.352,-53.539],ix:5},t:1,lc:1,lj:1,ml:4,ml2:{a:0,k:4,ix:13},bm:0,nm:"Mid Gradient Stroke ",mn:"ADBE Vector Graphic - G-Stroke",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[.001,.957,.259,.212,.792,.978,.38,.149,1,1,.502,.086],ix:9}},s:{a:0,k:[1.477,-290.531],ix:5},e:{a:0,k:[-11.477,-55.898],ix:6},t:1,nm:"Mid Gradient Fill ",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Mid",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:47,st:-1,bm:0},{ddd:0,ind:3,ty:4,nm:"Right ",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:-1,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:11,s:[-4]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:24,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:37,s:[-4]},{t:47,s:[0]}],ix:10},p:{a:0,k:[266,645,0],ix:2,l:2},a:{a:0,k:[0,216,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:-1,s:[{i:[[0,0],[-62.5,-8.5],[-42.155,99.485],[12.618,31.624],[1.319,2.638],[-.5,-14.5],[20.5,-.5]],o:[[0,0],[62.5,8.5],[21.014,-49.593],[-9.899,-24.81],[-3,-6],[.426,12.362],[-23.626,.576]],v:[[85.5,-62],[.5,242],[198,116.5],[197.264,-10.385],[174,-54],[155.5,-57],[121.5,-27.5]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:12,s:[{i:[[0,0],[-62.5,-9.749],[-42.155,114.098],[2.972,51.4],[7.778,58.729],[8.618,-2.012],[34.979,-50.333]],o:[[0,0],[62.5,9.749],[21.014,-56.878],[-1.739,-30.077],[-.986,-7.442],[-16.665,3.891],[-13.488,19.408]],v:[[86.865,-80.771],[.5,240.751],[194.007,96.576],[212.659,-6.2],[194.72,-93.468],[191.037,-126.568],[120.274,-72.917]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:25,s:[{i:[[0,0],[-62.5,-8.815],[-54.032,107.997],[7.926,30.679],[41.957,42.278],[8.618,-1.82],[-4.316,-54.99]],o:[[0,0],[62.5,8.814],[24.858,-49.684],[-6.816,-26.385],[-38.735,-39.031],[-16.665,3.519],[1.732,22.065]],v:[[24.878,-50.615],[.5,241.685],[193.866,126.323],[213.603,24.405],[136.77,-66.058],[103.494,-139.268],[73.38,-53.372]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:36,s:[{i:[[0,0],[-62.5,-8.5],[-11.097,107.477],[21.014,43.667],[.908,5.056],[10.642,-17.117],[30.244,-27.074]],o:[[0,0],[62.5,8.5],[6.902,-66.847],[-10.423,-21.658],[-1.186,-6.603],[-6.531,10.505],[-17.608,15.762]],v:[[69.951,-25.997],[.5,242],[204.355,125.966],[153.238,17.111],[137.432,-18.464],[118.932,-21.464],[93.516,7.132]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:43,s:[{i:[[0,0],[-62.5,-8.5],[-29.588,102.502],[15.671,36.003],[10.538,5.21],[-4.436,-13.62],[24.043,-10.163]],o:[[0,0],[62.5,8.5],[17.825,-94.735],[-9.383,-20.461],[-2.34,-6.219],[-2.104,11.687],[-21.437,6.099]],v:[[79.846,-48.908],[.5,242],[200.311,119.942],[186.425,-7.262],[149.78,-44.347],[134.205,-44.275],[111.324,-14.906]],c:!0}]},{t:47,s:[{i:[[0,0],[-62.5,-8.5],[-42.155,99.485],[12.618,31.624],[1.319,2.638],[-.5,-14.5],[20.5,-.5]],o:[[0,0],[62.5,8.5],[21.014,-49.593],[-9.899,-24.81],[-3,-6],[.426,12.362],[-23.626,.576]],v:[[85.5,-62],[.5,242],[198,116.5],[197.264,-10.385],[174,-54],[155.5,-57],[121.5,-27.5]],c:!0}]}],ix:2},nm:"Right Path",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gs",o:{a:0,k:100,ix:9},w:{a:0,k:4,ix:10},g:{p:3,k:{a:0,k:[0,.984,.408,.169,.5,.992,.471,.131,1,1,.533,.094],ix:8}},s:{a:0,k:[201.543,-64.141],ix:4},e:{a:0,k:[85.004,21.816],ix:5},t:1,lc:1,lj:1,ml:4,ml2:{a:0,k:4,ix:13},bm:0,nm:"Right Gradient Stroke ",mn:"ADBE Vector Graphic - G-Stroke",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.984,.376,.129,.792,.992,.465,.116,1,1,.553,.102],ix:9}},s:{a:0,k:[218.148,-76.566],ix:5},e:{a:0,k:[86.469,21.484],ix:6},t:1,nm:"Right Gradient Fill ",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Right",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:47,st:-1,bm:0},{ddd:0,ind:4,ty:4,nm:"Flame ",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:-1,s:[-2]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[0]},t:22,s:[2]},{t:47,s:[-2]}],ix:10},p:{a:0,k:[266,645,0],ix:2,l:2},a:{a:0,k:[0,216,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.167,y:.861},o:{x:.221,y:0},t:-1,s:[{i:[[11,-11],[12.364,-64.302],[-1.633,-19.188],[-157,-1],[22,47],[0,0],[-5,74]],o:[[-8.755,8.755],[-3.171,16.492],[8,94],[72,-1],[-22,-47],[0,0],[0,-15]],v:[[-158,-140],[-220.178,-24.617],[-223,29],[1,242],[-50,69],[-120,-16],[-140,-138]],c:!0}]},{i:{x:.833,y:.833},o:{x:.426,y:.074},t:20,s:[{i:[[8.555,-11.953],[45.659,-121.705],[-1.403,-19.188],[-134.91,-1],[18.905,47],[0,0],[-4.297,74]],o:[[-60.732,84.854],[-5.774,15.391],[6.874,94],[61.87,-1],[-18.905,-47],[0,0],[0,-15]],v:[[16.413,-197.369],[-166.046,-24.094],[-173.684,31.313],[11.13,242],[-32.694,69],[-92.845,-16],[31.88,-195.369]],c:!0}]},{i:{x:.315,y:.492},o:{x:.167,y:.167},t:27,s:[{i:[[5.178,-10.368],[44.332,-84.22],[2.497,-19.062],[-195.015,1.216],[20.26,47],[0,0],[18.143,50.919]],o:[[-35.014,56.334],[-11.526,15.219],[-11.549,88.157],[66.305,-1],[-20.26,-47],[0,0],[-7.487,-10.027]],v:[[-69.356,-133.328],[-186.988,-10.956],[-215.576,54.093],[6.695,242],[-40.27,69],[-90.012,-8.41],[-52.096,-134.36]],c:!0}]},{i:{x:.833,y:.833},o:{x:.587,y:.435},t:35,s:[{i:[[.84,-8.333],[32.394,-25.689],[-5.011,-18.594],[-124.064,0],[22,47],[0,0],[46.958,21.278]],o:[[-1.987,19.709],[-18.912,14.998],[29.378,109.019],[72,-1],[-22,-47],[0,0],[-17.101,-3.642]],v:[[-179.495,-51.09],[-213.881,5.915],[-235.313,75.55],[1,242],[-50,69],[-86.374,1.337],[-159.934,-56.016]],c:!0}]},{i:{x:.738,y:.806},o:{x:.167,y:.167},t:38,s:[{i:[[22.228,-34.775],[15.371,-46.164],[-1.329,-15.064],[-157,-1],[22,47],[0,0],[25.4,44.588]],o:[[-11.475,14.249],[-10.597,21.473],[8.563,97.03],[72,-1],[-22,-47],[0,0],[-4.805,-11.349]],v:[[-184.628,-72.577],[-221.137,-.801],[-232.841,66.203],[1,242],[-50,69],[-93.126,-2.144],[-131.448,-71.127]],c:!0}]},{i:{x:.713,y:1},o:{x:.796,y:.59},t:44,s:[{i:[[14.742,-18.924],[13.366,-58.257],[2.47,-21.691],[-136.926,.647],[22,47],[0,0],[-7.029,85.953]],o:[[-9.661,10.586],[-5.646,18.152],[-10.791,94.75],[72,-1],[-22,-47],[0,0],[-1.601,-13.783]],v:[[-157.462,-130.233],[-208.504,-16.294],[-219.348,43.623],[1,242],[-50,69],[-89.736,-51.718],[-138.699,-129.769]],c:!0}]},{t:47,s:[{i:[[11,-11],[12.364,-64.302],[-1.633,-19.188],[-157,-1],[22,47],[0,0],[-5,74]],o:[[-8.755,8.755],[-3.171,16.492],[8,94],[72,-1],[-22,-47],[0,0],[0,-15]],v:[[-158,-140],[-220.178,-24.617],[-223,29],[1,242],[-50,69],[-120,-16],[-140,-138]],c:!0}]}],ix:2},nm:"Flame",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gs",o:{a:0,k:100,ix:9},w:{a:0,k:4,ix:10},g:{p:3,k:{a:0,k:[0,.976,.357,.161,.5,.988,.445,.127,1,1,.533,.094],ix:8}},s:{a:0,k:[-233.605,-79.281],ix:4},e:{a:0,k:[-102.555,-8.555],ix:5},t:1,lc:1,lj:1,ml:4,ml2:{a:0,k:4,ix:13},bm:0,nm:"Flame stroke",mn:"ADBE Vector Graphic - G-Stroke",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,.976,.373,.176,.792,.988,.463,.139,1,1,.553,.102],ix:9}},s:{a:0,k:[-244.43,-95.938],ix:5},e:{a:0,k:[-110.785,-38.105],ix:6},t:1,nm:"Flame fill",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Flame",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:47,st:-1,bm:0},{ddd:0,ind:5,ty:4,nm:"Back",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[266,645,0],ix:2,l:2},a:{a:0,k:[0,216,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[284.586,284.586],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Rear path",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[0,1,.553,.102,.792,1,.527,.094,1,1,.502,.086],ix:9}},s:{a:0,k:[0,0],ix:5},e:{a:0,k:[3.016,-41.562],ix:6},t:1,nm:"Rear fill",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[-11,60],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Rear",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:47,st:-1,bm:0},{ddd:0,ind:6,ty:4,nm:"Indv. Flame 02",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1.143]},o:{x:[.333],y:[0]},t:-1,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[.091]},t:11,s:[-21]},{t:23,s:[12]}],ix:10},p:{a:1,k:[{i:{x:.448,y:.181},o:{x:.1,y:0},t:-1,s:[218,263,0],to:[10.664,-19.466,0],ti:[6.065,37.504,0]},{i:{x:.667,y:1},o:{x:.301,y:.445},t:11,s:[215.47,168.772,0],to:[-5.879,-36.352,0],ti:[-13.289,20.836,0]},{t:23,s:[218,75,0]}],ix:2,l:2},a:{a:0,k:[91,-247,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.312,.312,.667],y:[1,1,1]},o:{x:[.373,.373,.333],y:[0,0,0]},t:-1,s:[48,48,100]},{i:{x:[.606,.606,.667],y:[1,1,1]},o:{x:[.659,.659,.333],y:[0,0,0]},t:11,s:[100,100,100]},{t:23,s:[48,48,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:-1,s:[{i:[[4.991,.587],[2,-8],[0,0],[-5.5,6.5]],o:[[-8.5,-1],[-2,8],[0,0],[5.5,-6.5]],v:[[98,-259.5],[85.5,-247.5],[91,-239.5],[100,-241.5]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:11,s:[{i:[[2,-12.5],[2,-8],[0,0],[-5.5,6.5]],o:[[-2,12.5],[-2,8],[0,0],[5.5,-6.5]],v:[[93.5,-264],[85.5,-247.5],[89.646,-216.602],[100,-241.5]],c:!0}]},{t:23,s:[{i:[[9.585,-8.269],[.266,-6.753],[0,0],[3.904,7.567]],o:[[-8.914,7.69],[-.324,8.24],[0,0],[-6.586,-12.766]],v:[[93.5,-264],[84.371,-248.037],[89.456,-227.196],[97.936,-244.144]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gs",o:{a:0,k:100,ix:9},w:{a:0,k:8,ix:10},g:{p:3,k:{a:0,k:[.001,.965,.294,.192,.5,.982,.422,.147,1,1,.549,.102],ix:8}},s:{a:0,k:[95.932,-266.818],ix:4},e:{a:0,k:[88.33,-222.568],ix:5},t:1,lc:2,lj:2,bm:0,nm:"Indv. Flame 01 Gradient Stroke ",mn:"ADBE Vector Graphic - G-Stroke",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[.001,.957,.259,.212,.712,.978,.38,.149,1,1,.502,.086],ix:9}},s:{a:0,k:[101.42,-297.15],ix:5},e:{a:0,k:[89.01,-224.17],ix:6},t:1,nm:"Indv. Flame 01 Gradient Fill ",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Indv. Flame 01",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:23,st:-1,bm:0},{ddd:0,ind:7,ty:4,nm:"Indv. Flame 01",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.667],y:[1.143]},o:{x:[.333],y:[0]},t:20,s:[0]},{i:{x:[.667],y:[1]},o:{x:[.333],y:[.091]},t:32,s:[-21]},{t:44,s:[12]}],ix:10},p:{a:1,k:[{i:{x:.448,y:.181},o:{x:.1,y:0},t:20,s:[380,202,0],to:[10.664,-19.466,0],ti:[6.065,37.504,0]},{i:{x:.667,y:1},o:{x:.301,y:.445},t:32,s:[377.47,107.772,0],to:[-5.879,-36.352,0],ti:[-13.289,20.836,0]},{t:44,s:[380,14,0]}],ix:2,l:2},a:{a:0,k:[91,-247,0],ix:1,l:2},s:{a:1,k:[{i:{x:[.312,.312,.667],y:[1,1,1]},o:{x:[.373,.373,.333],y:[0,0,0]},t:20,s:[48,48,100]},{i:{x:[.606,.606,.667],y:[1,1,1]},o:{x:[.659,.659,.333],y:[0,0,0]},t:32,s:[100,100,100]},{t:44,s:[48,48,100]}],ix:6,l:2}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.833,y:.833},o:{x:.167,y:.167},t:20,s:[{i:[[4.991,.587],[2,-8],[0,0],[-5.5,6.5]],o:[[-8.5,-1],[-2,8],[0,0],[5.5,-6.5]],v:[[98,-259.5],[85.5,-247.5],[91,-239.5],[100,-241.5]],c:!0}]},{i:{x:.833,y:.833},o:{x:.167,y:.167},t:32,s:[{i:[[2,-12.5],[2,-8],[0,0],[-5.5,6.5]],o:[[-2,12.5],[-2,8],[0,0],[5.5,-6.5]],v:[[93.5,-264],[85.5,-247.5],[89.646,-216.602],[100,-241.5]],c:!0}]},{t:44,s:[{i:[[9.585,-8.269],[.266,-6.753],[0,0],[3.904,7.567]],o:[[-8.914,7.69],[-.324,8.24],[0,0],[-6.586,-12.766]],v:[[93.5,-264],[84.371,-248.037],[89.456,-227.196],[97.936,-244.144]],c:!0}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"gs",o:{a:0,k:100,ix:9},w:{a:0,k:8,ix:10},g:{p:3,k:{a:0,k:[.001,.965,.294,.192,.5,.982,.422,.147,1,1,.549,.102],ix:8}},s:{a:0,k:[95.932,-266.818],ix:4},e:{a:0,k:[88.33,-222.568],ix:5},t:1,lc:2,lj:2,bm:0,nm:"Indv. Flame 01 Gradient Stroke ",mn:"ADBE Vector Graphic - G-Stroke",hd:!1},{ty:"gf",o:{a:0,k:100,ix:10},r:1,bm:0,g:{p:3,k:{a:0,k:[.001,.957,.259,.212,.712,.978,.38,.149,1,1,.502,.086],ix:9}},s:{a:0,k:[101.42,-297.15],ix:5},e:{a:0,k:[89.01,-224.17],ix:6},t:1,nm:"Indv. Flame 01 Gradient Fill ",mn:"ADBE Vector Graphic - G-Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Indv. Flame 01",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:20,op:44,st:20,bm:0}]}],layers=[{ddd:0,ind:1,ty:0,nm:"Retime",refId:"comp_0",sr:.55,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[250,345,0],ix:2,l:2},a:{a:0,k:[250,345,0],ix:1,l:2},s:{a:0,k:[100,100,100],ix:6,l:2}},ao:0,w:500,h:690,ip:0,op:25.85,st:0,bm:0}],markers=[{tm:13,cm:"1",dr:0}],fireAnimation={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers},sizes={sm:"w-8 h-11",md:"w-12 h-16",lg:"w-16 h-22"};function FireAnimation({className:e,size:r="md",loop:i=!0,autoplay:n=!0,onComplete:a}){return jsxRuntimeExports.jsx("div",{className:cn(sizes[r],e),children:jsxRuntimeExports.jsx(Lottie,{animationData:fireAnimation,loop:i,autoplay:n,onComplete:a,style:{width:"100%",height:"100%"}})})}const StreakBanner=reactExports.memo(function e({moods:r,habits:i,focusSessions:n,gratitudeEntries:a,restDays:o=[],onRestMode:l,isRestMode:c=!1,canActivateRestMode:d=!0,daysUntilRestAvailable:p=0}){const{t:g}=useLanguage(),y=getToday$1(),[x,S]=reactExports.useState(!1),b=reactExports.useMemo(()=>{const C=[...r.map(R=>R.date),...i.flatMap(R=>R.completedDates),...n.map(R=>R.date),...a.map(R=>R.date),...o],A=[...new Set(C)].sort();return calculateStreak(A)},[r,i,n,a,o]),T=reactExports.useMemo(()=>{const C=r.some(z=>z.date===y),A=i.length===0||i.some(z=>z.completedDates?.includes(y)),R=n.some(z=>z.date===y),I=a.some(z=>z.date===y);return{completed:[C,A,R,I].filter(Boolean).length,total:4,hasMood:C,hasHabits:A,hasFocus:R,hasGratitude:I}},[r,i,n,a,y]),N=()=>b===0?g.startStreak:b>=30?g.legendaryStreak:b>=7?g.amazingStreak:b>=3?g.keepItUp:g.goodStart,k=b>=7?Trophy:b>=3?Flame:Zap;return jsxRuntimeExports.jsxs("div",{className:cn("relative overflow-hidden rounded-2xl p-3 transition-all",b>=7?"bg-gradient-to-r from-yellow-500/20 via-orange-500/20 to-red-500/20 ring-1 ring-yellow-500/30":b>=3?"bg-gradient-to-r from-orange-500/20 to-red-500/20 ring-1 ring-orange-500/30":"bg-gradient-to-r from-primary/10 to-accent/10 ring-1 ring-primary/20"),children:[b>=7&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/10 via-transparent to-orange-500/10 animate-pulse"}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center gap-3",children:[b>=3?jsxRuntimeExports.jsx("div",{className:"w-11 h-11 flex items-center justify-center flex-shrink-0 -ml-1",children:jsxRuntimeExports.jsx(FireAnimation,{size:"md"})}):jsxRuntimeExports.jsx("div",{className:cn("w-11 h-11 rounded-xl flex items-center justify-center flex-shrink-0","bg-primary/20 text-primary"),children:jsxRuntimeExports.jsx(k,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-baseline gap-1.5",children:[jsxRuntimeExports.jsx("span",{className:cn("text-2xl font-bold",b>=7?"text-yellow-500":b>=3?"text-orange-500":"text-primary"),children:b}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:g.daysInRow})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground truncate",children:N()})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-0.5 flex-shrink-0",role:"group","aria-label":g.todayProgress,children:[jsxRuntimeExports.jsx("div",{className:"flex gap-0.5",children:[{emoji:"",label:g.moodToday,done:T.hasMood},{emoji:"",label:g.habits,done:T.hasHabits},{emoji:"",label:g.focus,done:T.hasFocus},{emoji:"",label:g.gratitude,done:T.hasGratitude}].map((C,A)=>jsxRuntimeExports.jsx("span",{className:cn("text-sm transition-all",C.done?"opacity-100 scale-100":"opacity-30 scale-90"),role:"img","aria-label":`${C.label}: ${C.done?g.completed:""}`,children:C.done?"":C.emoji},A))}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-muted-foreground",children:[T.completed,"/4"]})]}),b>=3&&jsxRuntimeExports.jsx("button",{onClick:()=>{hapticTap(),S(!0)},className:cn("p-2 rounded-lg transition-colors flex-shrink-0",b>=7?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-500":"bg-orange-500/20 hover:bg-orange-500/30 text-orange-500"),"aria-label":g.shareButton||"Share",children:jsxRuntimeExports.jsx(Share2,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 h-1 bg-muted/50 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:cn("h-full rounded-full transition-all duration-500",T.completed===4?"bg-gradient-to-r from-green-500 to-emerald-500":"bg-gradient-to-r from-primary to-accent"),style:{width:`${T.completed/4*100}%`}})}),l&&T.completed===0&&!c&&jsxRuntimeExports.jsx("div",{className:"mt-3",children:d?jsxRuntimeExports.jsxs("button",{onClick:l,className:"w-full py-2.5 flex items-center justify-center gap-2 bg-indigo-500/10 hover:bg-indigo-500/20 text-indigo-400 rounded-xl transition-colors text-sm font-medium",children:[jsxRuntimeExports.jsx(Moon,{className:"w-4 h-4"}),g.restDayButton]}):jsxRuntimeExports.jsxs("div",{className:"py-2.5 flex items-center justify-center gap-2 bg-muted/30 text-muted-foreground rounded-xl text-sm",children:[jsxRuntimeExports.jsx(Moon,{className:"w-4 h-4 opacity-50"}),jsxRuntimeExports.jsxs("span",{children:[g.restDayAvailableIn," ",p," ",g.days]})]})}),jsxRuntimeExports.jsx(ShareModal,{open:x,onOpenChange:S,mode:"streak",streak:b})]})}),MIN_DAYS_FOR_INSIGHTS=7,MIN_HABIT_DAYS=5,MIN_FOCUS_SESSIONS=3,MIN_TAG_OCCURRENCES=3,MOOD_VALUES={terrible:1,bad:2,okay:3,good:4,great:5};function moodToValue(e){return MOOD_VALUES[e]||3}function calculateConfidence(e,r){const i=Math.min(e/30,1)*50,n=Math.abs(r)*50;return Math.min(Math.round(i+n),100)}function analyzeMoodHabitCorrelation(e,r){const i=[];if(e.length<MIN_DAYS_FOR_INSIGHTS)return i;const n=new Map;return e.forEach(a=>{const o=moodToValue(a.mood),l=n.get(a.date);n.set(a.date,l?(l+o)/2:o)}),r.forEach(a=>{if(a.completedDates.length<MIN_HABIT_DAYS)return;const o=[],l=[];if(n.forEach((g,y)=>{a.completedDates.includes(y)?o.push(g):l.push(g)}),o.length<MIN_HABIT_DAYS||l.length<3)return;const c=safeAverage(o),d=safeAverage(l),p=d>0?(c-d)/d*100:0;if(p>10){const g=calculateConfidence(o.length,p/100),y={type:"mood-habit-correlation",habitId:a.id,habitName:a.name,moodImprovement:Math.round(p),avgMoodWith:Math.round(c*10)/10,avgMoodWithout:Math.round(d*10)/10,sampleDays:o.length};i.push({id:nanoid(),type:"mood-habit-correlation",severity:p>25?"celebration":"tip",title:`${a.name} improves your mood`,description:`On days when you complete "${a.name}", your mood is ${Math.round(p)}% better on average.`,confidence:g,dataPoints:o.length+l.length,createdAt:Date.now(),metadata:y})}}),i}function analyzeFocusPatterns(e){const r=[];if(e.length<MIN_FOCUS_SESSIONS)return r;const i=new Map,n=new Map;e.forEach(g=>{if(g.status==="aborted")return;if(g.label){const b=i.get(g.label)||{durations:[],completed:0,total:0};b.durations.push(g.duration),b.completed++,b.total++,i.set(g.label,b)}const x=`${new Date(g.completedAt).getHours()}:00`,S=n.get(x)||{durations:[],completed:0};S.durations.push(g.duration),S.completed++,n.set(x,S)});let a,o=0,l;if(i.forEach((g,y)=>{if(g.completed<2)return;const x=safeAverage(g.durations);x>o&&(o=x,a=y,l=g)}),a&&l){const g=l.completed/l.total*100,y=calculateConfidence(l.completed,g/100),x={type:"focus-pattern",bestLabel:a,avgDuration:Math.round(o),successRate:Math.round(g),totalSessions:l.completed};r.push({id:nanoid(),type:"focus-pattern",severity:"tip",title:`You focus best on '${a}' tasks`,description:`Your average focus time for '${a}' is ${Math.round(o)} minutes, higher than other activities.`,confidence:y,dataPoints:l.completed,createdAt:Date.now(),metadata:x})}let c,d=0,p=0;if(n.forEach((g,y)=>{if(g.completed<2)return;const x=safeAverage(g.durations);x>d&&(d=x,c=y,p=g.completed)}),c&&p>=2){const g=c.split(":"),y=g.length>0?safeParseInt(g[0],0,0,23):0;let x="morning";y>=12&&y<17?x="afternoon":y>=17&&(x="evening");const S=calculateConfidence(p,.7),b={type:"focus-pattern",bestTime:c,avgDuration:Math.round(d),successRate:100,totalSessions:p};r.push({id:nanoid(),type:"focus-pattern",severity:"tip",title:`Your peak focus time is ${x}`,description:`You achieve your best focus around ${c}, with an average of ${Math.round(d)} minutes.`,confidence:S,dataPoints:p,createdAt:Date.now(),metadata:b})}return r}function analyzeHabitTiming(e,r){const i=[],n=new Map;return r.forEach(a=>{const o=new Date(a.timestamp).getHours();n.set(a.date,o)}),e.forEach(a=>{if(a.completedDates.length<MIN_HABIT_DAYS)return;const o=[],l=[],c=[];a.completedDates.forEach(T=>{const N=n.get(T);N!==void 0&&(N<12?o.push(T):N<17?l.push(T):c.push(T))});const d=o.length+l.length+c.length;if(d<MIN_HABIT_DAYS)return;const p=o.length/d*100,g=l.length/d*100,y=c.length/d*100,x=[{time:"morning",rate:p,count:o.length},{time:"afternoon",rate:g,count:l.length},{time:"evening",rate:y,count:c.length}];x.sort((T,N)=>N.rate-T.rate);const S=x[0],b=x[2];if(S.rate-b.rate>20){const T=calculateConfidence(d,(S.rate-b.rate)/100),N={type:"habit-timing",habitId:a.id,habitName:a.name,bestTime:S.time,bestTimeRate:Math.round(S.rate),worstTimeRate:Math.round(b.rate),morningCount:o.length,afternoonCount:l.length,eveningCount:c.length};i.push({id:nanoid(),type:"habit-timing",severity:"tip",title:`Best time for ${a.name}: ${S.time}`,description:`You're ${Math.round(S.rate)}% more likely to complete "${a.name}" in the ${S.time} compared to ${b.time} (${Math.round(b.rate)}%).`,confidence:T,dataPoints:d,createdAt:Date.now(),metadata:N})}}),i}function analyzeMoodTags(e){const r=[],i=new Map,n=[];if(e.forEach(o=>{const l=moodToValue(o.mood);o.tags&&o.tags.length>0?o.tags.forEach(c=>{const d=i.get(c)||[];d.push(l),i.set(c,d)}):n.push(l)}),n.length===0)return r;const a=safeAverage(n);return i.forEach((o,l)=>{if(o.length<MIN_TAG_OCCURRENCES)return;const c=safeAverage(o),d=a>0?(c-a)/a*100:0;if(d>15){const p=calculateConfidence(o.length,d/100),g={type:"mood-tag",tag:l,avgMoodWith:Math.round(c*10)/10,avgMoodWithout:Math.round(a*10)/10,improvement:Math.round(d),occurrences:o.length};r.push({id:nanoid(),type:"mood-tag",severity:d>30?"celebration":"tip",title:`'${l}' boosts your mood`,description:`Days tagged with '${l}' show ${Math.round(d)}% better mood on average.`,confidence:p,dataPoints:o.length+n.length,createdAt:Date.now(),metadata:g})}}),r}function generateInsights(e,r,i){const n=Date.now()-7776e6,a=e.filter(p=>p.timestamp>=n),o=i.filter(p=>p.completedAt>=n),l=new Date(n).toISOString().split("T")[0],c=r.map(p=>({...p,completedDates:(p.completedDates||[]).filter(g=>g>=l)})),d=[];return d.push(...analyzeMoodHabitCorrelation(a,c)),d.push(...analyzeFocusPatterns(o)),d.push(...analyzeHabitTiming(c,a)),d.push(...analyzeMoodTags(a)),d.sort((p,g)=>g.confidence-p.confidence),d.slice(0,5)}function useInsights({moods:e,habits:r,focusSessions:i,autoRefresh:n=!0}){const[a,o]=reactExports.useState(""),l=()=>new Date().toISOString().split("T")[0],c=reactExports.useMemo(()=>{try{logger.log("[useInsights] Generating insights...",{moods:e.length,habits:r.length,focusSessions:i.length});const N=generateInsights(e,r,i);return logger.log("[useInsights] Generated insights:",{count:N.length,types:N.map(k=>k.type)}),N}catch(N){return logger.error("[useInsights] Failed to generate insights:",N),[]}},[e,r,i]);reactExports.useEffect(()=>{if(!n)return;const N=l();localStorage.getItem("zenflow-insights-last-generated")!==N&&c.length>0&&(localStorage.setItem("zenflow-insights-last-generated",N),o(N))},[n,c.length]);const[d,p]=reactExports.useState(()=>{const N=localStorage.getItem("zenflow-insights-dismissed");return safeJsonParse(N,[])}),g=N=>{const k=[...d,N];p(k),localStorage.setItem("zenflow-insights-dismissed",JSON.stringify(k))},y=()=>{p([]),localStorage.removeItem("zenflow-insights-dismissed")},x=c.filter(N=>!d.includes(N.id)),S=reactExports.useMemo(()=>({habits:x.filter(N=>N.type==="mood-habit-correlation"),focus:x.filter(N=>N.type==="focus-pattern"),timing:x.filter(N=>N.type==="habit-timing"),tags:x.filter(N=>N.type==="mood-tag"),energy:x.filter(N=>N.type==="energy-pattern")}),[x]),b=x.length>0?x[0]:null,T=e.length>=7||r.length>=1||i.length>=3;return{insights:x,allInsights:c,insightsByType:S,topInsight:b,dismissInsight:g,clearDismissed:y,hasEnoughData:T,isLoading:!1,lastGeneratedDate:a,totalGenerated:c.length,visibleCount:x.length,dismissedCount:d.length}}function InsightCard({insight:e}){const{t:r}=useLanguage(),[i,n]=reactExports.useState(!1),a=()=>{switch(e.type){case"mood-habit-correlation":return jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5"});case"focus-pattern":return jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"});case"habit-timing":return jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5"});case"mood-tag":return jsxRuntimeExports.jsx(Tag,{className:"w-5 h-5"});default:return jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5"})}},l=(()=>{switch(e.severity){case"celebration":return{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",text:"text-green-700 dark:text-green-300",icon:"text-green-600 dark:text-green-400"};case"tip":return{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",text:"text-blue-700 dark:text-blue-300",icon:"text-blue-600 dark:text-blue-400"};case"warning":return{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",text:"text-amber-700 dark:text-amber-300",icon:"text-amber-600 dark:text-amber-400"};default:return{bg:"bg-gray-50 dark:bg-gray-900/20",border:"border-gray-200 dark:border-gray-800",text:"text-gray-700 dark:text-gray-300",icon:"text-gray-600 dark:text-gray-400"}}})(),c=d=>d>=80?"bg-green-500":d>=60?"bg-blue-500":d>=40?"bg-amber-500":"bg-gray-400";return jsxRuntimeExports.jsxs("div",{className:`rounded-2xl border-2 ${l.border} ${l.bg} overflow-hidden transition-all duration-300`,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>n(!i),className:"w-full p-4 flex items-start gap-3 hover:opacity-80 transition-opacity",children:[jsxRuntimeExports.jsx("div",{className:`flex-shrink-0 ${l.icon}`,children:a()}),jsxRuntimeExports.jsxs("div",{className:"flex-1 text-left",children:[jsxRuntimeExports.jsx("h3",{className:`font-semibold ${l.text} mb-1`,children:e.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:i?jsxRuntimeExports.jsx(ChevronUp,{className:"w-5 h-5 text-muted-foreground"}):jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-muted-foreground"})})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 pb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[jsxRuntimeExports.jsxs("span",{children:[r.insightConfidence||"Confidence",": ",e.confidence,"%"]}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:""}),jsxRuntimeExports.jsxs("span",{children:[e.dataPoints," ",r.insightDataPoints||"data points"]})]}),jsxRuntimeExports.jsx("div",{className:"h-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full ${c(e.confidence)} transition-all duration-500`,style:{width:`${e.confidence}%`}})})]}),i&&jsxRuntimeExports.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[e.metadata.type==="mood-habit-correlation"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightAvgMoodWith||"Avg mood with habit",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.avgMoodWith,"/5"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightAvgMoodWithout||"Avg mood without",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.avgMoodWithout,"/5"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightSampleDays||"Sample days",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.sampleDays," ",r.days||"days"]})]})]}),e.metadata.type==="focus-pattern"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e.metadata.bestLabel&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightBestActivity||"Best activity",":"]}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:e.metadata.bestLabel})]}),e.metadata.bestTime&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightPeakTime||"Peak time",":"]}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:e.metadata.bestTime})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightAvgDuration||"Avg duration",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.avgDuration," ",r.min||"min"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightSessions||"Sessions",":"]}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:e.metadata.totalSessions})]})]}),e.metadata.type==="habit-timing"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.morning||"Morning",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.morningCount," ",r.times||"times"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.afternoon||"Afternoon",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.afternoonCount," ",r.times||"times"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.evening||"Evening",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.eveningCount," ",r.times||"times"]})]})]}),e.metadata.type==="mood-tag"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightTagOccurrences||"Tag occurrences",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.occurrences," ",r.times||"times"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightMoodWithTag||"Mood with tag",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.avgMoodWith,"/5"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:[r.insightMoodWithoutTag||"Mood without tag",":"]}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:[e.metadata.avgMoodWithout,"/5"]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground italic",children:r.insightDisclaimer||"This insight is based on your personal data. Patterns may vary over time."})})]})})]})}function InsightsPanel({moods:e,habits:r,focusSessions:i,compact:n=!1}){const{t:a}=useLanguage(),[o,l]=reactExports.useState(!1),[c,d]=reactExports.useState(!1),{insights:p,topInsight:g,dismissInsight:y,hasEnoughData:x,visibleCount:S,totalGenerated:b}=useInsights({moods:e,habits:r,focusSessions:i,autoRefresh:!0});if(!x)return jsxRuntimeExports.jsx("div",{className:"bg-card rounded-2xl p-6 zen-shadow-card border border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-primary flex-shrink-0 mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:a.insightsTitle||"Personal Insights"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:a.insightsNotEnoughData||"Keep tracking your mood, habits, and focus for a week to unlock personalized insights about your patterns."}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex gap-2 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${e.length>=7?"bg-green-500":"bg-gray-300"}`}),jsxRuntimeExports.jsxs("span",{children:[e.length,"/7 ",a.insightsMoodEntries||"mood entries"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${r.length>=1?"bg-green-500":"bg-gray-300"}`}),jsxRuntimeExports.jsxs("span",{children:[r.length,"/1 ",a.insightsHabitCount||"habit"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${i.length>=3?"bg-green-500":"bg-gray-300"}`}),jsxRuntimeExports.jsxs("span",{children:[i.length,"/3 ",a.insightsFocusSessions||"focus sessions"]})]})]})]})]})});if(S===0)return jsxRuntimeExports.jsx("div",{className:"bg-card rounded-2xl p-6 zen-shadow-card border border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-muted-foreground flex-shrink-0 mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2",children:a.insightsTitle||"Personal Insights"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:a.insightsNoPatterns||"No strong patterns detected yet. Keep tracking consistently to discover what works best for you!"})]})]})});const T=n?p.slice(0,3):p,N=p.length>3&&n;return jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-2xl zen-shadow-card border border-border overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:a.insightsTitle||"Personal Insights"}),S>0&&jsxRuntimeExports.jsx("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full font-medium",children:S})]}),jsxRuntimeExports.jsx("button",{onClick:()=>d(!c),"aria-expanded":c,"aria-label":a.insightsHelpTitle||"About Insights",className:"text-muted-foreground hover:text-foreground transition-colors",children:jsxRuntimeExports.jsx(Info,{className:"w-4 h-4"})})]}),c&&jsxRuntimeExports.jsxs("div",{className:"mt-3 p-3 bg-card rounded-xl text-xs text-muted-foreground space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground mb-1",children:a.insightsHelpTitle||"About Insights"}),jsxRuntimeExports.jsx("p",{children:a.insightsHelp1||"Insights are generated from your personal data using statistical analysis."}),jsxRuntimeExports.jsx("p",{children:a.insightsHelp2||"All analysis happens locally on your device - your data never leaves."}),jsxRuntimeExports.jsx("p",{children:a.insightsHelp3||"Patterns with higher confidence are shown first."})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[T.map((k,C)=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(InsightCard,{insight:k}),jsxRuntimeExports.jsx("button",{onClick:()=>y(k.id),className:"absolute top-2 right-2 p-1.5 rounded-lg bg-card/80 hover:bg-card text-muted-foreground hover:text-foreground transition-colors zen-shadow-sm opacity-0 group-hover:opacity-100","aria-label":a.insightsDismiss||"Dismiss",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]},k.id)),n&&N&&jsxRuntimeExports.jsx("button",{onClick:()=>l(!o),className:"w-full py-3 flex items-center justify-center gap-2 text-sm text-primary hover:text-primary/80 transition-colors font-medium",children:o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:a.insightsShowLess||"Show less"}),jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:a.insightsShowMore||`Show ${p.length-3} more insights`}),jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})]})}),n&&o&&jsxRuntimeExports.jsx("div",{className:"space-y-3 pt-3 border-t border-border",children:p.slice(3).map(k=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx(InsightCard,{insight:k}),jsxRuntimeExports.jsx("button",{onClick:()=>y(k.id),className:"absolute top-2 right-2 p-1.5 rounded-lg bg-card/80 hover:bg-card text-muted-foreground hover:text-foreground transition-colors zen-shadow-sm opacity-0 group-hover:opacity-100","aria-label":a.insightsDismiss||"Dismiss",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]},k.id))})]}),b>S&&jsxRuntimeExports.jsx("div",{className:"px-4 pb-4",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground text-center",children:a.insightsDismissedCount||`${b-S} insights dismissed`})})]})}const RestModeCard=reactExports.memo(function e({streak:r,onCancel:i}){const{t:n}=useLanguage();return jsxRuntimeExports.jsxs(motion.div,{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-500/20 via-purple-500/15 to-violet-500/20 p-8 text-center border border-indigo-500/30",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:200,damping:20},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(8)].map((a,o)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute text-lg opacity-30",initial:{x:`${Math.random()*100}%`,y:`${Math.random()*100}%`,scale:.5},animate:{scale:[.5,1,.5],opacity:[.2,.5,.2]},transition:{duration:3+Math.random()*2,delay:o*.3,repeat:1/0},children:""},o))}),jsxRuntimeExports.jsxs(motion.div,{className:"relative mb-6",animate:{y:[0,-5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-indigo-500/20 border border-indigo-400/30",children:jsxRuntimeExports.jsx(Moon,{className:"w-10 h-10 text-indigo-400"})}),jsxRuntimeExports.jsx(motion.div,{className:"absolute -right-1 -top-1",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-yellow-400"})})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:n.restDayTitle||" "}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-6",children:n.restDayMessage||",    "}),jsxRuntimeExports.jsxs(motion.div,{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-orange-500/20 rounded-full mb-6 border border-orange-500/30",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:[jsxRuntimeExports.jsx("span",{className:"text-xl",children:""}),jsxRuntimeExports.jsx("span",{className:"font-bold text-orange-500 text-lg",children:r}),jsxRuntimeExports.jsx("span",{className:"text-sm text-orange-400",children:n.daysSaved||" "})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:n.restDaySupportive||"   "}),jsxRuntimeExports.jsx("button",{onClick:i,className:"w-full py-3 text-muted-foreground hover:text-foreground hover:bg-white/5 rounded-xl transition-colors",children:n.restDayCancel||"-  "})]})}),LAST_SEEN_VERSION_KEY="zenflow_last_seen_version",CHANGELOG={"1.3.5":[{icon:jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5 text-green-500"}),titleKey:"whatsNew.security.title",descriptionKey:"whatsNew.security.description",title:"Enhanced Security",description:"Better data protection & privacy."},{icon:jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-yellow-500"}),titleKey:"whatsNew.performance.title",descriptionKey:"whatsNew.performance.description",title:"Improved Stability",description:"Fixed sync issues and deadlock prevention."},{icon:jsxRuntimeExports.jsx(RefreshCw,{className:"w-5 h-5 text-blue-500"}),titleKey:"whatsNew.sync.title",descriptionKey:"whatsNew.sync.description",title:"Reliable Sync",description:"Better cloud synchronization with timeout protection."}],"1.3.0":[{icon:jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-purple-500"}),titleKey:"whatsNew.leaderboards.title",descriptionKey:"whatsNew.leaderboards.description",title:"Leaderboards",description:"Compete anonymously with others."},{icon:jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-green-500"}),titleKey:"whatsNew.spotify.title",descriptionKey:"whatsNew.spotify.description",title:"Spotify Integration",description:"Auto-play music during focus sessions."},{icon:jsxRuntimeExports.jsx(RefreshCw,{className:"w-5 h-5 text-orange-500"}),titleKey:"whatsNew.challenges.title",descriptionKey:"whatsNew.challenges.description",title:"Friend Challenges",description:"Challenge friends to build habits together."},{icon:jsxRuntimeExports.jsx(MessageSquare,{className:"w-5 h-5 text-blue-500"}),titleKey:"whatsNew.digest.title",descriptionKey:"whatsNew.digest.description",title:"Weekly Digest",description:"Get progress reports in your inbox."}],"1.2.0":[{icon:jsxRuntimeExports.jsx(Shield,{className:"w-5 h-5 text-green-500"}),titleKey:"whatsNew.security.title",descriptionKey:"whatsNew.security.description",title:"Enhanced Security",description:"Improved data protection and validation to keep your information safe."},{icon:jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-yellow-500"}),titleKey:"whatsNew.performance.title",descriptionKey:"whatsNew.performance.description",title:"Better Performance",description:"Fixed sync issues and improved app stability."},{icon:jsxRuntimeExports.jsx(Download,{className:"w-5 h-5 text-blue-500"}),titleKey:"whatsNew.offline.title",descriptionKey:"whatsNew.offline.description",title:"Offline Support",description:"Your data is now saved even without internet connection."},{icon:jsxRuntimeExports.jsx(Moon,{className:"w-5 h-5 text-purple-500"}),titleKey:"whatsNew.oled.title",descriptionKey:"whatsNew.oled.description",title:"OLED Dark Mode",description:"True black theme for OLED screens saves battery."}],"1.2.1":[{icon:jsxRuntimeExports.jsx(RefreshCw,{className:"w-5 h-5 text-blue-500"}),titleKey:"whatsNew.updateSystem.title",descriptionKey:"whatsNew.updateSystem.description",title:"Smart Update System",description:"Get notified about new versions even if installed outside Google Play."},{icon:jsxRuntimeExports.jsx(MessageSquare,{className:"w-5 h-5 text-green-500"}),titleKey:"whatsNew.feedbackEmail.title",descriptionKey:"whatsNew.feedbackEmail.description",title:"Improved Feedback",description:"Your feedback now reaches us faster via email notifications."},{icon:jsxRuntimeExports.jsx(Zap,{className:"w-5 h-5 text-yellow-500"}),titleKey:"whatsNew.bugFixes.title",descriptionKey:"whatsNew.bugFixes.description",title:"Bug Fixes",description:"Fixed various issues for a smoother experience."}]};function WhatsNewModal({onClose:e}){const{t:r,language:i}=useLanguage(),[n,a]=reactExports.useState(!1),[o,l]=reactExports.useState(null);reactExports.useEffect(()=>{const g=localStorage.getItem(LAST_SEEN_VERSION_KEY);(wasAppUpdated()||g!==APP_VERSION)&&(CHANGELOG[APP_VERSION]?(l(APP_VERSION),a(!0)):localStorage.setItem(LAST_SEEN_VERSION_KEY,APP_VERSION))},[]);const c=()=>{localStorage.setItem(LAST_SEEN_VERSION_KEY,APP_VERSION),a(!1),e?.()};if(!n||!o)return null;const d=CHANGELOG[o]||[],p=(g,y)=>{const x=g.split(".");let S=r;for(const b of x)if(S&&typeof S=="object"&&b in S)S=S[b];else return y;return typeof S=="string"?S:y};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:cn("w-full max-w-md bg-card rounded-2xl shadow-2xl","border border-border overflow-hidden"),children:[jsxRuntimeExports.jsxs("div",{className:"relative px-6 py-5 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-border",children:[jsxRuntimeExports.jsx("button",{onClick:c,className:"absolute top-4 right-4 p-1 rounded-full hover:bg-muted transition-colors","aria-label":"Close",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-muted-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-foreground",children:p("whatsNew.title","What's New")}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[p("whatsNew.version","Version")," ",o]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"px-6 py-4 max-h-[60vh] overflow-y-auto",children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:d.map((g,y)=>jsxRuntimeExports.jsxs("div",{className:cn("flex items-start gap-3 p-3 rounded-xl","bg-muted/50 hover:bg-muted transition-colors"),children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-2 rounded-lg bg-background",children:g.icon}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:p(g.titleKey,g.title)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:p(g.descriptionKey,g.description)})]})]},y))})}),jsxRuntimeExports.jsx("div",{className:"px-6 py-4 border-t border-border bg-muted/30",children:jsxRuntimeExports.jsx("button",{onClick:c,className:cn("w-full py-3 px-4 rounded-xl font-medium","bg-primary text-primary-foreground","hover:bg-primary/90 transition-colors","focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"),children:p("whatsNew.gotIt","Got it!")})})]})})}const syncMood=async e=>{const r=await getCurrentUserId();if(!(!supabase||!r)){if(!navigator.onLine){await offlineQueue.enqueue("CREATE_MOOD",e.id,e),logger.log("[Sync] Mood queued for offline sync:",e.id);return}try{const{error:i}=await supabase.from("moods").upsert({id:e.id,user_id:r,mood:e.mood,note:e.note||null,tags:e.tags||[],date:e.date,timestamp:e.timestamp,emotion:e.emotion||null},{onConflict:"id"});if(i)throw i;logger.log("[Sync] Mood synced:",e.id)}catch(i){i instanceof Error&&(i.message.includes("network")||i.message.includes("Network")||i.message.includes("Failed to fetch")||i.message.includes("fetch failed")||i.message.includes("NetworkError")||i.message.includes("ECONNREFUSED")||i.message.includes("ETIMEDOUT")||i.message.includes("ENOTFOUND")||i.name==="TypeError")?(await offlineQueue.enqueue("CREATE_MOOD",e.id,e),logger.log("[Sync] Mood queued after network error:",e.id)):logger.error("[Sync] Failed to sync mood:",i)}}},deleteMoodFromCloud=async e=>{const r=await getCurrentUserId();if(!(!supabase||!r)){if(!navigator.onLine){await offlineQueue.enqueue("DELETE_MOOD",e,{id:e});return}try{const{error:i}=await supabase.from("moods").delete().eq("id",e).eq("user_id",r);if(i)throw i;logger.log("[Sync] Mood deleted:",e)}catch(i){logger.error("[Sync] Failed to delete mood:",i)}}},syncHabit=async e=>{const r=await getCurrentUserId();if(!(!supabase||!r)){if(!navigator.onLine){await offlineQueue.enqueue("UPDATE_HABIT",e.id,e),logger.log("[Sync] Habit queued for offline sync:",e.id);return}try{const{error:i}=await supabase.from("habits").upsert({id:e.id,user_id:r,name:e.name,icon:e.icon,color:e.color,type:e.type,frequency:e.frequency,custom_days:e.customDays||[],requires_duration:e.requiresDuration||!1,target_duration:e.targetDuration||null,start_date:e.startDate||null,daily_target:e.dailyTarget||1,target_count:e.targetCount||null,template_id:e.templateId||null},{onConflict:"id"});if(i)throw i;if(e.completedDates&&e.completedDates.length>0){const n=e.completedDates.map(o=>({user_id:r,habit_id:e.id,date:o,count:e.completionsByDate?.[o]||1,duration:e.durationByDate?.[o]||null})),{error:a}=await supabase.from("habit_completions").upsert(n,{onConflict:"habit_id,date"});if(a)throw a}if(e.reminders&&e.reminders.length>0){const n=(d,p,g)=>`${d}-${p}-${g.sort().join("")}`,a=e.reminders.map(d=>({id:n(e.id,d.time,d.days),user_id:r,habit_id:e.id,enabled:d.enabled,time:d.time,days:d.days})),{error:o}=await supabase.from("habit_reminders").upsert(a,{onConflict:"id"});if(o)throw o;const l=a.map(d=>d.id),{error:c}=await supabase.from("habit_reminders").delete().eq("habit_id",e.id).not("id","in",`(${l.map(d=>`'${d}'`).join(",")})`);c&&logger.warn("[Sync] Failed to cleanup old reminders for habit:",e.id,c)}else{const{error:n}=await supabase.from("habit_reminders").delete().eq("habit_id",e.id);n&&logger.warn("[Sync] Failed to delete reminders for habit:",e.id,n)}logger.log("[Sync] Habit synced:",e.id)}catch(i){logger.error("[Sync] Failed to sync habit:",i)}}},deleteHabitFromCloud=async e=>{const r=await getCurrentUserId();if(!(!supabase||!r)){if(!navigator.onLine){await offlineQueue.enqueue("DELETE_HABIT",e,{id:e});return}try{const{error:i}=await supabase.from("habits").delete().eq("id",e).eq("user_id",r);if(i)throw i;logger.log("[Sync] Habit deleted:",e)}catch(i){logger.error("[Sync] Failed to delete habit:",i)}}},syncFocusSession=async e=>{const r=await getCurrentUserId();if(!(!supabase||!r)){if(!navigator.onLine){await offlineQueue.enqueue("CREATE_FOCUS_SESSION",e.id,e),logger.log("[Sync] Focus session queued for offline sync:",e.id);return}try{const{error:i}=await supabase.from("focus_sessions").upsert({id:e.id,user_id:r,duration:e.duration,label:e.label||null,status:e.status||"completed",reflection:e.reflection||null,date:e.date,completed_at:e.completedAt},{onConflict:"id"});if(i)throw i;logger.log("[Sync] Focus session synced:",e.id)}catch(i){logger.error("[Sync] Failed to sync focus session:",i)}}},syncGratitude=async e=>{const r=await getCurrentUserId();if(!(!supabase||!r)){if(!navigator.onLine){await offlineQueue.enqueue("CREATE_GRATITUDE",e.id,e),logger.log("[Sync] Gratitude queued for offline sync:",e.id);return}try{const{error:i}=await supabase.from("gratitude_entries").upsert({id:e.id,user_id:r,text:e.text,date:e.date,timestamp:e.timestamp},{onConflict:"id"});if(i)throw i;logger.log("[Sync] Gratitude synced:",e.id)}catch(i){logger.error("[Sync] Failed to sync gratitude:",i)}}},deleteGratitudeFromCloud=async e=>{const r=await getCurrentUserId();if(!(!supabase||!r)){if(!navigator.onLine){await offlineQueue.enqueue("DELETE_GRATITUDE",e,{id:e});return}try{const{error:i}=await supabase.from("gratitude_entries").delete().eq("id",e).eq("user_id",r);if(i)throw i;logger.log("[Sync] Gratitude deleted:",e)}catch(i){logger.error("[Sync] Failed to delete gratitude:",i)}}};function initializeOfflineQueueHandlers(){offlineQueue.registerHandler("CREATE_MOOD",async e=>{const r=e.payload;await syncMood(r)}),offlineQueue.registerHandler("UPDATE_MOOD",async e=>{const r=e.payload;await syncMood(r)}),offlineQueue.registerHandler("DELETE_MOOD",async e=>{await deleteMoodFromCloud(e.entityId)}),offlineQueue.registerHandler("CREATE_HABIT",async e=>{const r=e.payload;await syncHabit(r)}),offlineQueue.registerHandler("UPDATE_HABIT",async e=>{const r=e.payload;await syncHabit(r)}),offlineQueue.registerHandler("DELETE_HABIT",async e=>{await deleteHabitFromCloud(e.entityId)}),offlineQueue.registerHandler("TOGGLE_HABIT",async e=>{const r=e.payload;await syncHabit(r)}),offlineQueue.registerHandler("CREATE_FOCUS_SESSION",async e=>{const r=e.payload;await syncFocusSession(r)}),offlineQueue.registerHandler("CREATE_GRATITUDE",async e=>{const r=e.payload;await syncGratitude(r)}),offlineQueue.registerHandler("DELETE_GRATITUDE",async e=>{await deleteGratitudeFromCloud(e.entityId)}),offlineQueue.registerHandler("UPDATE_SETTINGS",async e=>{}),navigator.onLine&&offlineQueue.processQueue()}const CompletedSection=reactExports.memo(function e({title:r,icon:i,children:n,defaultExpanded:a=!1,accentColor:o="primary"}){const{t:l}=useLanguage(),[c,d]=reactExports.useState(a),p={primary:{bg:"bg-primary/10",border:"border-primary/20",text:"text-primary"},emerald:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-500"},violet:{bg:"bg-violet-500/10",border:"border-violet-500/20",text:"text-violet-500"},pink:{bg:"bg-pink-500/10",border:"border-pink-500/20",text:"text-pink-500"},amber:{bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-500"}},g=p[o]||p.primary;return jsxRuntimeExports.jsxs("div",{className:"animate-fade-in",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>d(!c),className:cn("w-full flex items-center justify-between p-4 rounded-2xl transition-all",g.bg,"border",g.border,"hover:opacity-80"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:cn("w-8 h-8 rounded-full flex items-center justify-center",g.bg,g.text),children:jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-lg",children:i}),jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:r})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"text-xs",children:c?l.collapse:l.expand}),jsxRuntimeExports.jsx(motion.div,{animate:{rotate:c?180:0},transition:{duration:.2},children:jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:c&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"pt-4",children:n})})})]})}),AllCompleteCelebration=reactExports.memo(function e({streak:r=0}){const{t:i}=useLanguage(),a=r>=30?{emoji:"",text:i.allCompleteLegend||"Legendary day!"}:r>=14?{emoji:"",text:i.allCompleteAmazing||"Amazing work!"}:r>=7?{emoji:"",text:i.allCompleteGreat||"Great job!"}:r>=3?{emoji:"",text:i.allCompleteNice||"Nice work!"}:{emoji:"",text:i.allComplete||"All done!"};return jsxRuntimeExports.jsxs(motion.div,{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-500/20 via-primary/15 to-teal-500/20 p-8 text-center border border-emerald-500/30",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:200,damping:20},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(12)].map((o,l)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute",initial:{x:`${Math.random()*100}%`,y:`${Math.random()*100}%`,scale:0},animate:{scale:[0,1,0],opacity:[0,.6,0]},transition:{duration:2+Math.random(),delay:l*.2,repeat:1/0,repeatDelay:Math.random()*2},children:jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-emerald-400"})},l))}),jsxRuntimeExports.jsxs(motion.div,{className:"relative mb-6 inline-block",animate:{y:[0,-8,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[jsxRuntimeExports.jsx("div",{className:"text-7xl",children:a.emoji}),jsxRuntimeExports.jsx(motion.div,{className:"absolute -right-2 -top-2",animate:{rotate:[0,15,0,-15,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:jsxRuntimeExports.jsx(Star,{className:"w-8 h-8 text-yellow-400 fill-yellow-400"})})]}),jsxRuntimeExports.jsx(motion.h2,{className:"text-2xl font-bold text-foreground mb-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:a.text}),jsxRuntimeExports.jsx(motion.p,{className:"text-muted-foreground mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:i.allCompleteMessage||"You've completed all activities for today"}),r>0&&jsxRuntimeExports.jsxs(motion.div,{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-orange-500/20 rounded-full border border-orange-500/30 mb-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},children:[jsxRuntimeExports.jsx("span",{className:"text-xl",children:""}),jsxRuntimeExports.jsx("span",{className:"font-bold text-orange-500 text-lg",children:r}),jsxRuntimeExports.jsx("span",{className:"text-sm text-orange-400",children:i.daysStreak||"days streak"})]}),jsxRuntimeExports.jsxs(motion.div,{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4 text-pink-500"}),jsxRuntimeExports.jsx("span",{children:i.allCompleteSupportive||"See you tomorrow!"}),jsxRuntimeExports.jsx("span",{children:""})]})]})});function ConsentBanner({onConsent:e}){const{t:r}=useLanguage(),i=()=>{e(!0)},n=()=>{e(!1)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-end sm:items-center justify-center p-4 sm:pb-4 bg-black/50 backdrop-blur-sm animate-fade-in",style:{zIndex:"var(--z-overlay)",paddingBottom:"calc(var(--nav-height) + var(--safe-bottom))"},children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-card rounded-2xl p-4 sm:p-6 shadow-2xl animate-scale-in max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6 text-primary"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-foreground",children:r.consentTitle||"Privacy Settings"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:r.consentDescription||"We respect your privacy. Help us improve the app by allowing anonymous analytics?"}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-secondary/50 rounded-xl mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-5 h-5 text-primary mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:r.consentAnalyticsTitle||"Anonymous Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r.consentAnalyticsDesc||"Usage patterns only. No personal data. You can change this anytime in Settings."})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:n,className:"flex-1 py-3 bg-secondary text-secondary-foreground rounded-xl font-medium hover:bg-muted transition-colors",children:r.consentDecline||"No thanks"}),jsxRuntimeExports.jsx("button",{onClick:i,className:"flex-1 py-3 zen-gradient text-primary-foreground rounded-xl font-medium hover:opacity-90 transition-opacity",children:r.consentAccept||"Allow"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:r.consentFooter||"You can change this anytime in Settings > Privacy"})]})})}function GlobalScheduleBar({events:e,onTap:r}){const{t:i}=useLanguage(),[n,a]=reactExports.useState(new Date);reactExports.useEffect(()=>{const y=setInterval(()=>a(new Date),6e4);return()=>clearInterval(y)},[]);const o=n.getHours(),l=n.getMinutes(),c=(y,x=0)=>`${y.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`,d=reactExports.useMemo(()=>{const y=o*60+l;return e.find(x=>{const S=x.startHour*60+x.startMinute,b=x.endHour*60+x.endMinute;return y>=S&&y<b})},[e,o,l]),p=reactExports.useMemo(()=>{const y=o*60+l;return e.filter(S=>S.startHour*60+S.startMinute>y).sort((S,b)=>{const T=S.startHour*60+S.startMinute,N=b.startHour*60+b.startMinute;return T-N})[0]||null},[e,o,l]),g=reactExports.useMemo(()=>{if(!p)return null;const y=o*60+l,S=p.startHour*60+p.startMinute-y;if(S<=0)return null;const b=Math.floor(S/60),T=S%60;return b>0?`${b}${i.hoursShort||"h"} ${T}${i.minutesShort||"m"}`:`${T}${i.minutesShort||"m"}`},[p,o,l,i]);return e.length===0?null:jsxRuntimeExports.jsxs("button",{onClick:r,className:cn("w-full flex items-center gap-3 px-4 py-2.5 rounded-2xl transition-all","bg-card/80 backdrop-blur-sm border border-border/50","hover:bg-card hover:border-primary/30","active:scale-[0.98]"),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:cn("w-8 h-8 rounded-xl flex items-center justify-center",d?"bg-primary/20":"bg-muted"),children:jsxRuntimeExports.jsx(Clock,{className:cn("w-4 h-4",d?"text-primary":"text-muted-foreground")})}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-foreground",children:c(o,l)})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:d?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:d.color}}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium truncate",children:[d.emoji," ",d.title]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:i.timeNow||"now"})]}):p?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground truncate",children:[p.emoji," ",p.title]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-primary font-medium",children:[i.timeIn||"in"," ",g]})]}):jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:i.scheduleEmpty||"No upcoming events"})}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"})]})}const ONBOARDING_STORAGE_KEY="zenflow_onboarding_state",UNLOCK_CONDITIONS=[{feature:"mood",day:1,description:"Always available"},{feature:"habits",day:1,description:"Always available"},{feature:"focusTimer",day:2,requires:{type:"habit-completed",count:1},description:"Complete 1 habit to unlock"},{feature:"xp",day:3,requires:{type:"focus-sessions",count:2},description:"Complete 2 focus sessions to unlock"},{feature:"quests",day:3,requires:{type:"focus-sessions",count:2},description:"Complete 2 focus sessions to unlock"},{feature:"companion",day:3,requires:{type:"focus-sessions",count:2},description:"Complete 2 focus sessions to unlock"},{feature:"tasks",day:4,description:"Available from Day 4"},{feature:"challenges",day:4,description:"Available from Day 4"}];function getOnboardingState(){const e=localStorage.getItem(ONBOARDING_STORAGE_KEY);if(e){const r=safeJsonParse(e,null);if(r)return r}return{isNewUser:!0,firstLoginDate:Date.now(),daysActive:1,unlockedFeatures:["mood","habits"],completedSteps:[],hasSeenWelcome:!1}}function saveOnboardingState(e){try{localStorage.setItem(ONBOARDING_STORAGE_KEY,JSON.stringify(e))}catch(r){logger.error("[Onboarding] Failed to save state:",r)}}function initializeOnboarding(e){const r=getOnboardingState();if(e.hasExistingData&&r.isNewUser){const n={...r,isNewUser:!1,daysActive:99,unlockedFeatures:["mood","habits","focusTimer","xp","quests","companion","tasks","challenges"],hasSeenWelcome:!0};return saveOnboardingState(n),n}return r}function calculateDaysActive(e){const r=Math.floor((Date.now()-e)/864e5);return Math.min(r+1,4)}function updateOnboardingProgress(){const e=getOnboardingState();if(!e.isNewUser)return e;const r=calculateDaysActive(e.firstLoginDate);if(r>e.daysActive){const i=UNLOCK_CONDITIONS.filter(n=>n.day<=r&&!e.unlockedFeatures.includes(n.feature)&&!n.requires).map(n=>n.feature);if(i.length>0){const n={...e,daysActive:r,unlockedFeatures:[...e.unlockedFeatures,...i]};return saveOnboardingState(n),n}}return e}function checkFeatureUnlock(e){const r=getOnboardingState();if(r.unlockedFeatures.includes(e.feature))return{shouldUnlock:!1};if(!r.isNewUser)return{shouldUnlock:!1};const i=UNLOCK_CONDITIONS.find(a=>a.feature===e.feature);if(!i)return{shouldUnlock:!1};if(calculateDaysActive(r.firstLoginDate)<i.day)return{shouldUnlock:!1};if(i.requires){const{type:a,count:o}=i.requires;switch(a){case"habit-completed":if(e.stats.habitsCompleted>=o)return{shouldUnlock:!0,reason:i.description};break;case"focus-sessions":if(e.stats.focusSessionsCompleted>=o)return{shouldUnlock:!0,reason:i.description};break;case"mood-entries":if(e.stats.moodEntriesCount>=o)return{shouldUnlock:!0,reason:i.description};break}return{shouldUnlock:!1}}return{shouldUnlock:!0,reason:i.description}}function unlockFeature(e){const r=getOnboardingState();if(!r.unlockedFeatures.includes(e)){const i={...r,unlockedFeatures:[...r.unlockedFeatures,e]};return saveOnboardingState(i),i}return r}function isFeatureUnlocked(e){const r=getOnboardingState();return!r.isNewUser||r.unlockedFeatures.includes(e)}function getUnlockProgress(){const e=getOnboardingState(),r=calculateDaysActive(e.firstLoginDate),i=UNLOCK_CONDITIONS.find(n=>!e.unlockedFeatures.includes(n.feature));return{day:r,maxDay:4,unlockedCount:e.unlockedFeatures.length,totalCount:UNLOCK_CONDITIONS.length,nextUnlock:i?{feature:i.feature,requirement:i.description}:void 0}}function shouldShowWelcome(){const e=getOnboardingState();return e.isNewUser&&!e.hasSeenWelcome}function markWelcomeSeen(){const r={...getOnboardingState(),hasSeenWelcome:!0};saveOnboardingState(r)}function WelcomeOverlay({onClose:e}){const{t:r}=useLanguage(),[i,n]=reactExports.useState(0),a=[{title:r.onboardingWelcomeTitle||"Welcome to ZenFlow! ",description:r.onboardingWelcomeDescription||"We're excited to help you build better habits and understand what works for YOUR brain.",icon:""},{title:r.onboardingDay1Title||"Let's start simple",description:r.onboardingDay1Description||"For today, we'll focus on just two things: tracking your mood and creating your first habit. Your data is stored safely on your device.",icon:""},{title:r.onboardingGradualTitle||"More features unlock gradually",description:r.onboardingGradualDescription||"Over the next 4 days, you'll discover new features as you progress. No information overload!",icon:""}],o=a[i],l=()=>{i<a.length-1?n(i+1):(markWelcomeSeen(),e())};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in px-3 sm:px-4",children:jsxRuntimeExports.jsxs("div",{className:"relative max-w-lg w-full bg-card rounded-xl sm:rounded-2xl zen-shadow-card border border-border overflow-hidden animate-scale-in",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl sm:text-4xl",children:o.icon}),jsxRuntimeExports.jsx("button",{onClick:()=>{markWelcomeSeen(),e()},className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground"})})]}),jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2",children:o.title}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:o.description})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 sm:px-6 pt-4 sm:pt-6 pb-4",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-1.5 sm:gap-2 mb-4 sm:mb-6",children:a.map((c,d)=>jsxRuntimeExports.jsx("div",{className:`h-1.5 sm:h-2 rounded-full transition-all duration-300 ${d===i?"w-6 sm:w-8 bg-primary":d<i?"w-1.5 sm:w-2 bg-primary/50":"w-1.5 sm:w-2 bg-border"}`},d))}),jsxRuntimeExports.jsxs("button",{onClick:l,className:"w-full py-2.5 sm:py-3 px-4 bg-primary text-primary-foreground rounded-lg sm:rounded-xl font-medium hover:bg-primary/90 transition-colors zen-shadow-sm flex items-center justify-center gap-2 text-sm sm:text-base",children:[i<a.length-1?r.onboardingNext||"Next":r.onboardingGetStarted||"Let's start!",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 sm:w-5 sm:h-5"})]})]})]})})}function DayProgressIndicator(){const{t:e}=useLanguage(),[r,i]=reactExports.useState(getUnlockProgress()),n=getOnboardingState();return!n.isNewUser||n.daysActive>=4?null:jsxRuntimeExports.jsxs("div",{className:"mb-3 sm:mb-4 p-3 sm:p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg sm:rounded-xl border border-border zen-shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm sm:text-base text-foreground",children:(e.onboardingDayProgress||"Day {day} of {maxDay}").replace("{day}",String(r.day)).replace("{maxDay}",String(r.maxDay))})]}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[r.unlockedCount,"/",r.totalCount," ",e.onboardingFeaturesUnlocked||"features"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-1.5 sm:h-2 bg-border rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${r.unlockedCount/r.totalCount*100}%`}})}),r.nextUnlock&&jsxRuntimeExports.jsxs("p",{className:"mt-1.5 sm:mt-2 text-[10px] sm:text-xs text-muted-foreground",children:[e.onboardingNextUnlock||"Next unlock",": ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:r.nextUnlock.requirement})]})]})}function OnboardingOverlay({onClose:e}){const[r,i]=reactExports.useState(shouldShowWelcome());return reactExports.useEffect(()=>{i(shouldShowWelcome())},[]),r?jsxRuntimeExports.jsx(WelcomeOverlay,{onClose:()=>{i(!1),e?.()}}):null}const FEATURE_META={mood:{icon:Heart,colorClass:"text-pink-500",bgClass:"bg-pink-50 dark:bg-pink-950"},habits:{icon:Target,colorClass:"text-blue-500",bgClass:"bg-blue-50 dark:bg-blue-950"},focusTimer:{icon:Timer,colorClass:"text-purple-500",bgClass:"bg-purple-50 dark:bg-purple-950"},xp:{icon:Sparkles,colorClass:"text-yellow-500",bgClass:"bg-yellow-50 dark:bg-yellow-950"},quests:{icon:Sparkles,colorClass:"text-yellow-500",bgClass:"bg-yellow-50 dark:bg-yellow-950"},companion:{icon:Heart,colorClass:"text-green-500",bgClass:"bg-green-50 dark:bg-green-950"},tasks:{icon:ListTodo,colorClass:"text-emerald-500",bgClass:"bg-emerald-50 dark:bg-emerald-950"},challenges:{icon:Trophy,colorClass:"text-primary",bgClass:"bg-primary/10"}};function FeatureUnlock({feature:e,onClose:r,onTryNow:i}){const{t:n}=useLanguage(),[a,o]=reactExports.useState(!1),[l,c]=reactExports.useState([]),d=FEATURE_META[e],p=d.icon;reactExports.useEffect(()=>{o(!0);const x=Array.from({length:20},(S,b)=>({id:b,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*.5}));c(x)},[]);const g=()=>{o(!1),setTimeout(r,300)},y=()=>{g(),i&&setTimeout(i,400)};return jsxRuntimeExports.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onClick:g,children:[l.map(x=>jsxRuntimeExports.jsx("div",{className:"absolute w-2 h-2 bg-yellow-400 rounded-full animate-ping opacity-75",style:{left:`${x.x}%`,top:`${x.y}%`,animationDelay:`${x.delay}s`,animationDuration:"2s"}},x.id)),jsxRuntimeExports.jsxs("div",{className:`relative m-4 max-w-md w-full bg-card rounded-2xl zen-shadow-card border border-border overflow-hidden transform transition-all duration-300 ${a?"scale-100 opacity-100":"scale-75 opacity-0"}`,onClick:x=>x.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:`p-6 ${d.bgClass} border-b border-border`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("div",{className:`p-4 rounded-full ${d.bgClass} ring-4 ring-white dark:ring-gray-900 mb-4 animate-bounce-slow`,children:jsxRuntimeExports.jsx(p,{className:`w-12 h-12 ${d.colorClass}`})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:n[`onboarding${e}UnlockTitle`]||" New Feature Unlocked!"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:n[`onboarding${e}UnlockSubtitle`]||"You've made great progress!"})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("p",{className:"text-foreground mb-6 leading-relaxed",children:n[`onboarding${e}Description`]||"This new feature will help you on your journey."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[i&&jsxRuntimeExports.jsx("button",{onClick:y,className:"flex-1 py-3 px-4 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors zen-shadow-sm",children:n.onboardingTryNow||"Try it now"}),jsxRuntimeExports.jsx("button",{onClick:g,className:"flex-1 py-3 px-4 bg-card border border-border text-foreground rounded-xl font-medium hover:bg-accent transition-colors",children:n.onboardingGotIt||"Got it!"})]})]}),jsxRuntimeExports.jsx("div",{className:`h-2 ${d.bgClass}`})]})]})}const style=document.createElement("style");style.textContent=`
  @keyframes bounce-slow {
    0%, 100% {
      transform: translateY(-10%);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }

  .animate-bounce-slow {
    animation: bounce-slow 2s infinite;
  }
`;document.head.appendChild(style);const COLOR_STYLES={primary:"bg-primary/10 text-primary border-primary/20",emerald:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",violet:"bg-violet-500/10 text-violet-600 dark:text-violet-400 border-violet-500/20",amber:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",pink:"bg-pink-500/10 text-pink-600 dark:text-pink-400 border-pink-500/20"};function StatCard({icon:e,value:r,label:i,color:n="primary",className:a}){return jsxRuntimeExports.jsxs("div",{className:cn("flex flex-col items-center justify-center p-3 rounded-xl border transition-all",COLOR_STYLES[n],a),children:[jsxRuntimeExports.jsx(e,{className:"w-5 h-5 mb-1 opacity-80"}),jsxRuntimeExports.jsx("span",{className:"text-lg font-bold leading-tight",children:r}),jsxRuntimeExports.jsx("span",{className:"text-[10px] uppercase tracking-wide opacity-70",children:i})]})}function QuickStatsRow({habitsCompleted:e,habitsTotal:r,focusMinutes:i,level:n,className:a,labels:o}){const l=c=>{if(c>=60){const d=Math.floor(c/60),p=c%60;return p>0?`${d}h${p}m`:`${d}h`}return`${c}m`};return jsxRuntimeExports.jsxs("div",{className:cn("grid grid-cols-3 gap-2",a),children:[jsxRuntimeExports.jsx(StatCard,{icon:Target,value:`${e}/${r}`,label:o.habits,color:"emerald"}),jsxRuntimeExports.jsx(StatCard,{icon:Timer,value:l(i),label:o.focus,color:"violet"}),jsxRuntimeExports.jsx(StatCard,{icon:Sparkles,value:n,label:o.level,color:"amber"})]})}const checkinPrompts=[{id:"c1",type:"checkin",duration:10,emoji:"",text:{en:"How do you feel right now?",ru:"     ?",uk:"     ?",de:"Wie fhlst du dich gerade?",es:"Cmo te sientes ahora mismo?",fr:"Comment te sens-tu maintenant?"}},{id:"c2",type:"checkin",duration:10,emoji:"",text:{en:"What's your energy level?",ru:"    ?",uk:"    ?",de:"Wie hoch ist dein Energielevel?",es:"Cul es tu nivel de energa?",fr:"Quel est ton niveau d'nergie?"}},{id:"c3",type:"checkin",duration:10,emoji:"",text:{en:"What's on your mind?",ru:"   ?",uk:"   ?",de:"Was beschftigt dich?",es:"Qu tienes en mente?",fr:"Qu'as-tu en tte?"}},{id:"c4",type:"checkin",duration:10,emoji:"",text:{en:"What's your focus right now?",ru:"    ?",uk:"    ?",de:"Worauf liegt gerade dein Fokus?",es:"Cul es tu enfoque ahora?",fr:"Quel est ton focus maintenant?"}},{id:"c5",type:"checkin",duration:10,emoji:"",text:{en:"What do you need right now?",ru:"   ?",uk:"   ?",de:"Was brauchst du gerade?",es:"Qu necesitas ahora mismo?",fr:"De quoi as-tu besoin maintenant?"}},{id:"c6",type:"checkin",duration:10,emoji:"",text:{en:"Are you present or distracted?",ru:"   ?",uk:"   ?",de:"Bist du prsent oder abgelenkt?",es:"Ests presente o distrado?",fr:"Es-tu prsent ou distrait?"}},{id:"c7",type:"checkin",duration:10,emoji:"",text:{en:"Take a moment to just be.",ru:"   .",uk:"   .",de:"Nimm dir einen Moment, um einfach zu sein.",es:"Tmate un momento para simplemente ser.",fr:"Prends un moment pour juste tre."}},{id:"c8",type:"checkin",duration:10,emoji:"",text:{en:"How's your mental clarity?",ru:"   ?",uk:"   ?",de:"Wie ist deine mentale Klarheit?",es:"Cmo est tu claridad mental?",fr:"Comment est ta clart mentale?"}}],breathingPrompts=[{id:"b1",type:"breathing",duration:30,emoji:"",text:{en:"Take 3 deep breaths.",ru:" 3  .",uk:" 3  .",de:"Nimm 3 tiefe Atemzge.",es:"Haz 3 respiraciones profundas.",fr:"Prends 3 grandes respirations."}},{id:"b2",type:"breathing",duration:30,emoji:"",text:{en:"Breathe in calm, breathe out tension.",ru:" ,  .",uk:" ,  .",de:"Atme Ruhe ein, atme Spannung aus.",es:"Inhala calma, exhala tensin.",fr:"Inspire le calme, expire la tension."}},{id:"b3",type:"breathing",duration:20,emoji:"",text:{en:"Slow inhale, long exhale.",ru:" ,  .",uk:" ,  .",de:"Langsam einatmen, lang ausatmen.",es:"Inhala lento, exhala largo.",fr:"Inspire lentement, expire longuement."}},{id:"b4",type:"breathing",duration:30,emoji:"",text:{en:"Box breathing: 4 in, 4 hold, 4 out, 4 hold.",ru:" : 4 , 4 , 4 , 4 .",uk:" : 4 , 4 , 4 , 4 .",de:"Box-Atmung: 4 ein, 4 halten, 4 aus, 4 halten.",es:"Respiracin cuadrada: 4 inhala, 4 sostn, 4 exhala, 4 sostn.",fr:"Respiration carre: 4 inspire, 4 retiens, 4 expire, 4 retiens."}},{id:"b5",type:"breathing",duration:15,emoji:"",text:{en:"Sigh it out. Release tension.",ru:"  .  .",uk:" .  .",de:"Seufz es aus. Lass Spannung los.",es:"Suspira. Libera la tensin.",fr:"Soupire. Libre la tension."}}],gratitudePrompts$1=[{id:"gr1",type:"gratitude",duration:15,emoji:"",text:{en:"Name one good thing about today.",ru:"      .",uk:"      .",de:"Nenne eine gute Sache ber heute.",es:"Nombra algo bueno de hoy.",fr:"Nomme une bonne chose d'aujourd'hui."}},{id:"gr2",type:"gratitude",duration:15,emoji:"",text:{en:"What made you smile recently?",ru:"    ?",uk:"    ?",de:"Was hat dich krzlich zum Lcheln gebracht?",es:"Qu te hizo sonrer recientemente?",fr:"Qu'est-ce qui t'a fait sourire rcemment?"}},{id:"gr3",type:"gratitude",duration:15,emoji:"",text:{en:"Think of someone you're grateful for.",ru:"  -,   .",uk:"  ,   .",de:"Denk an jemanden, fr den du dankbar bist.",es:"Piensa en alguien por quien ests agradecido.",fr:"Pense  quelqu'un pour qui tu es reconnaissant."}},{id:"gr4",type:"gratitude",duration:15,emoji:"",text:{en:"What small thing are you thankful for?",ru:"     ?",uk:"     ?",de:"Fr welche kleine Sache bist du dankbar?",es:"Por qu pequea cosa ests agradecido?",fr:"Pour quelle petite chose es-tu reconnaissant?"}},{id:"gr5",type:"gratitude",duration:15,emoji:"",text:{en:"What made today a little better?",ru:"    ?",uk:"    ?",de:"Was hat heute ein bisschen besser gemacht?",es:"Qu hizo el da un poco mejor?",fr:"Qu'est-ce qui a rendu aujourd'hui un peu mieux?"}}],bodyPrompts=[{id:"bo1",type:"body",duration:20,emoji:"",text:{en:"Relax your shoulders. Drop them.",ru:" .  .",uk:" .  .",de:"Entspanne deine Schultern. Lass sie sinken.",es:"Relaja los hombros. Djalos caer.",fr:"Dtends tes paules. Laisse-les tomber."}},{id:"bo2",type:"body",duration:20,emoji:"",text:{en:"Rest your eyes for a moment.",ru:"    .",uk:"    .",de:"Lass deine Augen einen Moment ruhen.",es:"Descansa los ojos un momento.",fr:"Repose tes yeux un instant."}},{id:"bo3",type:"body",duration:15,emoji:"",text:{en:"Unclench your jaw.",ru:" .",uk:" .",de:"Entspanne deinen Kiefer.",es:"Relaja la mandbula.",fr:"Dtends ta mchoire."}},{id:"bo4",type:"body",duration:20,emoji:"",text:{en:"Stretch your fingers and hands.",ru:"    .",uk:"    .",de:"Strecke deine Finger und Hnde.",es:"Estira tus dedos y manos.",fr:"tire tes doigts et tes mains."}},{id:"bo5",type:"body",duration:20,emoji:"",text:{en:"Notice your posture. Adjust if needed.",ru:"   . ,  .",uk:"   . ,  .",de:"Beachte deine Haltung. Korrigiere sie bei Bedarf.",es:"Nota tu postura. Ajstala si es necesario.",fr:"Observe ta posture. Ajuste-la si besoin."}},{id:"bo6",type:"body",duration:15,emoji:"",text:{en:"Gently roll your neck.",ru:"  .",uk:"'  .",de:"Rolle sanft deinen Nacken.",es:"Gira suavemente el cuello.",fr:"Fais rouler doucement ton cou."}}],affirmationPrompts=[{id:"af1",type:"affirmation",duration:10,emoji:"",text:{en:"You're doing better than you think.",ru:"  ,  .",uk:"  ,  .",de:"Du machst das besser, als du denkst.",es:"Lo ests haciendo mejor de lo que crees.",fr:"Tu fais mieux que tu ne le penses."}},{id:"af2",type:"affirmation",duration:10,emoji:"",text:{en:"Progress, not perfection.",ru:",   .",uk:",   .",de:"Fortschritt, nicht Perfektion.",es:"Progreso, no perfeccin.",fr:"Progrs, pas perfection."}},{id:"af3",type:"affirmation",duration:10,emoji:"",text:{en:"You deserve rest.",ru:"  .",uk:"   .",de:"Du verdienst Ruhe.",es:"Mereces descanso.",fr:"Tu mrites du repos."}},{id:"af4",type:"affirmation",duration:10,emoji:"",text:{en:"Small steps count.",ru:"  .",uk:"  .",de:"Kleine Schritte zhlen.",es:"Los pequeos pasos cuentan.",fr:"Les petits pas comptent."}},{id:"af5",type:"affirmation",duration:10,emoji:"",text:{en:"One thing at a time.",ru:"   .",uk:"   .",de:"Eins nach dem anderen.",es:"Una cosa a la vez.",fr:"Une chose  la fois."}},{id:"af6",type:"affirmation",duration:10,emoji:"",text:{en:"Be kind to yourself.",ru:"   .",uk:"   .",de:"Sei gut zu dir selbst.",es:"S amable contigo mismo.",fr:"Sois gentil avec toi-mme."}},{id:"af7",type:"affirmation",duration:10,emoji:"",text:{en:"You've got this.",ru:"  .",uk:"  .",de:"Du schaffst das.",es:"T puedes.",fr:"Tu peux le faire."}},{id:"af8",type:"affirmation",duration:10,emoji:"",text:{en:"Your effort matters.",ru:"  .",uk:"  .",de:"Deine Mhe zhlt.",es:"Tu esfuerzo importa.",fr:"Tes efforts comptent."}}],ALL_MINDFUL_PROMPTS=[...checkinPrompts,...breathingPrompts,...gratitudePrompts$1,...bodyPrompts,...affirmationPrompts],MINDFUL_TYPE_LABELS={checkin:{en:"Check-in",ru:"-",uk:"-",de:"Check-in",es:"Check-in",fr:"Check-in"},breathing:{en:"Breathe",ru:"",uk:"",de:"Atmen",es:"Respirar",fr:"Respirer"},gratitude:{en:"Gratitude",ru:"",uk:"",de:"Dankbarkeit",es:"Gratitud",fr:"Gratitude"},body:{en:"Body",ru:"",uk:"",de:"Krper",es:"Cuerpo",fr:"Corps"},affirmation:{en:"Affirmation",ru:"",uk:"",de:"Affirmation",es:"Afirmacin",fr:"Affirmation"}};function getRandomMindfulPrompt(e){const r=ALL_MINDFUL_PROMPTS;return r[Math.floor(Math.random()*r.length)]}function getMindfulPromptText(e,r){return e.text[r]||e.text.en}function getPostFocusPrompts(){return ALL_MINDFUL_PROMPTS.filter(e=>e.type==="breathing"||e.type==="body"||e.type==="affirmation")}function getRandomPostFocusPrompt(){const e=getPostFocusPrompts();return e[Math.floor(Math.random()*e.length)]}const QUICK_RESPONSES=[{emoji:"",labelKey:"moodGood"},{emoji:"",labelKey:"moodOkay"},{emoji:"",labelKey:"moodNotGreat"}];function MindfulMoment({isOpen:e,onClose:r,onComplete:i,trigger:n="manual",prompt:a}){const{language:o,t:l}=useLanguage(),[c,d]=reactExports.useState(null),[p,g]=reactExports.useState(0),[y,x]=reactExports.useState(!1);reactExports.useEffect(()=>{if(e){const k=a||(n==="focus"?getRandomPostFocusPrompt():getRandomMindfulPrompt());d(k),g(k.duration),x(!1)}},[e,a,n]),reactExports.useEffect(()=>{if(!e||p<=0)return;const k=setInterval(()=>{g(C=>C<=1?(x(!0),0):C-1)},1e3);return()=>clearInterval(k)},[e,p]);const S=reactExports.useCallback(()=>{i?.(),r()},[i,r]),b=reactExports.useCallback(()=>{r()},[r]);if(!e||!c)return null;const T=getMindfulPromptText(c,o),N=MINDFUL_TYPE_LABELS[c.type][o]||MINDFUL_TYPE_LABELS[c.type].en;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[70] p-4 animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"bg-card rounded-3xl p-6 w-full max-w-sm animate-scale-in shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-accent"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground text-lg",children:l.mindfulMoment||"Mindful Moment"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:N})]})]}),jsxRuntimeExports.jsx("button",{onClick:b,className:"p-2 hover:bg-secondary rounded-full transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[c.emoji&&jsxRuntimeExports.jsx("div",{className:"text-5xl mb-4 animate-pulse",children:c.emoji}),jsxRuntimeExports.jsx("p",{className:"text-xl font-medium text-foreground leading-relaxed",children:T})]}),y?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[c.type==="checkin"&&jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-3",children:QUICK_RESPONSES.map(k=>jsxRuntimeExports.jsxs("button",{onClick:S,className:"flex flex-col items-center gap-1 p-3 bg-secondary hover:bg-secondary/80 rounded-xl transition-colors min-w-[70px]",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:k.emoji}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:l[k.labelKey]||k.labelKey})]},k.labelKey))}),c.type!=="checkin"&&jsxRuntimeExports.jsxs("button",{onClick:S,className:"w-full py-3 zen-gradient text-primary-foreground rounded-xl font-semibold flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5"}),l.done||"Done"]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-20 h-20 mx-auto",children:[jsxRuntimeExports.jsxs("svg",{className:"w-20 h-20 -rotate-90",children:[jsxRuntimeExports.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"hsl(var(--secondary))",strokeWidth:"4",fill:"none"}),jsxRuntimeExports.jsx("circle",{cx:"40",cy:"40",r:"36",stroke:"hsl(var(--accent))",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*36}`,strokeDashoffset:`${2*Math.PI*36*(1-p/c.duration)}`,className:"transition-all duration-1000"})]}),jsxRuntimeExports.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-2xl font-bold text-foreground",children:p})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:l.takeAMoment||"Take a moment..."})]}),!y&&jsxRuntimeExports.jsx("button",{onClick:b,className:"w-full py-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:l.skip||"Skip"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-center text-muted-foreground mt-4",children:["+3 XP  +1 ",l.treat||"treat"]})]})})}const gratitudePrompts=[{id:"g1",category:"gratitude",text:{en:"What made you smile today?",ru:"    ?",uk:"    ?",de:"Was hat dich heute zum Lcheln gebracht?",es:"Qu te hizo sonrer hoy?",fr:"Qu'est-ce qui t'a fait sourire aujourd'hui?"}},{id:"g2",category:"gratitude",text:{en:"Name three small things you're thankful for.",ru:"   ,    .",uk:"   ,    .",de:"Nenne drei kleine Dinge, fr die du dankbar bist.",es:"Nombra tres cosas pequeas por las que ests agradecido.",fr:"Nomme trois petites choses pour lesquelles tu es reconnaissant."}},{id:"g3",category:"gratitude",text:{en:"Who helped you recently? How?",ru:"   ? ?",uk:"   ? ?",de:"Wer hat dir krzlich geholfen? Wie?",es:"Quin te ayud recientemente? Cmo?",fr:"Qui t'a aid rcemment? Comment?"}},{id:"g4",category:"gratitude",text:{en:"What's a comfort you often take for granted?",ru:"      ?",uk:"      ?",de:"Welchen Komfort nimmst du oft als selbstverstndlich hin?",es:"Qu comodidad a menudo das por sentada?",fr:"Quel confort prends-tu souvent pour acquis?"}},{id:"g5",category:"gratitude",text:{en:"What part of your body are you grateful for?",ru:"      ?",uk:"      ?",de:"Fr welchen Teil deines Krpers bist du dankbar?",es:"Por qu parte de tu cuerpo ests agradecido?",fr:"Pour quelle partie de ton corps es-tu reconnaissant?"}},{id:"g6",category:"gratitude",text:{en:"What technology makes your life easier?",ru:"    ?",uk:"    ?",de:"Welche Technologie macht dein Leben einfacher?",es:"Qu tecnologa hace tu vida ms fcil?",fr:"Quelle technologie te facilite la vie?"}},{id:"g7",category:"gratitude",text:{en:"What's your favorite thing about where you live?",ru:"      ,   ?",uk:"     ,   ?",de:"Was magst du am meisten an deinem Wohnort?",es:"Qu es lo que ms te gusta de donde vives?",fr:"Qu'est-ce que tu prfres dans l'endroit o tu vis?"}},{id:"g8",category:"gratitude",text:{en:"What food are you grateful to have access to?",ru:"    ?",uk:"    ?",de:"Fr welches Essen bist du dankbar?",es:"Por qu comida ests agradecido?",fr:"Pour quelle nourriture es-tu reconnaissant?"}},{id:"g9",category:"gratitude",text:{en:"What skill are you glad you have?",ru:"   ?",uk:"   ?",de:"ber welche Fhigkeit bist du froh?",es:"Qu habilidad te alegra tener?",fr:"De quelle comptence es-tu content?"}},{id:"g10",category:"gratitude",text:{en:"What memory makes you feel warm?",ru:"   ?",uk:"   ?",de:"Welche Erinnerung wrmt dein Herz?",es:"Qu recuerdo te hace sentir clido?",fr:"Quel souvenir te rchauffe le cur?"}},{id:"g11",category:"gratitude",text:{en:"What's something beautiful you saw today?",ru:"    ?",uk:"    ?",de:"Was Schnes hast du heute gesehen?",es:"Qu cosa hermosa viste hoy?",fr:"Quelle belle chose as-tu vue aujourd'hui?"}},{id:"g12",category:"gratitude",text:{en:"What opportunity are you grateful for?",ru:"    ?",uk:"    ?",de:"Fr welche Gelegenheit bist du dankbar?",es:"Por qu oportunidad ests agradecido?",fr:"Pour quelle opportunit es-tu reconnaissant?"}},{id:"g13",category:"gratitude",text:{en:"What made today better than yesterday?",ru:"     ?",uk:"      ?",de:"Was hat heute besser gemacht als gestern?",es:"Qu hizo hoy mejor que ayer?",fr:"Qu'est-ce qui a rendu aujourd'hui meilleur qu'hier?"}},{id:"g14",category:"gratitude",text:{en:"Who would you like to thank today?",ru:"     ?",uk:"     ?",de:"Wem mchtest du heute danken?",es:"A quin te gustara agradecer hoy?",fr:"Qui voudrais-tu remercier aujourd'hui?"}},{id:"g15",category:"gratitude",text:{en:"What's a lesson you're grateful to have learned?",ru:"    ?",uk:"    ?",de:"Fr welche Lektion bist du dankbar?",es:"Por qu leccin ests agradecido?",fr:"Pour quelle leon es-tu reconnaissant?"}},{id:"g16",category:"gratitude",text:{en:"What in nature inspires gratitude?",ru:"    ?",uk:"    ?",de:"Was in der Natur inspiriert Dankbarkeit?",es:"Qu en la naturaleza inspira gratitud?",fr:"Qu'est-ce qui dans la nature inspire la gratitude?"}},{id:"g17",category:"gratitude",text:{en:"What challenge made you stronger?",ru:"    ?",uk:"    ?",de:"Welche Herausforderung hat dich strker gemacht?",es:"Qu desafo te hizo ms fuerte?",fr:"Quel dfi t'a rendu plus fort?"}},{id:"g18",category:"gratitude",text:{en:"What freedom do you appreciate?",ru:"   ?",uk:"   ?",de:"Welche Freiheit schtzt du?",es:"Qu libertad aprecias?",fr:"Quelle libert apprcies-tu?"}},{id:"g19",category:"gratitude",text:{en:"What simple pleasure brought you joy?",ru:"     ?",uk:"     ?",de:"Welches einfache Vergngen hat dir Freude bereitet?",es:"Qu placer simple te trajo alegra?",fr:"Quel plaisir simple t'a apport de la joie?"}},{id:"g20",category:"gratitude",text:{en:"What are you looking forward to?",ru:"    ?",uk:"    ?",de:"Worauf freust du dich?",es:"Qu esperas con ilusin?",fr:"Qu'est-ce que tu attends avec impatience?"}}],reflectionPrompts=[{id:"r1",category:"reflection",text:{en:"What did you learn about yourself today?",ru:"     ?",uk:"     ?",de:"Was hast du heute ber dich gelernt?",es:"Qu aprendiste de ti mismo hoy?",fr:"Qu'as-tu appris sur toi-mme aujourd'hui?"}},{id:"r2",category:"reflection",text:{en:"What would you do differently next time?",ru:"       ?",uk:"      ?",de:"Was wrdest du beim nchsten Mal anders machen?",es:"Qu haras diferente la prxima vez?",fr:"Que ferais-tu diffremment la prochaine fois?"}},{id:"r3",category:"reflection",text:{en:"What made you proud today?",ru:"   ?",uk:"   ?",de:"Worauf warst du heute stolz?",es:"De qu estuviste orgulloso hoy?",fr:"De quoi as-tu t fier aujourd'hui?"}},{id:"r4",category:"reflection",text:{en:"What's one thing you want to improve?",ru:"   ?",uk:"   ?",de:"Was mchtest du verbessern?",es:"Qu quieres mejorar?",fr:"Que veux-tu amliorer?"}},{id:"r5",category:"reflection",text:{en:"How did you take care of yourself today?",ru:"     ?",uk:"     ?",de:"Wie hast du heute fr dich gesorgt?",es:"Cmo cuidaste de ti mismo hoy?",fr:"Comment as-tu pris soin de toi aujourd'hui?"}},{id:"r6",category:"reflection",text:{en:"What boundary did you set or need to set?",ru:"      ?",uk:"      ?",de:"Welche Grenze hast du gesetzt oder musst du setzen?",es:"Qu lmite estableciste o necesitas establecer?",fr:"Quelle limite as-tu pose ou dois-tu poser?"}},{id:"r7",category:"reflection",text:{en:"What energized you today?",ru:"    ?",uk:"    ?",de:"Was hat dir heute Energie gegeben?",es:"Qu te dio energa hoy?",fr:"Qu'est-ce qui t'a donn de l'nergie aujourd'hui?"}},{id:"r8",category:"reflection",text:{en:"What drained your energy?",ru:"   ?",uk:"   ?",de:"Was hat deine Energie geraubt?",es:"Qu te quit energa?",fr:"Qu'est-ce qui a vid ton nergie?"}},{id:"r9",category:"reflection",text:{en:"What did you avoid today? Why?",ru:"   ? ?",uk:"   ? ?",de:"Was hast du heute vermieden? Warum?",es:"Qu evitaste hoy? Por qu?",fr:"Qu'as-tu vit aujourd'hui? Pourquoi?"}},{id:"r10",category:"reflection",text:{en:"What surprised you about yourself?",ru:"    ?",uk:"    ?",de:"Was hat dich an dir selbst berrascht?",es:"Qu te sorprendi de ti mismo?",fr:"Qu'est-ce qui t'a surpris chez toi?"}},{id:"r11",category:"reflection",text:{en:"How did you show kindness today?",ru:"    ?",uk:"    ?",de:"Wie hast du heute Freundlichkeit gezeigt?",es:"Cmo mostraste amabilidad hoy?",fr:"Comment as-tu fait preuve de gentillesse aujourd'hui?"}},{id:"r12",category:"reflection",text:{en:"What pattern do you notice in your week?",ru:"      ?",uk:"     ?",de:"Welches Muster bemerkst du in deiner Woche?",es:"Qu patrn notas en tu semana?",fr:"Quel schma remarques-tu dans ta semaine?"}},{id:"r13",category:"reflection",text:{en:"What conversation stuck with you?",ru:"   ?",uk:"  ' ?",de:"Welches Gesprch ist dir im Gedchtnis geblieben?",es:"Qu conversacin te qued grabada?",fr:"Quelle conversation t'est reste en mmoire?"}},{id:"r14",category:"reflection",text:{en:"When did you feel most like yourself?",ru:"     ?",uk:"     ?",de:"Wann hast du dich am meisten wie du selbst gefhlt?",es:"Cundo te sentiste ms t mismo?",fr:"Quand t'es-tu senti le plus toi-mme?"}},{id:"r15",category:"reflection",text:{en:"What would your younger self think of you now?",ru:'    ""    ?',uk:'    ""    ?',de:"Was wrde dein jngeres Ich von dir heute denken?",es:"Qu pensara tu yo ms joven de ti ahora?",fr:"Que penserait ton jeune toi de toi maintenant?"}},{id:"r16",category:"reflection",text:{en:"What are you holding onto that you should let go?",ru:"   ,   ?",uk:"   ,   ?",de:"Woran hltst du fest, das du loslassen solltest?",es:"A qu te aferras que deberas soltar?",fr:" quoi t'accroches-tu que tu devrais lcher?"}},{id:"r17",category:"reflection",text:{en:"What made you laugh today?",ru:"    ?",uk:"    ?",de:"Was hat dich heute zum Lachen gebracht?",es:"Qu te hizo rer hoy?",fr:"Qu'est-ce qui t'a fait rire aujourd'hui?"}},{id:"r18",category:"reflection",text:{en:"What do you need more of in your life?",ru:"     ?",uk:"     ?",de:"Was brauchst du mehr in deinem Leben?",es:"Qu necesitas ms en tu vida?",fr:"De quoi as-tu besoin de plus dans ta vie?"}},{id:"r19",category:"reflection",text:{en:"What do you need less of?",ru:"   ?",uk:"   ?",de:"Was brauchst du weniger?",es:"Qu necesitas menos?",fr:"De quoi as-tu besoin de moins?"}},{id:"r20",category:"reflection",text:{en:"What small win can you celebrate?",ru:"     ?",uk:"     ?",de:"Welchen kleinen Sieg kannst du feiern?",es:"Qu pequea victoria puedes celebrar?",fr:"Quelle petite victoire peux-tu clbrer?"}}],emotionsPrompts=[{id:"e1",category:"emotions",text:{en:"What emotion was strongest today?",ru:"     ?",uk:"    ?",de:"Welche Emotion war heute am strksten?",es:"Qu emocin fue la ms fuerte hoy?",fr:"Quelle motion a t la plus forte aujourd'hui?"}},{id:"e2",category:"emotions",text:{en:"Where in your body do you feel stress?",ru:"     ?",uk:"     ?",de:"Wo in deinem Krper sprst du Stress?",es:"Dnde en tu cuerpo sientes estrs?",fr:"O dans ton corps ressens-tu le stress?"}},{id:"e3",category:"emotions",text:{en:"What triggered anxiety today?",ru:"   ?",uk:"   ?",de:"Was hat heute Angst ausgelst?",es:"Qu desencaden ansiedad hoy?",fr:"Qu'est-ce qui a dclench l'anxit aujourd'hui?"}},{id:"e4",category:"emotions",text:{en:"What brought you peace today?",ru:"    ?",uk:"    ?",de:"Was hat dir heute Frieden gebracht?",es:"Qu te trajo paz hoy?",fr:"Qu'est-ce qui t'a apport la paix aujourd'hui?"}},{id:"e5",category:"emotions",text:{en:"What fear came up today?",ru:"   ?",uk:"  ' ?",de:"Welche Angst kam heute hoch?",es:"Qu miedo surgi hoy?",fr:"Quelle peur est apparue aujourd'hui?"}},{id:"e6",category:"emotions",text:{en:"What made you feel loved?",ru:"     ?",uk:"     ?",de:"Was hat dir das Gefhl gegeben, geliebt zu werden?",es:"Qu te hizo sentir amado?",fr:"Qu'est-ce qui t'a fait te sentir aim?"}},{id:"e7",category:"emotions",text:{en:"What frustration do you need to release?",ru:"    ?",uk:"    ?",de:"Welche Frustration musst du loslassen?",es:"Qu frustracin necesitas liberar?",fr:"Quelle frustration dois-tu librer?"}},{id:"e8",category:"emotions",text:{en:"What emotion are you avoiding?",ru:"   ?",uk:"   ?",de:"Welche Emotion vermeidest du?",es:"Qu emocin ests evitando?",fr:"Quelle motion vites-tu?"}},{id:"e9",category:"emotions",text:{en:"How would you describe your mood in one word?",ru:"       ?",uk:"       ?",de:"Wie wrdest du deine Stimmung mit einem Wort beschreiben?",es:"Cmo describiras tu estado de nimo en una palabra?",fr:"Comment dcrirais-tu ton humeur en un mot?"}},{id:"e10",category:"emotions",text:{en:"What do you need to feel better right now?",ru:"  ,    ?",uk:"  ,   ?",de:"Was brauchst du, um dich jetzt besser zu fhlen?",es:"Qu necesitas para sentirte mejor ahora?",fr:"De quoi as-tu besoin pour te sentir mieux maintenant?"}},{id:"e11",category:"emotions",text:{en:"What would comfort your inner child?",ru:"     ?",uk:"     ?",de:"Was wrde dein inneres Kind trsten?",es:"Qu consolara a tu nio interior?",fr:"Qu'est-ce qui rconforterait ton enfant intrieur?"}},{id:"e12",category:"emotions",text:{en:"What emotion surprised you today?",ru:"    ?",uk:"    ?",de:"Welche Emotion hat dich heute berrascht?",es:"Qu emocin te sorprendi hoy?",fr:"Quelle motion t'a surpris aujourd'hui?"}},{id:"e13",category:"emotions",text:{en:"What helps you when you feel overwhelmed?",ru:"  ,     ?",uk:"  ,     ?",de:"Was hilft dir, wenn du dich berfordert fhlst?",es:"Qu te ayuda cuando te sientes abrumado?",fr:"Qu'est-ce qui t'aide quand tu te sens submerg?"}},{id:"e14",category:"emotions",text:{en:"What made you feel confident?",ru:"    ?",uk:"    ?",de:"Was hat dir Selbstvertrauen gegeben?",es:"Qu te hizo sentir confiado?",fr:"Qu'est-ce qui t'a donn confiance?"}},{id:"e15",category:"emotions",text:{en:"What emotion do you want to feel more often?",ru:"     ?",uk:"     ?",de:"Welche Emotion mchtest du fter fhlen?",es:"Qu emocin quieres sentir ms a menudo?",fr:"Quelle motion veux-tu ressentir plus souvent?"}}],goalsPrompts=[{id:"go1",category:"goals",text:{en:"What small step did you take toward a goal?",ru:"      ?",uk:"      ?",de:"Welchen kleinen Schritt hast du auf ein Ziel hin gemacht?",es:"Qu pequeo paso diste hacia una meta?",fr:"Quel petit pas as-tu fait vers un objectif?"}},{id:"go2",category:"goals",text:{en:"What dream feels closer today?",ru:"    ?",uk:"    ?",de:"Welcher Traum fhlt sich heute nher an?",es:"Qu sueo se siente ms cercano hoy?",fr:"Quel rve semble plus proche aujourd'hui?"}},{id:"go3",category:"goals",text:{en:"What's blocking your progress?",ru:"   ?",uk:"   ?",de:"Was blockiert deinen Fortschritt?",es:"Qu est bloqueando tu progreso?",fr:"Qu'est-ce qui bloque ta progression?"}},{id:"go4",category:"goals",text:{en:"What habit is helping you most?",ru:"     ?",uk:"    ?",de:"Welche Gewohnheit hilft dir am meisten?",es:"Qu hbito te ayuda ms?",fr:"Quelle habitude t'aide le plus?"}},{id:"go5",category:"goals",text:{en:"What would your ideal tomorrow look like?",ru:"      ?",uk:"      ?",de:"Wie wrde dein idealer morgiger Tag aussehen?",es:"Cmo sera tu maana ideal?",fr:" quoi ressemblerait ton demain idal?"}},{id:"go6",category:"goals",text:{en:"What's the next right thing to do?",ru:"    ?",uk:"    ?",de:"Was ist das Nchste, was zu tun ist?",es:"Cul es lo siguiente correcto que hacer?",fr:"Quelle est la prochaine bonne chose  faire?"}},{id:"go7",category:"goals",text:{en:"What do you want to accomplish this week?",ru:"      ?",uk:"     ?",de:"Was mchtest du diese Woche erreichen?",es:"Qu quieres lograr esta semana?",fr:"Que veux-tu accomplir cette semaine?"}},{id:"go8",category:"goals",text:{en:"What would make today a success?",ru:"     ?",uk:"     ?",de:"Was wrde heute zu einem Erfolg machen?",es:"Qu hara de hoy un xito?",fr:"Qu'est-ce qui ferait d'aujourd'hui un succs?"}},{id:"go9",category:"goals",text:{en:"What fear is holding you back from your goal?",ru:"     ?",uk:"     ?",de:"Welche Angst hlt dich von deinem Ziel ab?",es:"Qu miedo te impide alcanzar tu meta?",fr:"Quelle peur te retient d'atteindre ton objectif?"}},{id:"go10",category:"goals",text:{en:"What skill do you want to develop?",ru:"    ?",uk:"    ?",de:"Welche Fhigkeit mchtest du entwickeln?",es:"Qu habilidad quieres desarrollar?",fr:"Quelle comptence veux-tu dvelopper?"}},{id:"go11",category:"goals",text:{en:"What would your future self thank you for?",ru:'   ""  ?',uk:'   ""  ?',de:"Wofr wrde dein zuknftiges Ich dir danken?",es:"Por qu te agradecera tu yo futuro?",fr:"Pour quoi ton futur toi te remercierait-il?"}},{id:"go12",category:"goals",text:{en:"What's one tiny thing you can do right now?",ru:"       ?",uk:"       ?",de:"Was ist eine winzige Sache, die du jetzt tun kannst?",es:"Qu pequea cosa puedes hacer ahora mismo?",fr:"Quelle petite chose peux-tu faire maintenant?"}},{id:"go13",category:"goals",text:{en:"What progress did you make today, even small?",ru:"    ,   ?",uk:"    ,   ?",de:"Welchen Fortschritt hast du heute gemacht, auch wenn er klein ist?",es:"Qu progreso hiciste hoy, aunque sea pequeo?",fr:"Quel progrs as-tu fait aujourd'hui, mme petit?"}},{id:"go14",category:"goals",text:{en:"What's working well for you?",ru:"    ?",uk:"    ?",de:"Was funktioniert gut fr dich?",es:"Qu te est funcionando bien?",fr:"Qu'est-ce qui fonctionne bien pour toi?"}},{id:"go15",category:"goals",text:{en:"What's not working that you should change?",ru:"  ,   ?",uk:"  ,   ?",de:"Was funktioniert nicht, das du ndern solltest?",es:"Qu no funciona que deberas cambiar?",fr:"Qu'est-ce qui ne fonctionne pas que tu devrais changer?"}}],relationshipsPrompts=[{id:"re1",category:"relationships",text:{en:"Who made your day better today?",ru:"     ?",uk:"     ?",de:"Wer hat deinen Tag heute besser gemacht?",es:"Quin mejor tu da hoy?",fr:"Qui a rendu ta journe meilleure aujourd'hui?"}},{id:"re2",category:"relationships",text:{en:"Who do you want to spend more time with?",ru:"      ?",uk:"      ?",de:"Mit wem mchtest du mehr Zeit verbringen?",es:"Con quin quieres pasar ms tiempo?",fr:"Avec qui veux-tu passer plus de temps?"}},{id:"re3",category:"relationships",text:{en:"What quality do you admire in someone close?",ru:"      ?",uk:"      ?",de:"Welche Eigenschaft bewunderst du bei einer nahestehenden Person?",es:"Qu cualidad admiras en alguien cercano?",fr:"Quelle qualit admires-tu chez quelqu'un de proche?"}},{id:"re4",category:"relationships",text:{en:"Who needs your support right now?",ru:"    ?",uk:"    ?",de:"Wer braucht gerade deine Untersttzung?",es:"Quin necesita tu apoyo ahora mismo?",fr:"Qui a besoin de ton soutien en ce moment?"}},{id:"re5",category:"relationships",text:{en:"What conversation do you need to have?",ru:"    ?",uk:"    ?",de:"Welches Gesprch musst du fhren?",es:"Qu conversacin necesitas tener?",fr:"Quelle conversation dois-tu avoir?"}},{id:"re6",category:"relationships",text:{en:"How can you show appreciation to someone?",ru:"     -?",uk:"     ?",de:"Wie kannst du jemandem Wertschtzung zeigen?",es:"Cmo puedes mostrar aprecio a alguien?",fr:"Comment peux-tu montrer ta reconnaissance  quelqu'un?"}},{id:"re7",category:"relationships",text:{en:"What boundary do you need in a relationship?",ru:"     ?",uk:"     ?",de:"Welche Grenze brauchst du in einer Beziehung?",es:"Qu lmite necesitas en una relacin?",fr:"Quelle limite as-tu besoin dans une relation?"}},{id:"re8",category:"relationships",text:{en:"Who inspires you and why?",ru:"    ?",uk:"    ?",de:"Wer inspiriert dich und warum?",es:"Quin te inspira y por qu?",fr:"Qui t'inspire et pourquoi?"}},{id:"re9",category:"relationships",text:{en:"What do you miss about someone?",ru:"     -?",uk:"     ?",de:"Was vermisst du an jemandem?",es:"Qu extraas de alguien?",fr:"Qu'est-ce qui te manque chez quelqu'un?"}},{id:"re10",category:"relationships",text:{en:"How can you be a better friend?",ru:"     ?",uk:"     ?",de:"Wie kannst du ein besserer Freund sein?",es:"Cmo puedes ser un mejor amigo?",fr:"Comment peux-tu tre un meilleur ami?"}},{id:"re11",category:"relationships",text:{en:"What do you value most in your relationships?",ru:"      ?",uk:"     ?",de:"Was schtzt du am meisten an deinen Beziehungen?",es:"Qu valoras ms en tus relaciones?",fr:"Qu'est-ce que tu apprcies le plus dans tes relations?"}},{id:"re12",category:"relationships",text:{en:"Who do you need to forgive?",ru:"   ?",uk:"   ?",de:"Wem musst du vergeben?",es:"A quin necesitas perdonar?",fr:" qui dois-tu pardonner?"}},{id:"re13",category:"relationships",text:{en:"What quality do you bring to relationships?",ru:"     ?",uk:"     ?",de:"Welche Eigenschaft bringst du in Beziehungen ein?",es:"Qu cualidad aportas a las relaciones?",fr:"Quelle qualit apportes-tu dans les relations?"}},{id:"re14",category:"relationships",text:{en:'Who needs to hear "I love you" from you?',ru:'   "  "  ?',uk:'   "  "  ?',de:'Wer muss "Ich liebe dich" von dir hren?',es:'Quin necesita escuchar "Te quiero" de ti?',fr:`Qui a besoin d'entendre "Je t'aime" de ta part?`}},{id:"re15",category:"relationships",text:{en:"What made you feel connected to someone today?",ru:"      - ?",uk:"    '   ?",de:"Was hat dich heute mit jemandem verbunden fhlen lassen?",es:"Qu te hizo sentir conectado con alguien hoy?",fr:"Qu'est-ce qui t'a fait te sentir connect  quelqu'un aujourd'hui?"}}],adhdPrompts=[{id:"a1",category:"adhd",text:{en:"What helped you focus today?",ru:"    ?",uk:"    ?",de:"Was hat dir heute geholfen, dich zu konzentrieren?",es:"Qu te ayud a concentrarte hoy?",fr:"Qu'est-ce qui t'a aid  te concentrer aujourd'hui?"}},{id:"a2",category:"adhd",text:{en:"What distracted you the most?",ru:"    ?",uk:"   ?",de:"Was hat dich am meisten abgelenkt?",es:"Qu te distrajo ms?",fr:"Qu'est-ce qui t'a le plus distrait?"}},{id:"a3",category:"adhd",text:{en:"What time of day were you most productive?",ru:"       ?",uk:"       ?",de:"Zu welcher Tageszeit warst du am produktivsten?",es:"A qu hora del da fuiste ms productivo?",fr:" quelle heure de la journe tais-tu le plus productif?"}},{id:"a4",category:"adhd",text:{en:"What task did you keep avoiding?",ru:"    ?",uk:"    ?",de:"Welche Aufgabe hast du immer wieder vermieden?",es:"Qu tarea seguiste evitando?",fr:"Quelle tche as-tu continu  viter?"}},{id:"a5",category:"adhd",text:{en:"What helped you start a difficult task?",ru:"     ?",uk:"     ?",de:"Was hat dir geholfen, eine schwierige Aufgabe zu beginnen?",es:"Qu te ayud a empezar una tarea difcil?",fr:"Qu'est-ce qui t'a aid  commencer une tche difficile?"}},{id:"a6",category:"adhd",text:{en:"How did you manage overwhelm today?",ru:"     ?",uk:"     ?",de:"Wie hast du heute berforderung bewltigt?",es:"Cmo manejaste el agobio hoy?",fr:"Comment as-tu gr le dbordement aujourd'hui?"}},{id:"a7",category:"adhd",text:{en:"What routine worked well today?",ru:"    ?",uk:"    ?",de:"Welche Routine hat heute gut funktioniert?",es:"Qu rutina funcion bien hoy?",fr:"Quelle routine a bien fonctionn aujourd'hui?"}},{id:"a8",category:"adhd",text:{en:"What helped calm your racing thoughts?",ru:"    ?",uk:"    ?",de:"Was hat geholfen, deine rasenden Gedanken zu beruhigen?",es:"Qu ayud a calmar tus pensamientos acelerados?",fr:"Qu'est-ce qui a aid  calmer tes penses qui dfilent?"}},{id:"a9",category:"adhd",text:{en:'What "hack" made life easier today?',ru:' ""   ?',uk:' ""   ?',de:'Welcher "Hack" hat das Leben heute einfacher gemacht?',es:'Qu "truco" te facilit la vida hoy?',fr:`Quelle "astuce" t'a facilit la vie aujourd'hui?`}},{id:"a10",category:"adhd",text:{en:"Did you hyperfocus on anything? Was it useful?",ru:"   -?   ?",uk:"   ?   ?",de:"Hast du dich auf etwas hyperfokussiert? War es ntzlich?",es:"Te hiperconcentraste en algo? Fue til?",fr:"As-tu hyperfocalis sur quelque chose? C'tait utile?"}},{id:"a11",category:"adhd",text:{en:"What broke your flow state?",ru:"    ?",uk:"    ?",de:"Was hat deinen Flow-Zustand unterbrochen?",es:"Qu rompi tu estado de flujo?",fr:"Qu'est-ce qui a cass ton tat de flow?"}},{id:"a12",category:"adhd",text:{en:"How was your energy throughout the day?",ru:"      ?",uk:"     ?",de:"Wie war deine Energie im Laufe des Tages?",es:"Cmo fue tu energa a lo largo del da?",fr:"Comment tait ton nergie tout au long de la journe?"}},{id:"a13",category:"adhd",text:{en:"What reminder or alarm was most helpful?",ru:"    ?",uk:"   ?",de:"Welche Erinnerung war am hilfreichsten?",es:"Qu recordatorio fue ms til?",fr:"Quel rappel a t le plus utile?"}},{id:"a14",category:"adhd",text:{en:"Did you take any breaks? How did they help?",ru:"  ?   ?",uk:"  ?   ?",de:"Hast du Pausen gemacht? Wie haben sie geholfen?",es:"Tomaste descansos? Cmo ayudaron?",fr:"As-tu pris des pauses? Comment ont-elles aid?"}},{id:"a15",category:"adhd",text:{en:'What "boring" task did you make fun?',ru:' ""    ?',uk:' ""    ?',de:'Welche "langweilige" Aufgabe hast du unterhaltsam gemacht?',es:'Qu tarea "aburrida" hiciste divertida?',fr:'Quelle tche "ennuyeuse" as-tu rendue amusante?'}},{id:"a16",category:"adhd",text:{en:"What do you need to forgive yourself for?",ru:"     ?",uk:"     ?",de:"Wofr musst du dir selbst vergeben?",es:"Por qu necesitas perdonarte?",fr:"Pour quoi dois-tu te pardonner?"}},{id:"a17",category:"adhd",text:{en:"What ADHD superpower did you use today?",ru:" -   ?",uk:" -   ?",de:"Welche ADHS-Superkraft hast du heute genutzt?",es:"Qu superpoder TDAH usaste hoy?",fr:"Quel superpouvoir TDAH as-tu utilis aujourd'hui?"}},{id:"a18",category:"adhd",text:{en:"What new idea excited you today?",ru:"     ?",uk:"     ?",de:"Welche neue Idee hat dich heute begeistert?",es:"Qu nueva idea te emocion hoy?",fr:"Quelle nouvelle ide t'a enthousiasm aujourd'hui?"}},{id:"a19",category:"adhd",text:{en:"How did you handle time blindness today?",ru:'    " " ?',uk:'    " " ?',de:"Wie bist du heute mit Zeitblindheit umgegangen?",es:"Cmo manejaste la ceguera temporal hoy?",fr:"Comment as-tu gr la ccit temporelle aujourd'hui?"}},{id:"a20",category:"adhd",text:{en:"What transition was hardest today?",ru:"     ?",uk:"    ?",de:"Welcher bergang war heute am schwierigsten?",es:"Qu transicin fue la ms difcil hoy?",fr:"Quelle transition a t la plus difficile aujourd'hui?"}}],ALL_PROMPTS=[...gratitudePrompts,...reflectionPrompts,...emotionsPrompts,...goalsPrompts,...relationshipsPrompts,...adhdPrompts],CATEGORY_LABELS={gratitude:{en:"Gratitude",ru:"",uk:"",de:"Dankbarkeit",es:"Gratitud",fr:"Gratitude"},reflection:{en:"Reflection",ru:"",uk:"",de:"Reflexion",es:"Reflexin",fr:"Rflexion"},emotions:{en:"Emotions",ru:"",uk:"",de:"Emotionen",es:"Emociones",fr:"motions"},goals:{en:"Goals",ru:"",uk:"",de:"Ziele",es:"Metas",fr:"Objectifs"},relationships:{en:"Relationships",ru:"",uk:"",de:"Beziehungen",es:"Relaciones",fr:"Relations"},adhd:{en:"ADHD",ru:"",uk:"",de:"ADHS",es:"TDAH",fr:"TDAH"}};function getPromptsByCategory(e){return ALL_PROMPTS.filter(r=>r.category===e)}function getRandomPrompt(e){const r=e?getPromptsByCategory(e):ALL_PROMPTS;return r[Math.floor(Math.random()*r.length)]}function getDailyPrompt(e=new Date().toISOString().split("T")[0]){let r=0;for(let n=0;n<e.length;n++){const a=e.charCodeAt(n);r=(r<<5)-r+a,r=r&r}const i=Math.abs(r)%ALL_PROMPTS.length;return ALL_PROMPTS[i]}function getPromptText(e,r){return e.text[r]||e.text.en}function DailyPromptCard({onUsePrompt:e,className:r}){const{language:i,t:n}=useLanguage(),[a,o]=reactExports.useState(()=>getDailyPrompt()),[l,c]=reactExports.useState(!1),d=reactExports.useCallback(()=>{hapticTap(),o(getRandomPrompt()),c(!0)},[]),p=reactExports.useCallback(()=>{hapticTap();const x=getPromptText(a,i);e(x)},[a,i,e]),g=getPromptText(a,i),y=CATEGORY_LABELS[a.category][i]||CATEGORY_LABELS[a.category].en;return jsxRuntimeExports.jsxs("div",{className:cn("bg-card rounded-2xl zen-shadow-card border border-border overflow-hidden",r),children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-500/10 to-orange-500/10 border-b border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lightbulb,{className:"w-5 h-5 text-amber-500"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:n.dailyPrompt||"Daily Prompt"})]}),jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-0.5 bg-amber-500/20 text-amber-600 dark:text-amber-400 rounded-full font-medium",children:y})]})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-foreground text-base leading-relaxed mb-4 min-h-[48px]",children:['"',g,'"']}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:p,className:cn("flex-1 py-2.5 px-4 rounded-xl font-medium text-sm transition-all","bg-amber-500/20 text-amber-600 dark:text-amber-400","hover:bg-amber-500/30 active:scale-[0.98]","flex items-center justify-center gap-2"),children:[jsxRuntimeExports.jsx(PenLine,{className:"w-4 h-4"}),n.usePrompt||"Use this prompt"]}),jsxRuntimeExports.jsx("button",{onClick:d,className:cn("p-2.5 rounded-xl transition-all","bg-secondary hover:bg-muted active:scale-[0.98]",l&&"animate-spin-once"),"aria-label":n.shufflePrompt||"Get another prompt",children:jsxRuntimeExports.jsx(Shuffle,{className:"w-4 h-4"})})]})]})]})}function WelcomeBackModal({daysAway:e,streakBroken:r,currentStreak:i,topHabits:n,onClose:a,onQuickMoodLog:o}){const{t:l}=useLanguage(),[c,d]=reactExports.useState(null),p=[{emoji:"",value:"great",label:l.moodGreat||"Great"},{emoji:"",value:"good",label:l.moodGood||"Good"},{emoji:"",value:"okay",label:l.moodOkay||"Okay"},{emoji:"",value:"bad",label:l.moodBad||"Bad"},{emoji:"",value:"terrible",label:l.moodTerrible||"Terrible"}],g=x=>{d(x),o&&o(x)},y=()=>{a()};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in",children:jsxRuntimeExports.jsxs("div",{className:"relative m-4 max-w-lg w-full bg-card rounded-2xl zen-shadow-card border border-border overflow-hidden animate-scale-in",children:[jsxRuntimeExports.jsx("div",{className:"p-6 bg-gradient-to-r from-primary/10 to-primary/5 border-b border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-primary/20 rounded-full",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-primary"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:[l.reengageTitle||"Welcome Back!"," "]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:(l.reengageSubtitle||"You've been away for {days} days").replace("{days}",String(e))})]})]}),jsxRuntimeExports.jsx("button",{onClick:a,className:"p-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-muted-foreground"})})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:`p-4 rounded-xl border ${r?"bg-orange-50 dark:bg-orange-950/30 border-orange-200 dark:border-orange-800":"bg-green-50 dark:bg-green-950/30 border-green-200 dark:border-green-800"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx(Calendar,{className:`w-5 h-5 ${r?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:r?l.reengageStreakBroken||"Streak Status":l.reengageStreakProtected||"Streak Protected!"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:r?(l.reengageStreakBrokenMsg||"Your streak was reset, but you can start fresh today! Previous streak: {streak} days.").replace("{streak}",String(i)):(l.reengageStreakProtectedMsg||"Your {streak}-day streak is safe! Keep going!").replace("{streak}",String(i))})]}),n.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-primary"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:l.reengageBestHabits||"Your Best Habits"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:n.slice(0,3).map(({habit:x,successRate:S})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 bg-accent rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:x.icon}),jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:x.name})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-primary",children:[Math.round(S),"% ",l.reengageSuccessRate||"success"]})]},x.id))})]}),o&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(Heart,{className:"w-5 h-5 text-pink-500"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-foreground",children:l.reengageQuickMood||"How are you feeling?"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-5 gap-2",children:p.map(x=>jsxRuntimeExports.jsxs("button",{onClick:()=>g(x.value),className:`p-3 rounded-xl transition-all ${c===x.value?"bg-primary text-primary-foreground scale-110 zen-shadow-sm":"bg-accent hover:bg-accent/80"}`,children:[jsxRuntimeExports.jsx("div",{className:"text-2xl mb-1",children:x.emoji}),jsxRuntimeExports.jsx("div",{className:"text-xs font-medium",children:x.label})]},x.value))}),c&&jsxRuntimeExports.jsxs("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400 text-center",children:[" ",l.reengageMoodLogged||"Mood logged!"]})]}),jsxRuntimeExports.jsx("button",{onClick:y,className:"w-full py-3 px-4 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors zen-shadow-sm",children:l.reengageContinue||"Let's continue!"})]})]})})}const LAST_ACTIVE_KEY="zenflow_last_active_date",WELCOME_BACK_SHOWN_KEY="zenflow_welcome_back_shown",ABSENCE_THRESHOLD_DAYS=3;function updateLastActiveDate(){const e=getToday$1();localStorage.setItem(LAST_ACTIVE_KEY,e)}function getLastActiveDate(){return localStorage.getItem(LAST_ACTIVE_KEY)}function getDaysSinceLastActive(){const e=getLastActiveDate();if(!e)return 0;const r=new Date(getToday$1()),i=new Date(e),n=Math.abs(r.getTime()-i.getTime());return Math.ceil(n/(1e3*60*60*24))}function shouldShowWelcomeBack(){if(getDaysSinceLastActive()<ABSENCE_THRESHOLD_DAYS)return!1;const r=localStorage.getItem(WELCOME_BACK_SHOWN_KEY),i=getLastActiveDate();return r!==i}function markWelcomeBackShown(){const e=getLastActiveDate();e&&localStorage.setItem(WELCOME_BACK_SHOWN_KEY,e),updateLastActiveDate()}function calculateHabitSuccessRates(e){const r=getToday$1();return e.map(n=>{const a=Math.ceil((new Date(r).getTime()-n.createdAt)/864e5),o=Math.min(a,30);if(o===0)return{habit:n,successRate:0};const c=(n.completedDates?.length||0)/o*100;return{habit:n,successRate:c}}).sort((n,a)=>a.successRate-n.successRate)}function wasStreakBroken(e,r,i){if(e===0&&r>=ABSENCE_THRESHOLD_DAYS)return!0;const n=getLastActiveDate();if(!n)return!1;getToday$1();const a=new Date(n);for(let o=1;o<r;o++){const l=new Date(a);l.setDate(l.getDate()+o);const c=l.toISOString().split("T")[0];if(i.includes(c))return!1}return e===0}const AppUpdate=registerPlugin("AppUpdate",{web:()=>__vitePreload(()=>import("./AppUpdateWeb-D9cNaS2C.js"),[]).then(e=>new e.AppUpdateWeb)}),GOOGLE_PLAY_URL="https://play.google.com/store/apps/details?id=com.zenflow.app";function compareVersions(e,r){const i=e.split(".").map(Number),n=r.split(".").map(Number);for(let a=0;a<Math.max(i.length,n.length);a++){const o=i[a]||0,l=n[a]||0;if(o>l)return 1;if(o<l)return-1}return 0}async function checkVersionFromRemote(){if(!supabase)return null;try{const{data:e,error:r}=await supabase.from("app_config").select("value").eq("key","app_version").single();return r?(logger.error("[AppUpdate] Failed to fetch remote version:",r),null):e?.value||null}catch(e){return logger.error("[AppUpdate] Remote version check failed:",e),null}}async function openGooglePlayStore(){try{if(Capacitor.isNativePlatform()){const e="market://details?id=com.zenflow.app";try{return await App$1.openUrl({url:e}),logger.log("[AppUpdate] Opened Google Play Store via market://"),!0}catch{return await App$1.openUrl({url:GOOGLE_PLAY_URL}),logger.log("[AppUpdate] Opened Google Play Store via HTTPS"),!0}}else return window.open(GOOGLE_PLAY_URL,"_blank"),logger.log("[AppUpdate] Opened Google Play Store in browser"),!0}catch(e){return logger.error("[AppUpdate] Failed to open Google Play Store:",e),!1}}const getPriorityLevel=(e,r)=>r>=7?"critical":r>=3?"high":e>=5?"critical":e>=3?"high":e>=2?"medium":"low";async function checkForAppUpdate(){if(!Capacitor.isNativePlatform())return{available:!1,priority:"low",checked:!0,stalenessDays:0};try{const e=await AppUpdate.checkForUpdate();logger.log("[AppUpdate] Google Play check result:",{updateAvailable:e.updateAvailable,priority:e.updatePriority,stalenessDays:e.stalenessDays,immediateAllowed:e.immediateAllowed});const r=getPriorityLevel(e.updatePriority,e.stalenessDays);return{available:e.updateAvailable,priority:r,checked:!0,stalenessDays:e.stalenessDays,useFallback:!1}}catch(e){return e instanceof Error&&e.message,await checkForAppUpdateFallback()}}async function checkForAppUpdateFallback(){const e=await checkVersionFromRemote();if(!e)return{available:!1,priority:"low",checked:!0,stalenessDays:0,useFallback:!0,error:"Could not check for updates"};const{latestVersion:r,minVersion:i,forceUpdate:n,releaseNotes:a}=e,o=APP_VERSION,l=compareVersions(r,o)>0,c=compareVersions(i,o)>0;let d="low";return n||c?d="critical":l&&(d="medium"),{available:l,priority:d,checked:!0,stalenessDays:0,useFallback:!0,latestVersion:r,releaseNotes:a}}async function startAppUpdate(e=!0){try{return e?(await AppUpdate.startImmediateUpdate(),logger.log("[AppUpdate] Immediate update started")):(await AppUpdate.startFlexibleUpdate(),logger.log("[AppUpdate] Flexible update started")),!0}catch(r){const i=r instanceof Error?r.message:"Unknown error";return logger.error("[AppUpdate] Start update failed:",i),!1}}const DISMISSED_KEY="zenflow-update-dismissed";function wasUpdateDismissed(){try{return sessionStorage.getItem(DISMISSED_KEY)==="true"}catch{return!1}}function dismissUpdate(){try{sessionStorage.setItem(DISMISSED_KEY,"true")}catch{}}function UpdatePrompt({updateState:e,onDismiss:r}){const{t:i,language:n}=useLanguage(),[a,o]=reactExports.useState(!1);if(!e.available||!e.checked)return null;const l=e.priority==="critical"||e.priority==="high",c=e.useFallback??!1,d=async()=>{haptics.buttonPress(),o(!0);try{c?await openGooglePlayStore():await startAppUpdate(!0)}finally{o(!1)}},p=()=>{haptics.buttonPress(),dismissUpdate(),r()},g=i.updateAvailable||"Update Available";let y;l?y=i.updateDescriptionCritical||"A critical update is required to continue using the app.":c&&e.latestVersion?y=(i.updateDescriptionVersion||"Version {version} is available with improvements and fixes.").replace("{version}",e.latestVersion):y=i.updateDescription||"A new version is ready to install with improvements and fixes.";const x=c?i.openGooglePlay||"Open Google Play":i.updateNow||"Update Now",S=c?ExternalLink:Download;return jsxRuntimeExports.jsx("div",{className:"fixed inset-x-4 top-4 z-[200] animate-slide-down",style:{top:"calc(env(safe-area-inset-top) + 1rem)"},children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground rounded-2xl p-4 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:jsxRuntimeExports.jsx(Download,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-lg",children:[g,e.latestVersion&&jsxRuntimeExports.jsxs("span",{className:"text-sm opacity-80 ml-2",children:["v",e.latestVersion]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90 mt-0.5",children:y}),e.releaseNotes&&jsxRuntimeExports.jsx("p",{className:"text-xs opacity-70 mt-1 line-clamp-2",children:typeof e.releaseNotes=="string"?e.releaseNotes:e.releaseNotes[n]||e.releaseNotes.en||""})]}),!l&&jsxRuntimeExports.jsx("button",{onClick:p,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Dismiss",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("button",{onClick:d,disabled:a,className:"mt-3 w-full py-2.5 bg-white/20 hover:bg-white/30 disabled:opacity-50 rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(S,{className:`w-4 h-4 ${a?"animate-pulse":""}`}),a?i.loading||"Loading...":x]}),!c&&e.stalenessDays>0&&jsxRuntimeExports.jsx("p",{className:"text-xs text-center opacity-70 mt-2",children:i.updateAvailableFor?.replace("{days}",String(e.stalenessDays))||`Available for ${e.stalenessDays} days`})]})})}const StatsPage=reactExports.lazy(()=>__vitePreload(()=>import("./StatsPage-B40M1rjE.js"),__vite__mapDeps([12,1,2,3,4,5])).then(e=>({default:e.StatsPage}))),SettingsPanel=reactExports.lazy(()=>__vitePreload(()=>import("./SettingsPanel-TXSs386E.js").then(e=>e.S),__vite__mapDeps([13,1,2,14,15])).then(e=>({default:e.SettingsPanel}))),GratitudeJournal=reactExports.lazy(()=>__vitePreload(()=>import("./GratitudeJournal-BecVoJFF.js"),__vite__mapDeps([16,1,2,3,4,5])).then(e=>({default:e.GratitudeJournal}))),BreathingExercise=reactExports.lazy(()=>__vitePreload(()=>import("./BreathingExercise-Dem_gfJS.js"),__vite__mapDeps([17,1,2,3,4,5])).then(e=>({default:e.BreathingExercise}))),ChallengesPanel=reactExports.lazy(()=>__vitePreload(()=>import("./ChallengesPanel-BuRwV57O.js"),__vite__mapDeps([18,1,2,3,4,5])).then(e=>({default:e.ChallengesPanel}))),TasksPanel=reactExports.lazy(()=>__vitePreload(()=>import("./TasksPanel-BmVeYiYQ.js"),__vite__mapDeps([19,1,2,3,4,5])).then(e=>({default:e.TasksPanel}))),QuestsPanel=reactExports.lazy(()=>__vitePreload(()=>import("./QuestsPanel-CSKT8s3S.js"),__vite__mapDeps([20,1,2,3,4,5])).then(e=>({default:e.QuestsPanel}))),WidgetSettings=reactExports.lazy(()=>__vitePreload(()=>import("./WidgetSettings-DOTvm1ns.js"),__vite__mapDeps([21,1,2,15,3,4,5])).then(e=>({default:e.WidgetSettings}))),Leaderboard=reactExports.lazy(()=>__vitePreload(()=>import("./Leaderboard-CM7j2gvZ.js"),__vite__mapDeps([22,1,2,14,5,3,4])).then(e=>({default:e.Leaderboard})));function Index(){const{t:e,language:r}=useLanguage(),{setEmotionFromEntries:i}=useEmotionTheme(),{syncFocusSession:n}=useHealthConnect(),[a,o]=reactExports.useState("home"),l=reactExports.useRef(null),[c,d]=reactExports.useState({isInitializing:!0,error:null,wasUpdated:!1});reactExports.useEffect(()=>{(async()=>{initializeOfflineQueueHandlers(),localStorage.getItem("zenflow_oled_mode")==="true"&&document.documentElement.classList.add("oled");const ke=await initializeApp();if(!ke.success){d({isInitializing:!1,error:ke.error||"Initialization failed",wasUpdated:ke.wasUpdated});return}ke.wasUpdated?setTimeout(()=>{d({isInitializing:!1,error:null,wasUpdated:!0})},1e3):d({isInitializing:!1,error:null,wasUpdated:!1})})()},[]);const[p,g]=reactExports.useState(getToday$1());reactExports.useEffect(()=>{const J=()=>{const Oe=getToday$1();Oe!==p&&g(Oe)},ke=setInterval(J,6e4),Re=()=>J();return window.addEventListener("focus",Re),()=>{clearInterval(ke),window.removeEventListener("focus",Re)}},[p]);const y=reactExports.useRef(null),x=reactExports.useRef(null),S=reactExports.useRef(null),b=reactExports.useRef(null),T=reactExports.useCallback(J=>{({mood:y,habits:x,focus:S,gratitude:b})[J]?.current?.scrollIntoView({behavior:"smooth",block:"center"})},[]),{onAction:N}=useQuickActions(),{stats:k,gamificationState:C,userLevel:A,awardXp:R}=useGamification(),{world:I,isLoading:F,plantSeed:z,waterPlants:B,attractCreature:Z,feedCreatures:re,setCompanionType:U,renameCompanion:q,clearWelcomeBack:Y,petCompanion:fe,feedCompanion:Q,gardenStats:H,earnTreats:G,treatsBalance:_,FEED_COST:O,isRestMode:V,activateRestMode:W,deactivateRestMode:K,canActivateRestMode:Ee,daysUntilRestAvailable:Se}=useInnerWorld(),[Ce,De]=reactExports.useState(!1),Fe=reactExports.useRef(new Set),[qe,Je]=reactExports.useState(void 0),[et,Ke]=reactExports.useState(!1),[ct,Ve]=reactExports.useState(!1),[Me,at]=reactExports.useState(!1),[st,ot]=reactExports.useState(!1),[lt,Ae]=reactExports.useState(void 0),[Ne,He]=reactExports.useState(!1),[Qe,Ue]=reactExports.useState(!1),[it,Pe]=reactExports.useState(!1),[ze,Ye]=reactExports.useState(()=>getChallenges()),[Tt,At]=reactExports.useState(()=>getBadges()),[Nt,ts]=reactExports.useState(!1),[as,Zt]=reactExports.useState(null),[It,Mt]=reactExports.useState(!1),[Et,ls]=reactExports.useState(null),[ss,cs]=reactExports.useState(null),[Qt,Jt]=reactExports.useState(!1),[rs,Ct]=reactExports.useState(void 0),[us,Ge]=reactExports.useState(!1),[We,rt,Lt]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-language-selected",initialValue:!1,idField:"key"}),[ft,gt,Bt]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-username",initialValue:"Friend",idField:"key"}),[Rt,Dt,zt]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-username-custom",initialValue:!1,idField:"key"}),[Gt,is,ds]=useIndexedDB({table:db.moods,localStorageKey:"zenflow-moods",initialValue:[]}),[ns,Kt,Vt]=useIndexedDB({table:db.habits,localStorageKey:"zenflow-habits",initialValue:[]}),[ps,hs,ms]=useIndexedDB({table:db.focusSessions,localStorageKey:"zenflow-focus",initialValue:[]}),[fs,bs,Be]=useIndexedDB({table:db.gratitudeEntries,localStorageKey:"zenflow-gratitude",initialValue:[]}),[$,je,Le]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-reminders",initialValue:defaultReminderSettings,idField:"key"}),[dt,St,pt]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-tutorial-complete",initialValue:!1,idField:"key"}),[ut,qt,os]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-onboarding-complete",initialValue:!1,idField:"key"}),[gs,kt,vs]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-notification-permission-checked",initialValue:!1,idField:"key"}),[Es,xs,Ys]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-google-auth-checked",initialValue:!1,idField:"key"}),[Cs,Gs,Ks]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-privacy",initialValue:{noTracking:!1,analytics:!1,consentShown:!1},idField:"key"}),Xs=J=>{Gs({...Cs,analytics:J,noTracking:!J,consentShown:!0})},[js,Ws,Js]=useIndexedDB({table:db.settings,localStorageKey:"zenflow-schedule-events",initialValue:[],idField:"key"}),Xt=Lt||Bt||zt||ds||Vt||ms||Be||Le||pt||os||Ks||vs||Ys||Js||F,vt=Array.isArray(Gt)?Gt:[],Ze=Array.isArray(ns)?ns:[],ht=Array.isArray(ps)?ps:[],Ht=Array.isArray(fs)?fs:[],Ss=Array.isArray(js)?js:[],Rs=Array.isArray(Tt)?Tt:[];reactExports.useEffect(()=>registerModalCloseCallback(()=>Qe?(Ue(!1),!0):it?(Pe(!1),!0):Me?(at(!1),!0):st?(ot(!1),!0):ct?(Ve(!1),!0):Ce?(De(!1),!0):et?(Ke(!1),!0):Ne?(He(!1),!0):Qt?(Jt(!1),!0):It?(Mt(!1),!0):Nt?(ts(!1),!0):!1),[Qe,it,Me,st,ct,Ce,et,Ne,Qt,It,Nt]),reactExports.useEffect(()=>{if(Le)return;if($.moodTime&&!$.moodTimeMorning){const ke=$.moodTime||"09:00";je(Re=>({...defaultReminderSettings,...Re,moodTimeMorning:ke,moodTimeAfternoon:"14:00",moodTimeEvening:"20:00",moodTime:void 0}))}else $.moodTimeMorning||je(ke=>({...defaultReminderSettings,...ke}))},[Le,$.moodTime,$.moodTimeMorning,je]);const er=J=>{const ke={...J,id:generateId$1(),source:"manual",isEditable:!0};Ws(Re=>[...Re,ke])},tr=J=>{Ds.find(Re=>Re.id===J)?.source!=="habit"&&Ws(js.filter(Re=>Re.id!==J))};reactExports.useMemo(()=>Ss.filter(J=>J.date===p),[Ss,p]);const Vs=reactExports.useMemo(()=>generateHabitScheduleEvents(Ze,7),[Ze]),Ds=reactExports.useMemo(()=>mergeScheduleEvents(Ss,Vs),[Ss,Vs]),Ps=reactExports.useMemo(()=>Ds.filter(J=>J.date===p),[Ds,p]),ws=reactExports.useMemo(()=>vt.some(J=>J.date===p),[vt,p]),ks=reactExports.useMemo(()=>ht.some(J=>J.date===p),[ht,p]),Ts=reactExports.useMemo(()=>Ht.some(J=>J.date===p),[Ht,p]),Ns=reactExports.useMemo(()=>Ze.length===0?!1:Ze.some(J=>{const ke=J.type||"daily";return ke==="continuous"?!1:ke==="multiple"?(J.completionsByDate?.[p]??0)<(J.dailyTarget??1):!J.completedDates?.includes(p)}),[Ze,p]),sr=reactExports.useMemo(()=>Ze.filter(J=>{const ke=J.type||"daily";return ke==="reduce"?(J.progressByDate?.[p]??0)===0:ke==="multiple"?(J.completionsByDate?.[p]??0)>=(J.dailyTarget??1):ke==="continuous"?!J.failedDates?.includes(p):J.completedDates?.includes(p)}).length,[Ze,p]),ys=reactExports.useMemo(()=>ws?Ns?"habits":ks?Ts?"complete":"gratitude":"focus":"mood",[ws,Ns,ks,Ts]),qs=reactExports.useMemo(()=>ht.filter(J=>J.date.startsWith(p)).reduce((J,ke)=>J+(ke.duration||0),0),[ht,p]),rr=reactExports.useMemo(()=>{const J=Rs.filter(Re=>Re.unlocked&&Re.unlockedDate);if(!J.length)return;const ke=J.sort((Re,Oe)=>(Oe.unlockedDate||"").localeCompare(Re.unlockedDate||""))[0];return ke.title?.en||ke.id},[Rs]),ir=reactExports.useMemo(()=>{const J=[...vt.map(Re=>Re.date),...Ze.flatMap(Re=>Re.completedDates||[]),...ht.map(Re=>Re.date),...Ht.map(Re=>Re.date),...I.restDays||[]],ke=[...new Set(J)].sort();return calculateStreak(ke)},[vt,Ze,ht,Ht,I.restDays]);useWidgetSync(ir,ns,qs,rr,ds||Vt||ms||Be||F),reactExports.useEffect(()=>{ds||i(Gt)},[Gt,ds,i]),reactExports.useEffect(()=>{if(Xt||!ut)return;const J=vt.length>0||Ze.length>0||ht.length>0;initializeOnboarding({hasExistingData:J}),updateOnboardingProgress(),shouldShowWelcome()&&ts(!0)},[Xt,ut,vt.length,Ze.length,ht.length]),reactExports.useEffect(()=>{if(!(Xt||!ut||F)&&(updateLastActiveDate(),shouldShowWelcomeBack())){const J=getDaysSinceLastActive(),ke=calculateHabitSuccessRates(Ze),Re=wasStreakBroken(I.currentActiveStreak,J,I.restDays);ls({daysAway:J,streakBroken:Re,currentStreak:I.currentActiveStreak,topHabits:ke}),Mt(!0),markWelcomeBackShown()}},[Xt,ut,F,Ze,I.currentActiveStreak,I.restDays]),reactExports.useEffect(()=>{if(Xt||!ut)return;const J=setTimeout(async()=>{if(!wasUpdateDismissed())try{const ke=await checkForAppUpdate();ke.available&&(logger.log("[AppUpdate] Update available:",ke),cs(ke))}catch{}},3e3);return()=>clearTimeout(J)},[Xt,ut]);const Us=reactExports.useCallback(()=>{const J=Ze.reduce((_e,Xe)=>_e+(Xe.completedDates?.length||0),0),ke=ht.length,Re=vt.length,Oe={habitsCompleted:J,focusSessionsCompleted:ke,moodEntriesCount:Re},Ie=["focusTimer","xp","quests","companion","tasks","challenges"];for(const _e of Ie){const{shouldUnlock:Xe}=checkFeatureUnlock({feature:_e,stats:Oe});if(Xe){unlockFeature(_e),Zt(_e);break}}},[Ze,ht,vt]),As=reactExports.useCallback(()=>{const J=ht.reduce((nt,$t)=>nt+($t.duration||0),0),ke=Ht.length,Re=Ze.reduce((nt,$t)=>nt+($t.completedDates?.length||0),0),Oe=new Set;Ze.forEach(nt=>nt.completedDates?.forEach($t=>Oe.add($t)));let Ie=0;Oe.forEach(nt=>{Ze.every(zs=>zs.completedDates?.includes(nt))&&Ze.length>0&&Ie++});const _e=new Set(vt.map(nt=>nt.date)),Xe=new Set(ht.map(nt=>nt.date)),xt=new Set(Ht.map(nt=>nt.date));let Pt=0;Oe.forEach(nt=>{const $t=_e.has(nt),zs=Xe.has(nt),mr=xt.has(nt),gr=Ze.every(xr=>xr.completedDates?.includes(nt));$t&&gr&&zs&&mr&&Ze.length>0&&Pt++});const mt=safeLocalStorageGet("zenflow-special-badges",{}),Ut={totalFocusMinutes:J,currentStreak:I.currentActiveStreak||0,longestStreak:I.currentActiveStreak||0,habitsCompleted:Re,moodEntries:vt.length,gratitudeEntries:ke,perfectDaysCount:Ie,earlyBirdCount:mt.earlyBirdCount||0,nightOwlCount:mt.nightOwlCount||0,zenMasterDays:Pt},es=syncChallengeProgress(Ut,J,ke);Ye(getChallenges()),es.length>0&&At(getBadges())},[ht,Ht,Ze,vt,I.currentActiveStreak]),Ms=J=>{is(Re=>[...Re,J]),R("mood");const ke=G("mood",5,"Logged mood");triggerXpPopup(ke.earned,"mood"),triggerSync(),haptics.moodSaved(),z("mood",J.mood),B("mood"),As()},$s=reactExports.useCallback(J=>{const ke=getToday$1(),Re={id:generateId$1(),mood:J,date:ke,timestamp:Date.now()};is(Oe=>[...Oe,Re]),R("mood"),G("mood",5,"Quick mood"),triggerSync(),haptics.moodSaved(),z("mood",J),B("mood")},[R,G,z,B,is]),Zs=reactExports.useCallback(()=>{const J=new Date().getHours();let ke={};try{ke=JSON.parse(localStorage.getItem("zenflow-special-badges")||"{}")}catch{}J<8?ke.earlyBirdCount=(ke.earlyBirdCount||0)+1:J>=22&&(ke.nightOwlCount=(ke.nightOwlCount||0)+1),localStorage.setItem("zenflow-special-badges",JSON.stringify(ke))},[]),_s=(J,ke)=>{const Re=`${J}-${ke}`;if(Fe.current.has(Re))return;Fe.current.add(Re),setTimeout(()=>{Fe.current.delete(Re)},500),Kt(Ie=>Ie.map(_e=>{if(_e.id!==J)return _e;const Xe=_e.type||"daily";if(Xe==="reduce"||Xe==="continuous")return _e;if(Xe==="multiple"){const mt={..._e.completionsByDate||{}},Ut=mt[ke]??0,es=_e.dailyTarget??1;if(Ut<es){mt[ke]=Ut+1,R("habit");const $t=G("habit",10,"Completed habit");triggerXpPopup($t.earned,"habit"),haptics.habitToggled(),Zs()}const nt=_e.completedDates||[];return{..._e,completionsByDate:mt,completedDates:mt[ke]>=es?[...new Set([...nt,ke])]:nt.filter($t=>$t!==ke)}}const xt=_e.completedDates||[],Pt=xt.includes(ke);if(!Pt){R("habit");const mt=G("habit",10,"Completed habit");triggerXpPopup(mt.earned,"habit"),haptics.habitCompleted(),Zs(),z("habit"),B("habit")}return{..._e,completedDates:Pt?xt.filter(mt=>mt!==ke):[...xt,ke]}})),triggerSync(),As(),Us(),updateAllQuestsProgress({type:"habit_completed",value:1}).forEach(Ie=>{const _e=Ie.reward.xp;G("habit",_e,`Quest: ${Ie.title}`),triggerXpPopup(_e,"bonus")})},Is=(J,ke,Re)=>{Kt(Oe=>Oe.map(Ie=>{if(Ie.id!==J||(Ie.type||"daily")!=="reduce")return Ie;const _e={...Ie.progressByDate||{}},Xe=typeof _e[ke]=="number"?_e[ke]:0,xt=Math.max(0,Xe+Re);return _e[ke]=xt,{...Ie,progressByDate:_e}})),triggerSync()},Fs=J=>{Kt(ke=>[...ke,J]),triggerSync()},Ls=J=>{Kt(ke=>ke.filter(Re=>Re.id!==J)),triggerSync()},Os=J=>{hs(Ie=>[...Ie,J]),R("focus");const ke=Math.round(J.duration*.5),Re=G("focus",ke,`Focus ${J.duration}min`);if(triggerXpPopup(Re.earned,"focus"),triggerSync(),haptics.focusCompleted(),J.duration>=5&&setTimeout(()=>Jt(!0),500),J.status==="completed"&&localStorage.getItem("zenflow_health_connect_sync")==="true"){const Ie=J.completedAt-J.duration*60*1e3;n(J.id,Ie,J.duration,J.label)}z("focus"),B("focus"),As(),Us(),updateAllQuestsProgress({type:"focus_completed",value:J.duration}).forEach(Ie=>{const _e=Ie.reward.xp;G("focus",_e,`Quest: ${Ie.title}`),triggerXpPopup(_e,"bonus")})},Hs=J=>{bs(Oe=>[...Oe,J]),R("gratitude");const ke=G("gratitude",8,"Gratitude entry");triggerXpPopup(ke.earned,"gratitude"),triggerSync(),haptics.gratitudeSaved(),z("gratitude"),B("gratitude"),Math.random()<.3&&Z(),re(),As(),updateAllQuestsProgress({type:"gratitude_added",value:1}).forEach(Oe=>{const Ie=Oe.reward.xp;G("gratitude",Ie,`Quest: ${Oe.title}`),triggerXpPopup(Ie,"bonus")})},nr=reactExports.useCallback(()=>{const J=G("mindful",1,"Mindful Moment");triggerXpPopup(J.earned,"mindful")},[G]),ar=reactExports.useCallback(J=>{Ct(J),b.current?.scrollIntoView({behavior:"smooth",block:"center"})},[]),Bs=reactExports.useCallback(()=>{Ct(void 0)},[]),or=()=>{is([]),Kt([]),hs([]),bs([]),gt("Friend"),Dt(!1),qt(!1),rt(!1)},lr=()=>{rt(!0)},cr=J=>{gt(J),Dt(!0)},dr=J=>{logger.log("[Index] Google auth completed:",J.email),Ge(!0),gt(J.name),Dt(!1),xs(!0)},ur=()=>{Ge(!0),xs(!0)},pr=J=>{if(!J.skipped){if(J.mood){const Re=getToday$1();is(Oe=>[...Oe.filter(_e=>_e.date!==Re),{id:generateId$1(),mood:J.mood,date:Re,timestamp:Date.now()}])}let ke=[];if(J.habits.length>0){const Re=new Map(Ze.map(Ie=>[Ie.name.toLowerCase(),Ie.id])),Oe=[];J.habits.forEach(Ie=>{const _e=Ie.name.toLowerCase(),Xe=Re.get(_e);if(Xe){ke.push(Xe);return}const xt={id:generateId$1(),name:Ie.name,icon:Ie.icon,color:Ie.color,templateId:Ie.id,completedDates:[],createdAt:Date.now(),type:"daily",reminders:[],frequency:"daily"};Oe.push(xt),ke.push(xt.id)}),Oe.length>0&&Kt(Ie=>[...Ie,...Oe])}if(ke.length>0&&je(Re=>({...Re,habitIds:ke})),J.enableReminders){const Re=J.reminderTime==="morning";je(Oe=>({...Oe,enabled:!0,moodTimeMorning:Re?"09:00":"08:00",moodTimeAfternoon:"14:00",moodTimeEvening:Re?"19:00":"20:00",habitTime:Re?"20:00":"21:00",focusTime:Re?"10:00":"11:00",habitIds:ke.length>0?ke:Oe.habitIds}))}}qt(!0)},hr=()=>{kt(!0)},Qs=reactExports.useMemo(()=>{const J=new Map(Ze.map(Oe=>[Oe.id,Oe.name])),ke=$.habitIds.map(Oe=>J.get(Oe)).filter(Boolean),Re=ke.length===0?e.reminderHabitBody:`${e.reminderHabitBody} ${ke.join(", ")}`;return{mood:{title:e.reminderMoodTitle,body:e.reminderMoodBody},habit:{title:e.reminderHabitTitle,body:Re},focus:{title:e.reminderFocusTitle,body:e.reminderFocusBody}}},[Ze,$.habitIds,e]);return reactExports.useEffect(()=>{Ze.length!==0&&Kt(J=>{let ke=!1;const Re=J.map(Oe=>{const Ie=normalizeHabit(Oe),_e=Ie.templateId||findTemplateIdByName(Ie.name);if(!_e)return Ie!==Oe&&(ke=!0),Ie;const Xe=getHabitTemplateName(_e,r);return Ie.name!==Xe||Ie.templateId!==_e||Ie!==Oe?(ke=!0,{...Ie,name:Xe,templateId:_e}):(Ie!==Oe&&(ke=!0),Ie)});return ke?Re:J})},[r,Ze.length,Kt]),reactExports.useEffect(()=>{if(!supabase)return;const J=window.setTimeout(()=>{syncReminderSettings($,r).catch(ke=>{logger.error("Failed to sync reminder settings:",ke)})},500);return()=>window.clearTimeout(J)},[$,r]),reactExports.useEffect(()=>{isNativePlatform()&&scheduleLocalReminders($,Qs).catch(J=>{logger.error("Failed to schedule local reminders:",J)})},[$,Qs]),reactExports.useEffect(()=>{isNativePlatform()&&scheduleHabitReminders(ns,{reminderTitle:e.reminderHabitTitle,reminderBody:e.reminderHabitBody}).catch(J=>{logger.error("Failed to schedule habit reminders:",J)})},[ns,e.reminderHabitTitle,e.reminderHabitBody]),reactExports.useEffect(()=>{!isNativePlatform()||F||scheduleCompanionReminders($,{type:I.companion.type,name:I.companion.name},{companionMissesYou:e.companionMissesYou||"misses you! ",companionWantsToPlay:e.companionWantsToPlay||"wants to spend time with you!",companionWaiting:e.companionWaiting||"is waiting in the garden ",companionProud:e.companionProud||"is proud of you! ",companionCheersYou:e.companionCheersYou||"is cheering for you! "}).catch(J=>{logger.error("Failed to schedule companion reminders:",J)})},[$,I.companion,F,e]),reactExports.useEffect(()=>{isNativePlatform()&&initializeNotificationChannel().catch(J=>{logger.error("Failed to initialize notification channel:",J)})},[]),reactExports.useEffect(()=>{if(!isNativePlatform())return;let J=null;return(async()=>{await registerMoodNotificationActions(),J=await setupNotificationActionListener(),setMoodActionCallback($s)})().catch(Re=>{logger.error("Failed to setup mood notification actions:",Re)}),()=>{J&&J()}},[$s]),reactExports.useEffect(()=>{if(!isNativePlatform()||F||!$.enabled)return;scheduleMoodQuickLogNotification((ke=>{const[Re,Oe]=ke.split(":").map(Number);return{hour:Re,minute:Oe}})($.moodTimeMorning),{type:I.companion.type,name:I.companion.name},e.companionQuickMood||"How are you feeling? Tap! ").catch(ke=>{logger.error("Failed to schedule mood quick-log notification:",ke)})},[$.enabled,$.moodTimeMorning,I.companion,F,e.companionQuickMood]),reactExports.useEffect(()=>{N(J=>{o("home"),setTimeout(()=>{switch(J){case"mood":T("mood");break;case"focus":T("focus");break;case"habits":T("habits");break}},100)})},[N,T]),reactExports.useEffect(()=>{if(!isNativePlatform())return;let J=()=>{};const ke=async Ie=>{if(Ie.includes("login-callback")){if(!supabase){setPendingAuthUrl(Ie);return}try{await handleAuthCallback(supabase,Ie);const{data:_e}=await supabase.auth.getSession();if(_e.session?.user){const Xe=_e.session.user.user_metadata,xt=Xe?.full_name||Xe?.name||_e.session.user.email?.split("@")[0]||"Friend",Pt=_e.session.user.email||"";logger.log("[Auth] OAuth callback successful:",Pt),Ge(!0),notifyAuthComplete(),gt(xt),Dt(!1),xs(!0)}}catch(_e){logger.error("[Index] Failed to handle auth callback:",_e)}}},Re=Ie=>{try{const _e=new URL(Ie),Xe=_e.protocol==="zenflow:"&&_e.hostname==="challenge",xt=_e.hostname==="zenflow.app"&&_e.pathname.startsWith("/challenge");if(Xe||xt){const Pt=_e.searchParams.get("data");if(Pt){const mt=decodeInviteData(Pt);if(mt)return logger.log("[Index] Challenge invite received:",mt.code),Ae(mt),ot(!0),!0}}}catch(_e){logger.error("[Index] Failed to parse challenge URL:",_e)}return!1};return(async()=>{try{const _e=await App$1.getLaunchUrl();_e?.url&&(logger.log("[Index] Launch URL found:",_e.url),Re(_e.url)||await ke(_e.url))}catch(_e){logger.error("[Index] Failed to read launch URL:",_e)}const Ie=await App$1.addListener("appUrlOpen",_e=>{_e?.url&&(logger.log("[Index] appUrlOpen event:",_e.url),Re(_e.url)||ke(_e.url))});J=()=>Ie.remove()})(),()=>{J()}},[]),reactExports.useEffect(()=>{if(!supabase||!isNativePlatform())return;let J=!0;const ke=getPendingAuthUrl();return ke&&(async()=>{try{if(await handleAuthCallback(supabase,ke),!J)return;const{data:Re}=await supabase.auth.getSession();if(!J)return;if(Re.session?.user){const Oe=Re.session.user.user_metadata,Ie=Oe?.full_name||Oe?.name||Re.session.user.email?.split("@")[0]||"Friend",_e=Re.session.user.email||"";logger.log("[Auth] Pending auth processed successfully:",_e),Ge(!0),notifyAuthComplete(),gt(Ie),Dt(!1),xs(!0)}}catch(Re){logger.error("[Index] Failed to process pending auth:",Re)}})(),()=>{J=!1}},[supabase,gt,Dt,xs]),reactExports.useEffect(()=>{if(!supabase||Xt)return;let J=!0;const ke=async Oe=>{if(!(!J||!Oe)&&l.current!==Oe){l.current=Oe;try{await syncWithCloud("merge"),startAutoSync()}catch(Ie){logger.error("Cloud sync failed:",Ie)}}};supabase.auth.getSession().then(({data:Oe})=>{Oe.session&&migrateExistingUser(),ke(Oe.session?.user?.id??null)});const{data:Re}=supabase.auth.onAuthStateChange((Oe,Ie)=>{Ie&&migrateExistingUser(),ke(Ie?.user?.id??null)});return()=>{J=!1,Re?.subscription?.unsubscribe?.(),stopAutoSync()}},[Xt]),reactExports.useEffect(()=>{if(Rt||!supabase)return;let J=!0;const ke=async()=>{const{data:Oe}=await supabase.auth.getUser(),Ie=Oe.user?.user_metadata,_e=Ie?.full_name||Ie?.name;!J||!_e||_e!==ft&&gt(_e)};ke();const{data:Re}=supabase.auth.onAuthStateChange(()=>{ke()});return()=>{J=!1,Re?.subscription?.unsubscribe?.()}},[Rt,ft,gt]),reactExports.useEffect(()=>{if(!ut||Xt)return;(()=>{const ke=localStorage.getItem("zenflow-last-weekly-report"),Re=new Date;Re.getDay()===1&&(!ke||(_e=>{const Xe=new Date(_e),xt=new Date(Xe);xt.setDate(Xe.getDate()-(Xe.getDay()===0?6:Xe.getDay()-1)),xt.setHours(0,0,0,0);const Pt=new Date(Re);return Pt.setDate(Re.getDate()-(Re.getDay()===0?6:Re.getDay()-1)),Pt.setHours(0,0,0,0),xt.getTime()!==Pt.getTime()})(ke))&&setTimeout(()=>{Ke(!0),localStorage.setItem("zenflow-last-weekly-report",Re.toISOString())},1e3)})()},[ut,Xt]),reactExports.useEffect(()=>{let J=!0,ke=null,Re=null,Oe=null,Ie=null;return(async()=>{if(supabase)try{const{data:{user:Xe}}=await supabase.auth.getUser();if(!J)return;if(Xe){const{challenges:xt}=await syncChallengesWithCloud(Xe.id);J&&xt&&Ye(xt);const{badges:Pt}=await syncBadgesWithCloud(Xe.id);if(J&&Pt&&At(Pt),!J||(await syncTasks(),await syncQuests(),!J))return;ke=subscribeToChallengeUpdates(Xe.id,mt=>{J&&Ye(Ut=>{const es=Ut.findIndex(nt=>nt.id===mt.id);if(es!==-1){const nt=[...Ut];return nt[es]=mt,nt}return[...Ut,mt]})}),Re=subscribeToBadgeUpdates(Xe.id,mt=>{J&&At(Ut=>{const es=Ut.findIndex(nt=>nt.id===mt.id);if(es!==-1){const nt=[...Ut];return nt[es]=mt,nt}return Ut})}),Oe=subscribeToTaskUpdates(Xe.id,()=>{J&&logger.log("[Index] Tasks updated from cloud")}),Ie=subscribeToQuestUpdates(Xe.id,()=>{J&&logger.log("[Index] Quests updated from cloud")})}}catch(Xe){logger.error("[Index] Cloud sync error:",Xe)}})(),()=>{J=!1,ke?.(),Re?.(),Oe?.(),Ie?.()}},[]),c.isInitializing?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen zen-gradient-hero",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Initializing ZenFlow..."})]})}):c.error?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen zen-gradient-hero p-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md bg-card rounded-3xl p-6 zen-shadow-card space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Initialization Error"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:c.error}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 zen-gradient text-primary-foreground rounded-xl font-semibold hover:opacity-90 transition-opacity",children:"Try Again"})]})}):Xt?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):We?!Es&&!us?jsxRuntimeExports.jsx(GoogleAuthScreen,{onComplete:dr,onSkip:ur}):dt?ut?gs?jsxRuntimeExports.jsxs("div",{className:"min-h-screen zen-gradient-hero",children:[jsxRuntimeExports.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[100] focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-lg focus:shadow-lg",children:e.skipToContent||"Skip to main content"}),jsxRuntimeExports.jsx(MoodBackgroundOverlay,{}),!Cs.consentShown&&ut&&jsxRuntimeExports.jsx(ConsentBanner,{onConsent:Xs}),ss&&ss.available&&jsxRuntimeExports.jsx(UpdatePrompt,{updateState:ss,onDismiss:()=>{dismissUpdate(),cs(null)}}),Nt&&jsxRuntimeExports.jsx(OnboardingOverlay,{onClose:()=>ts(!1)}),as&&jsxRuntimeExports.jsx(FeatureUnlock,{feature:as,onClose:()=>Zt(null)}),It&&Et&&jsxRuntimeExports.jsx(WelcomeBackModal,{daysAway:Et.daysAway,streakBroken:Et.streakBroken,currentStreak:Et.currentStreak,topHabits:Et.topHabits,onClose:()=>Mt(!1),onQuickMoodLog:J=>{const ke={id:generateId$1(),mood:J,date:getToday$1(),timestamp:Date.now()};is(Re=>[...Re,ke]),R("mood"),G("mood",5,"Welcome back mood"),triggerSync()}}),jsxRuntimeExports.jsxs("main",{id:"main-content",role:"main",className:"max-w-lg mx-auto px-4 py-6",style:{paddingBottom:"calc(var(--nav-height) + var(--safe-bottom))"},children:[Ps.length>0&&a!=="settings"&&jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(GlobalScheduleBar,{events:Ps,onTap:()=>o("garden")})}),a==="home"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(InstallBanner,{}),jsxRuntimeExports.jsx(Header,{userName:ft,onOpenChallenges:isFeatureUnlocked("challenges")?()=>at(!0):void 0,onOpenTasks:isFeatureUnlocked("tasks")?()=>Ue(!0):void 0,onOpenQuests:isFeatureUnlocked("quests")?()=>Pe(!0):void 0}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(DayProgressIndicator,{}),jsxRuntimeExports.jsx(RemindersPanel,{reminders:$,onUpdateReminders:je,habits:Ze}),jsxRuntimeExports.jsx(StreakBanner,{moods:vt,habits:Ze,focusSessions:ht,gratitudeEntries:Ht,restDays:I.restDays,onRestMode:W,isRestMode:V,canActivateRestMode:Ee,daysUntilRestAvailable:Se}),jsxRuntimeExports.jsx(QuickStatsRow,{habitsCompleted:sr,habitsTotal:Ze.length,focusMinutes:qs,level:A.level,labels:{habits:e.habits,focus:e.focus,level:e.level||"Level"}}),jsxRuntimeExports.jsx(InsightsPanel,{moods:vt,habits:Ze,focusSessions:ht,compact:!0}),V?jsxRuntimeExports.jsx(RestModeCard,{streak:I.currentActiveStreak,onCancel:K}):ys==="complete"?jsxRuntimeExports.jsx(AllCompleteCelebration,{streak:I.currentActiveStreak}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:y,children:ys==="mood"?jsxRuntimeExports.jsx(EmotionWheel,{entries:vt,onAddEntry:Ms,isPrimaryCTA:!0}):ws?jsxRuntimeExports.jsx(CompletedSection,{title:e.moodRecordedShort||e.moodToday,icon:"",accentColor:"primary",children:jsxRuntimeExports.jsx(EmotionWheel,{entries:vt,onAddEntry:Ms})}):jsxRuntimeExports.jsx(EmotionWheel,{entries:vt,onAddEntry:Ms})}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"h-24 bg-card rounded-3xl animate-pulse"}),children:jsxRuntimeExports.jsx(BreathingExercise,{compact:!0,onComplete:J=>{const ke=G("breathing",5,`Breathing: ${J.name}`);triggerXpPopup(ke.earned,"breathing"),triggerSync()}})}),jsxRuntimeExports.jsx("div",{ref:x,children:ys==="habits"?jsxRuntimeExports.jsx(HabitTracker,{habits:Ze,onToggleHabit:_s,onAdjustHabit:Is,onAddHabit:Fs,onDeleteHabit:Ls,isPrimaryCTA:!0}):!Ns&&Ze.length>0?jsxRuntimeExports.jsx(CompletedSection,{title:e.habitsCompletedShort||e.habits,icon:"",accentColor:"emerald",children:jsxRuntimeExports.jsx(HabitTracker,{habits:Ze,onToggleHabit:_s,onAdjustHabit:Is,onAddHabit:Fs,onDeleteHabit:Ls})}):jsxRuntimeExports.jsx(HabitTracker,{habits:Ze,onToggleHabit:_s,onAdjustHabit:Is,onAddHabit:Fs,onDeleteHabit:Ls})}),isFeatureUnlocked("focusTimer")&&jsxRuntimeExports.jsx("div",{ref:S,children:ys==="focus"?jsxRuntimeExports.jsx(FocusTimer,{sessions:ht,onCompleteSession:Os,onMinuteUpdate:Je,isPrimaryCTA:!0}):ks?jsxRuntimeExports.jsx(CompletedSection,{title:e.focusCompletedShort||e.focus,icon:"",accentColor:"violet",children:jsxRuntimeExports.jsx(FocusTimer,{sessions:ht,onCompleteSession:Os,onMinuteUpdate:Je})}):jsxRuntimeExports.jsx(FocusTimer,{sessions:ht,onCompleteSession:Os,onMinuteUpdate:Je})}),jsxRuntimeExports.jsx(DailyPromptCard,{onUsePrompt:ar}),jsxRuntimeExports.jsx("div",{ref:b,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"h-32 bg-card rounded-3xl animate-pulse"}),children:ys==="gratitude"?jsxRuntimeExports.jsx(GratitudeJournal,{entries:Ht,onAddEntry:Hs,isPrimaryCTA:!0,initialText:rs,onInitialTextUsed:Bs}):Ts?jsxRuntimeExports.jsx(CompletedSection,{title:e.gratitudeAddedShort||e.gratitude,icon:"",accentColor:"pink",children:jsxRuntimeExports.jsx(GratitudeJournal,{entries:Ht,onAddEntry:Hs,initialText:rs,onInitialTextUsed:Bs})}):jsxRuntimeExports.jsx(GratitudeJournal,{entries:Ht,onAddEntry:Hs,initialText:rs,onInitialTextUsed:Bs})})})]})]})]}),a==="garden"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Header,{userName:ft,onOpenChallenges:isFeatureUnlocked("challenges")?()=>at(!0):void 0,onOpenTasks:isFeatureUnlocked("tasks")?()=>Ue(!0):void 0,onOpenQuests:isFeatureUnlocked("quests")?()=>Pe(!0):void 0}),jsxRuntimeExports.jsx(ScheduleTimeline,{events:Ps,onAddEvent:er,onDeleteEvent:tr}),jsxRuntimeExports.jsx(MoodInsights,{moods:vt,habits:Ze,focusSessions:ht,gratitudeEntries:Ht})]}),a==="stats"&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),children:jsxRuntimeExports.jsx(StatsPage,{moods:vt,habits:Ze,focusSessions:ht,gratitudeEntries:Ht,restDays:I.restDays,currentFocusMinutes:qe})}),a==="achievements"&&jsxRuntimeExports.jsxs("div",{className:"content-with-nav px-4",children:[jsxRuntimeExports.jsx(AchievementsPanel,{stats:k,unlockedAchievements:C.unlockedAchievements}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(Leaderboard,{})})})]}),a==="settings"&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),children:jsxRuntimeExports.jsx(SettingsPanel,{userName:ft,onNameChange:cr,onResetData:or,reminders:$,onRemindersChange:je,habits:Ze,moods:vt,focusSessions:ht,gratitudeEntries:Ht,privacy:Cs,onPrivacyChange:Gs,onOpenWidgetSettings:()=>Ve(!0)})})]}),jsxRuntimeExports.jsx(Navigation,{activeTab:a,onTabChange:o}),et&&jsxRuntimeExports.jsx(WeeklyReport,{moods:vt,habits:Ze,focusSessions:ht,gratitudeEntries:Ht,onClose:()=>Ke(!1)}),ct&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-background flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),children:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-background",children:jsxRuntimeExports.jsx(WidgetSettings,{onBack:()=>Ve(!1)})})}),Me&&isFeatureUnlocked("challenges")&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(ChallengesPanel,{activeChallenges:ze,badges:Rs,onStartChallenge:J=>{addChallenge(J),Ye(getChallenges()),At(getBadges())},onClose:()=>at(!1)})}),Ne&&jsxRuntimeExports.jsx(TimeHelper,{onClose:()=>He(!1)}),Qe&&isFeatureUnlocked("tasks")&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(TasksPanel,{onClose:()=>Ue(!1),onAwardXp:(J,ke)=>{for(let Re=0;Re<Math.ceil(ke/15);Re++)R("habit")},onEarnTreats:(J,ke,Re)=>{G("habit",ke,Re),triggerSync()}})}),it&&isFeatureUnlocked("quests")&&jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(QuestsPanel,{onClose:()=>Pe(!1)})}),isFeatureUnlocked("companion")&&jsxRuntimeExports.jsx(CompanionPanel,{companion:I.companion,isOpen:Ce,onClose:()=>De(!1),onRename:q,onChangeType:U,onPet:fe,onFeed:Q,treatsBalance:_,feedCost:O,streak:I.currentActiveStreak,hasMoodToday:ws,hasHabitsToday:Ze.length>0&&Ze.every(J=>J.completedDates?.includes(p)),hasFocusToday:ks,hasGratitudeToday:Ts}),jsxRuntimeExports.jsx(ChallengeModal,{open:st,onOpenChange:J=>{ot(J),J||Ae(void 0)},initialInvite:lt,username:ft}),jsxRuntimeExports.jsx(WhatsNewModal,{}),jsxRuntimeExports.jsx(MindfulMoment,{isOpen:Qt,onClose:()=>Jt(!1),onComplete:nr,trigger:"focus"})]}):jsxRuntimeExports.jsx(NotificationPermission,{onComplete:hr}):jsxRuntimeExports.jsx(OnboardingFlow,{onComplete:pr}):jsxRuntimeExports.jsx(WelcomeTutorial,{onComplete:()=>St(!0),onSkip:()=>St(!0)}):jsxRuntimeExports.jsx(LanguageSelector,{onComplete:lr})}const NotFound=()=>{const e=useLocation();return reactExports.useEffect(()=>{logger.warn("[404] User attempted to access non-existent route:",e.pathname)},[e.pathname]),jsxRuntimeExports.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),jsxRuntimeExports.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},queryClient=new QueryClient;preloadShareCardAssets();const getBasename=()=>"/people-first-app/",App=()=>jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(LanguageProvider,{children:jsxRuntimeExports.jsx(EmotionThemeProvider,{children:jsxRuntimeExports.jsx(XpPopupProvider,{children:jsxRuntimeExports.jsx(FlyingEmojiProvider,{children:jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsxs(TooltipProvider,{children:[jsxRuntimeExports.jsx(Toaster$1,{}),jsxRuntimeExports.jsx(Toaster,{}),jsxRuntimeExports.jsx(BrowserRouter,{basename:getBasename(),children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})})]})})})})})})});setupAudioUnlock();initAudioManager();initAndroidBackHandler();const isCapacitor=typeof window<"u"&&window.Capacitor?.isNativePlatform?.();if(isCapacitor)try{"serviceWorker"in navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(r=>r.unregister())}).catch(()=>{}),"caches"in window&&window.caches&&window.caches.keys().then(e=>{e.forEach(r=>{(r.includes("workbox")||r.includes("precache")||r.includes("runtime"))&&window.caches.delete(r)})}).catch(()=>{})}catch{}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));export{useHealthConnect as $,AnimatedEmotionEmoji as A,Brain as B,Capacitor as C,Download as D,EMOTION_ORDER as E,Filesystem as F,getHabitCompletedDates as G,Heart as H,calculateStreak as I,MOOD_TO_EMOTION_MAP as J,isHabitCompletedOnDate as K,LoaderCircle as L,Minus as M,getDaysInMonth as N,getHabitCompletionTotal as O,Play as P,safeParseInt as Q,ChevronLeft as R,Sparkles as S,Trophy as T,ChevronUp as U,ChevronDown as V,getEmotionScore as W,X,Check as Y,buttonVariants as Z,__vitePreload as _,Share2 as a,playStreakMilestone as a$,Loader as a0,ExternalLink as a1,RefreshCw as a2,Moon as a3,Shield as a4,safeJsonParse as a5,Zap as a6,Award as a7,Volume2 as a8,VolumeX as a9,getAuthRedirectUrl as aA,syncWithCloud as aB,setCloudSyncEnabled as aC,exportBackup as aD,Encoding as aE,importBackup as aF,getRandomPrompt as aG,getDailyPrompt as aH,getPromptText as aI,CATEGORY_LABELS as aJ,Shuffle as aK,Plus as aL,CircleAlert as aM,gratitudeTextSchema as aN,sanitizeString as aO,generateId$1 as aP,Wind as aQ,Lottie as aR,RotateCcw as aS,generateSecureId as aT,getBadgeById as aU,getRarityColor as aV,Lock as aW,ShareModal as aX,syncOrchestrator as aY,pushTasksToCloud as aZ,taskNameSchema as a_,Music as aa,MessageSquare as ab,Button as ac,APP_VERSION as ad,emailSchema as ae,safeLocalStorageGet as af,supabase as ag,Trash2 as ah,usePwaInstall as ai,isCloudSyncEnabled as aj,useQuickActions as ak,getNotificationSound as al,languageNames as am,languageFlags as an,Palette as ao,Bell as ap,NOTIFICATION_SOUNDS as aq,Cloud as ar,Mail as as,setNotificationSound as at,checkForAppUpdate as au,openGooglePlayStore as av,checkNotificationStatus as aw,sendTestNotification as ax,sanitizeUserName as ay,userNameSchema as az,Directory as b,playSuccess as b0,Star as b1,pushQuestsToCloud as b2,shouldRegenerateQuest as b3,generateDailyQuest as b4,generateWeeklyQuest as b5,generateBonusQuest as b6,getQuestCategoryEmoji as b7,getQuestDifficultyColor as b8,getQuestTimeRemaining as b9,useWidgetData as ba,Info as bb,getCurrentUserId as bc,Sheet as bd,SheetTrigger as be,SheetContent as bf,SheetHeader as bg,SheetTitle as bh,Users as bi,ue as bj,WebPlugin as bk,buildRequestInit as bl,ImpactStyle as bm,NotificationType as bn,purify_es as bo,createLucideIcon as c,Share as d,TrendingUp as e,formatDate$1 as f,cn as g,Flame as h,Clock as i,CircleCheck as j,getEmotionLabels as k,logger as l,getLocale as m,Calendar as n,ChevronRight as o,hapticTap as p,generateWeeklyCard as q,shareImage as r,safeAverage as s,hapticSuccess as t,useLanguage as u,Pause as v,Lightbulb as w,TrendingDown as x,Target as y,getToday$1 as z};
